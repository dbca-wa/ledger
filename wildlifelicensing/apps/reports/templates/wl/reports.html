{% extends 'wl/base.html' %}

{% load static %}

{% load bootstrap3 %}

{% block extra_css %}
    <link href="//cdnjs.cloudflare.com/ajax/libs/select2/3.5.3/select2.min.css" rel="stylesheet"/>
    <link href="//cdnjs.cloudflare.com/ajax/libs/select2-bootstrap-css/1.4.6/select2-bootstrap.min.css"
          rel="stylesheet"/>
    <link href="//cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.7.14/css/bootstrap-datetimepicker.min.css"
          rel="stylesheet"/>

{% endblock %}

{% block requirements %}
    require(['js/report'], function (reports) {
        $(function () { reports.initialise(); });
    });
{% endblock %}

{% block breadcrumbs %}
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <ol class="breadcrumb wl-breadcrumbs">
                    <li><a href="{% url 'home' %}">Home</a></li>
                    <li class="active">Reports</li>
                </ol>
            </div>
        </div>
    </div>
{% endblock %}

{% block content %}
    <div class="container bottom-buffer">
        <div class="row">
            <div class="col-md-12">
                <h2>Reports</h2>
                <hr>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <h3>Applications</h3>
                <form method="get" id="application-form" action="{{ actions.applications }}">
                    {% csrf_token %}
                    <div class="row">
                        <div class="col-md-4">
                            {% bootstrap_field form.from_date %}
                        </div>
                        <div class="col-md-4">
                            {% bootstrap_field form.to_date %}
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-8">
                            <button type=submit class="btn btn-primary">Generate Applications Report</button>
                            <hr>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <h3>Licences</h3>
                <form method="get" id="licence-form" action="{{ actions.licences }}">
                    {% csrf_token %}
                    <div class="row">
                        <div class="col-md-4">
                            {% bootstrap_field form.from_date %}
                        </div>
                        <div class="col-md-4">
                            {% bootstrap_field form.to_date %}
                        </div>
                        <div class="col-md-4">
                            {% bootstrap_field form.regions %}
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-8">
                            <button type=submit class="btn btn-primary">Generate Licences Report</button>
                            <hr>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <h3>Returns</h3>
                <form method="get" id="return-form" action="{{ actions.returns }}">
                    {% csrf_token %}
                    <div class="row">
                        <div class="col-md-4">
                            {% bootstrap_field form.from_date %}
                        </div>
                        <div class="col-md-4">
                            {% bootstrap_field form.to_date %}
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-8">
                            <button type=submit class="btn btn-primary">Generate Returns Report</button>
                            <hr>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <h3>Payments</h3>
                <form method="get" id="payments-form" action="{{ actions.payments }}">
                    {% csrf_token %}
                    <div class="row">
                        <div class="col-md-3">
                            {% bootstrap_field payments_form.start %}
                        </div>
                        <div class="col-md-3">
                            {% bootstrap_field payments_form.end %}
                        </div>
                        <div class="col-md-3">
                            {% bootstrap_field payments_form.banked_start %}
                        </div>
                        <div class="col-md-3">
                            {% bootstrap_field payments_form.banked_end %}
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-8">
                            <button type=submit class="btn btn-primary pull-left" name="items">Generate Report By Accounts</button>
                            <button type=submit class="btn btn-primary pull-right" name="flat">Generate Report Flat</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
{% endblock %}
