{% extends 'wl/applications_base.html' %}

{% load static %}

{% load bootstrap3 %}

{% load application_filters %}

{% block extra_css %}
    <link href="//cdnjs.cloudflare.com/ajax/libs/select2/3.5.3/select2.min.css" rel="stylesheet"/>
    <link href="//cdnjs.cloudflare.com/ajax/libs/select2-bootstrap-css/1.4.6/select2-bootstrap.min.css"
          rel="stylesheet"/>
    <link href="//cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.7.14/css/bootstrap-datetimepicker.min.css"
          rel="stylesheet"/>
    {{ block.super }}
{% endblock %}

{% block requirements %}
    require(['js/entry/create_select_customer', 'js/entry/navigation'], function (create_select_customer, navigation) {
        create_select_customer.init();

        navigation.init('Warning: any information entered into the form will be lost if not saved as draft.',
            {{ application.id }}, 'a, :button', '#breadcrumbsContainer, #contentContainer', "{{ csrf_token }}");
    });
{% endblock %}

{% block breadcrumbs %}
    <div id="breadcrumbsContainer" class="container">
        <div class="row">
            <div class="col-md-12">
                <ol class="breadcrumb wl-breadcrumbs">
                    <li><strong>{{ application|get_application_verb }} Application</strong></li>
                    <li class="active">Select or Create Customer</li>
                </ol>
            </div>
        </div>
    </div>
{% endblock %}

{% block intro_title %}<h3>Select or Create Customer</h3>{% endblock %}
{% block intro_subtitle %}<h4>Select or create the customer for whom the application is being applied on behalf of.</h4>{% endblock %}

{% block content %}
    <div id="contentContainer" class="container bottom-buffer">
        <div class="row">
            <div class="col-md-12">
                <form method="post">
                    {% csrf_token %}
                    <div class="form-group">
                        <label>Select Customer</label>
                        <input type="hidden" name="customer" id="searchCustomer" class="form-control" />
                    </div>
                    <button type="submit" class="btn btn-primary pull-right" id="select" name="select" disabled="True">Select Customer</button>
                </form>
            </div>
        </div>
        <div class="row top-buffer">
            <div class="col-md-12">
                <label>Create Customer</label>
                <div class="panel panel-default">
                    <div class="panel-body">
                        <div class="panel">
                            <form method="post">
                                {% csrf_token %}
                                {% bootstrap_form create_customer_form %}
                                <button type="submit" class="btn btn-primary pull-right" name="create">Create Customer</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}