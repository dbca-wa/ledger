webpackJsonp([1],[,,,function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.helpers=t.api_endpoints=void 0;var o=a(60),r=s(o),n=a(61),l=s(n);t.api_endpoints=r.default,t.helpers=l.default},,,,function(e,t,a){a(345);var s=a(2)(a(269),a(458),null,null);e.exports=s.exports},,,,,,,,,,,,,function(e,t,a){a(358);var s=a(2)(a(235),a(471),"data-v-ce567b80",null);e.exports=s.exports},function(e,t,a){a(355);var s=a(2)(a(267),a(468),null,null);e.exports=s.exports},function(e,t,a){a(327);var s=a(2)(a(268),a(434),"data-v-130270c6",null);e.exports=s.exports},,,,,,,function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t,a){this.tableElement="string"==typeof e?(0,d.default)(e):e,this.api=this.tableElement.dataTable().api(),this.columnIndexes=[],this.columnsShownIndexes=[],this.columnsHiddenIndexes=[],this.currentBreakpoint="",this.lastBreakpoint="",this.lastColumnsHiddenIndexes=[];var s=window.location.pathname.split("/").pop(),o=this.api.settings().context[0];this.tableId=o.sTableId,this.saveState=o.oInit.bStateSave,this.cookieName="DataTablesResponsiveHelper_"+this.tableId+(s?"_"+s:""),this.lastStateExists=!1,this.expandColumn=void 0,this.origBreakpointsDefs=void 0,this.breakpoints={},this.options={hideEmptyColumnsInRowDetail:!1,clickOn:"icon",showDetail:null,hideDetail:null},this.expandIconTemplate='<span class="responsiveExpander"></span>',this.rowTemplate='<tr class="row-detail"><td><ul>\x3c!--column item--\x3e</ul></td></tr>',this.rowLiTemplate='<li><span class="columnTitle">\x3c!--column title--\x3e</span>: <span class="columnValue">\x3c!--column value--\x3e</span></li>',this.disabled=!0,this.skipNextWindowsWidthChange=!1,this.init(t,a)}var r=a(4),n=s(r),l=a(68),i=s(l),c=a(1),d=s(c);o.prototype.init=function(e,t){this.origBreakpointsDefs=e,this.initBreakpoints(),this.disable(!1),d.default.extend(this.options,t)},o.prototype.initBreakpoints=function(){if(this.saveState&&this.getState(),!this.lastStateExists){var e=[];for(var t in this.origBreakpointsDefs)e.push({name:t,upperLimit:this.origBreakpointsDefs[t],columnsToHide:[]});e.sort(function(e,t){return e.upperLimit-t.upperLimit});for(var a=0,s=0;s<e.length;s++)e[s].lowerLimit=a,a=e[s].upperLimit;e.push({name:"always",lowerLimit:a,upperLimit:1/0,columnsToHide:[]}),this.breakpoints={};var s,o;for(s=0,o=e.length;s<o;s++)this.breakpoints[e[s].name]=e[s];var r=this.api.columns().header(),n=[];for(s=0,o=r.length;s<o;s++)this.api.column(s).visible()&&(this.columnIndexes.push(s),n.push(r[s]));for(var l=0;l<n.length;l++){var i=(0,d.default)(n[l]);"expand"===i.attr("data-class")&&(this.expandColumn=this.columnIndexes[l]);var c=i.attr("data-hide");if(void 0!==c)for(var p=c.split(/,\s*/),s=0;s<p.length;s++){var u=p[s];if("always"===u)for(var t in this.breakpoints)"default"!==this.breakpoints[t].name&&this.breakpoints[t].columnsToHide.push(this.columnIndexes[l]);else void 0!==this.breakpoints[u]&&this.breakpoints[u].columnsToHide.push(this.columnIndexes[l])}}}},o.prototype.setWindowsResizeHandler=function(e){if(void 0===e&&(e=!0),e){var t=this;(0,d.default)(window).bind("resize",function(){t.respond()})}else(0,d.default)(window).unbind("resize")},o.prototype.respond=function(){if(!this.disabled){var e=this,t=(0,d.default)(window).width(),a=[];for(var s in this.breakpoints){var r=this.breakpoints[s];(!r.lowerLimit||t>r.lowerLimit)&&(!r.upperLimit||t<=r.upperLimit)&&(this.currentBreakpoint=r.name,a=r.columnsToHide)}var n=!1;if(!this.skipNextWindowsWidthChange)if(0===this.lastBreakpoint.length&&a.length)n=!0;else if(this.lastBreakpoint!=this.currentBreakpoint)n=!0;else if(this.columnsHiddenIndexes.length!==a.length)n=!0;else{var l=this.difference(this.columnsHiddenIndexes,a).length,i=this.difference(a,this.columnsHiddenIndexes).length;n=l+i>0}n&&(this.skipNextWindowsWidthChange=!0,this.columnsHiddenIndexes=a,this.columnsShownIndexes=this.difference(this.columnIndexes,this.columnsHiddenIndexes),this.showHideColumns(),this.lastBreakpoint=this.currentBreakpoint,this.setState(),this.skipNextWindowsWidthChange=!1),this.columnsHiddenIndexes.length?(this.tableElement.addClass("has-columns-hidden"),(0,d.default)("tr.detail-show",this.tableElement).each(function(t,a){var s=(0,d.default)(a);0===s.next(".row-detail").length&&o.prototype.showRowDetail(e,s)})):(this.tableElement.removeClass("has-columns-hidden"),(0,d.default)("tr.row-detail",this.tableElement).each(function(t){o.prototype.hideRowDetail(e,(0,d.default)(this).prev())}))}},o.prototype.showHideColumns=function(){for(var e=0,t=this.columnsShownIndexes.length;e<t;e++)this.api.column(this.columnsShownIndexes[e]).visible(!0);for(var e=0,t=this.columnsHiddenIndexes.length;e<t;e++)this.api.column(this.columnsHiddenIndexes[e]).visible(!1);var a=this;(0,d.default)("tr.row-detail",this.tableElement).each(function(){o.prototype.hideRowDetail(a,(0,d.default)(this).prev())}),this.tableElement.hasClass("has-columns-hidden")&&(0,d.default)("tr.detail-show",this.tableElement).each(function(e,t){o.prototype.showRowDetail(a,(0,d.default)(t))})},o.prototype.createExpandIcon=function(e){if(!this.disabled)for(var t=(0,d.default)("td",e),a=0,s=t.length;a<s;a++){var o=t[a],r=this.api.cell(o).index().column;if(o=(0,d.default)(o),r===this.expandColumn){if(0==(0,d.default)("span.responsiveExpander",o).length)switch(o.prepend(this.expandIconTemplate),this.options.clickOn){case"cell":o.on("click",{responsiveDatatablesHelperInstance:this},this.showRowDetailEventHandler);break;case"row":(0,d.default)(e).on("click",{responsiveDatatablesHelperInstance:this},this.showRowDetailEventHandler);break;default:o.on("click","span.responsiveExpander",{responsiveDatatablesHelperInstance:this},this.showRowDetailEventHandler)}break}}},o.prototype.showRowDetailEventHandler=function(e){var t=e.data.responsiveDatatablesHelperInstance;if(!t.disabled){var a=(0,d.default)(this);if(a.closest("table").hasClass("has-columns-hidden")){var s=a.closest("tr");s.hasClass("detail-show")?o.prototype.hideRowDetail(t,s):o.prototype.showRowDetail(t,s),s.toggleClass("detail-show"),e.stopPropagation()}}},o.prototype.showRowDetail=function(e,t){for(var a=e.api,s=a.columns().header(),o=(0,d.default)(e.rowTemplate),r=(0,d.default)("ul",o),n=0;n<e.columnsHiddenIndexes.length;n++){var l=e.columnsHiddenIndexes[n],i=a.row(t).index(),c=a.cell(i,l).node();if(!e.options.hideEmptyColumnsInRowDetail||c.innerHTML.trim().length){var p=(0,d.default)(e.rowLiTemplate),u=(0,d.default)(s[l]).attr("data-name");(0,d.default)(".columnTitle",p).html(void 0!==u?u:s[l].innerHTML);for(var f=(0,d.default)(c).contents(),m=f.clone(),v=0,_=f.length;v<_;v++){var h=f[v];h.nodeType===Node.ELEMENT_NODE&&"SELECT"===h.tagName&&(m[v].selectedIndex=h.selectedIndex)}(0,d.default)(".columnValue",p).append(m).data("originalTdSource",c),p.attr("data-column",l);var g=(0,d.default)(c).attr("class");"undefined"!==g&&!1!==g&&""!==g&&p.addClass(g),r.append(p)}}var b=e.columnIndexes.length-e.columnsHiddenIndexes.length;o.find("> td").attr("colspan",b),t.after(o),e.options.showDetail&&e.options.showDetail(o)},o.prototype.hideRowDetail=function(e,t){var a=t.next(".row-detail");e.options.hideDetail&&e.options.hideDetail(a),a.find("li").each(function(){var e=(0,d.default)(this).find("span.columnValue"),t=e.contents(),a=e.data("originalTdSource");(0,d.default)(a).empty().append(t)}),a.remove()},o.prototype.disable=function(e){this.disabled=void 0===e||e,this.disabled?(this.setWindowsResizeHandler(!1),(0,d.default)("tbody tr.row-detail",this.tableElement).remove(),(0,d.default)("tbody tr",this.tableElement).removeClass("detail-show"),(0,d.default)("tbody tr span.responsiveExpander",this.tableElement).remove(),this.columnsHiddenIndexes=[],this.columnsShownIndexes=this.columnIndexes,this.showHideColumns(),this.tableElement.removeClass("has-columns-hidden"),this.tableElement.off("click","span.responsiveExpander",this.showRowDetailEventHandler)):this.setWindowsResizeHandler()},o.prototype.getState=function(){if("undefined"==typeof Storage?"undefined":(0,i.default)(Storage)){var e=JSON.parse(localStorage.getItem(this.cookieName));e&&(this.columnIndexes=e.columnIndexes,this.breakpoints=e.breakpoints,this.expandColumn=e.expandColumn,this.lastBreakpoint=e.lastBreakpoint,this.lastStateExists=!0)}},o.prototype.setState=function(){if("undefined"==typeof Storage?"undefined":(0,i.default)(Storage)){if(this.difference(this.lastColumnsHiddenIndexes,this.columnsHiddenIndexes).length+this.difference(this.columnsHiddenIndexes,this.lastColumnsHiddenIndexes).length>0){var e={columnIndexes:this.columnIndexes,columnsHiddenIndexes:this.columnsHiddenIndexes,breakpoints:this.breakpoints,expandColumn:this.expandColumn,lastBreakpoint:this.lastBreakpoint};localStorage.setItem(this.cookieName,(0,n.default)(e)),this.lastColumnsHiddenIndexes=this.columnsHiddenIndexes.slice(0)}}},o.prototype.difference=function(e,t){var a,s=[],o={};for(a=t.length-1;a>=0;a--)o[t[a]]=!0;for(a=e.length-1;a>=0;a--)!0!==o[e[a]]&&s.push(e[a]);return s},e.exports=o},,,,,,,,,function(e,t,a){a(347);var s=a(2)(a(223),a(460),"data-v-82f5dc28",null);e.exports=s.exports},function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(23),r=s(o),n=a(5),l=s(n),i=a(65),c=s(i),d=a(3);t.default={fetchProfile:function(){return new r.default(function(e,t){l.default.http.get(c.default.profile).then(function(t){e(t.body)},function(e){t(e)})})},fetchProposal:function(e){return new r.default(function(t,a){l.default.http.get(d.helpers.add_endpoint_json(c.default.proposals,e)).then(function(e){t(e.body)},function(e){a(e)})})},fetchCountries:function(){return new r.default(function(e,t){l.default.http.get(c.default.countries).then(function(t){e(t.body)},function(e){t(e)})})},fetchOrganisation:function(e){return new r.default(function(t,a){l.default.http.get(d.helpers.add_endpoint_json(c.default.organisations,e)).then(function(e){t(e.body)},function(e){a(e)})})}}},,,,,,,,,,,,,,,,function(e,t,a){a(341);var s=a(2)(a(222),a(452),"data-v-62234b90",null);e.exports=s.exports},function(e,t,a){a(330);var s=a(2)(a(224),a(438),"data-v-1cca6df8",null);e.exports=s.exports},function(e,t,a){a(356);var s=a(2)(a(226),a(469),"data-v-c2f719fe",null);e.exports=s.exports},function(e,t,a){a(363);var s=a(2)(a(233),null,"data-v-eef8c6da",null);e.exports=s.exports},,function(e,t,a){"use strict";e.exports={organisations:"/api/organisations.json",organisation_requests:"/api/organisation_requests.json",organisation_contacts:"/api/organisation_contacts.json",organisation_access_group_members:"/api/organisation_access_group_members",users:"/api/users.json",profile:"/api/profile",department_users:"/api/department_users",countries:"https://restcountries.eu/rest/v1/?fullText=true",proposal_type:"/api/proposal_type",proposals:"/api/proposal.json",approvals:"/api/approvals.json",referrals:"/api/referrals.json",compliances:"/api/compliances.json",proposal_standard_requirements:"/api/proposal_standard_requirements.json",proposal_requirements:"/api/proposal_requirements.json",amendment_request:"/api/amendment_request.json",discard_proposal:function(e){return"/api/proposal/"+e+".json"}}},function(e,t,a){"use strict";(function(t,s){function o(e){return e&&e.__esModule?e:{default:e}}var r=a(4),n=o(r),l=a(68),i=o(l);e.exports={apiError:function(e){var t="";if(400===e.status)try{obj=JSON.parse(e.responseText),t=obj.non_field_errors[0].replace(/[\[\]"]/g,"")}catch(a){t=e.responseText.replace(/[\[\]"]/g,"")}else t=404===e.status?"The resource you are looking for does not exist.":e.responseText.replace(/[\[\]"]/g,"");return t},apiVueResourceError:function(e){var t="",a=null;return 400===e.status?(a=Array.isArray(e.body)?e.body[0]:((0,i.default)(e.body),e.body),"object"==(void 0===a?"undefined":(0,i.default)(a))?t=a.hasOwnProperty("non_field_errors")?a.non_field_errors[0].replace(/[\[\]"]/g,""):a:(t=a.replace(/[\[\]"]/g,""),t=a.replace(/^['"](.*)['"]$/,"$1"))):404===e.status&&(t="The resource you are looking for does not exist."),t},goBack:function(e){e.$router.go(window.history.back())},copyObject:function(e){return JSON.parse((0,n.default)(e))},getCookie:function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var a=document.cookie.split(";"),s=0;s<a.length;s++){var o=a[s].trim();if(o.substring(0,e.length+1).trim()===e+"="){t=decodeURIComponent(o.substring(e.length+1));break}}return t},namePopover:function(e,t){t.on("mouseover",".name_popover",function(t){e(this).popover("show"),e(this).on("mouseout",function(){e(this).popover("hide")})})},add_endpoint_json:function(e,t){return e.split(".json")[0]+"/"+t+".json"},dtPopover:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"hover",o=t.truncate(e,{length:a,omission:"...",separator:" "}),r="<span>"+o+"</span>",n=t.template('<a href="#" role="button" data-toggle="popover" data-trigger="'+s+'" data-placement="top auto"data-html="true" data-content="<%= text %>" >more</a>');return t.endsWith(o,"...")&&(r+=n({text:e})),r},dtPopoverCellFn:function(e){s(e).find('[data-toggle="popover"]').popover().on("click",function(e){return e.preventDefault(),!0})}}}).call(t,a(37),a(1))},function(e,t){},function(e,t){},,function(e,t,a){"use strict";e.exports={proposals:"/api/proposal.json",profile:"/api/profile",countries:"https://restcountries.eu/rest/v1/?fullText=true",organisations:"/api/organisations.json",organisation_contacts:"/api/organisation_contacts.json"}},function(e,t,a){"use strict";e.exports={organisations:"/api/organisations.json",countries:"https://restcountries.eu/rest/v1/?fullText=true"}},function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(23),r=s(o),n=a(5),l=s(n),i=a(66),c=s(i),d=a(3);t.default={fetchProposal:function(e){return new r.default(function(t,a){l.default.http.get(d.helpers.add_endpoint_json(c.default.proposals,e)).then(function(e){t(e.body)},function(e){a(e)})})},fetchOrganisations:function(e){return new r.default(function(e,t){l.default.http.get(c.default.organisations).then(function(t){e(t.body)},function(e){t(e)})})},fetchCountries:function(){return new r.default(function(e,t){l.default.http.get(c.default.countries).then(function(t){e(t.body)},function(e){t(e)})})},fetchOrganisation:function(e){return new r.default(function(t,a){l.default.http.get(d.helpers.add_endpoint_json(c.default.organisations,e)).then(function(e){t(e.body)},function(e){a(e)})})}}},,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){a(352);var s=a(2)(a(221),a(465),null,null);e.exports=s.exports},function(e,t,a){a(361);var s=a(2)(a(225),a(475),"data-v-ed4dc61e",null);e.exports=s.exports},function(e,t,a){a(333);var s=a(2)(a(259),a(443),null,null);e.exports=s.exports},,function(e,t,a){"use strict";(function(e,t){var s=a(385);a(54)(),a(90)(),a(366)(window,e),a(368),a(369),a(322),a(384),(0,s.extendMoment)(t)}).call(t,a(1),a(0))},function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(5),r=s(o),n=a(479),l=s(n),i=a(391),c=(s(i),a(429)),d=s(c),p=a(270),u=s(p),f=a(271),m=s(f);r.default.use(l.default),t.default=new l.default({mode:"history",routes:[{path:"/firsttime",name:"first-time",component:d.default},{path:"/account",name:"account",component:d.default},u.default,m.default]})},function(e,t,a){a(328);var s=a(2)(a(218),a(435),null,null);e.exports=s.exports},,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"app"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"hello",data:function(){return{msg:"Welcome to Your Vue.js App"}}}},function(e,t,a){"use strict";(function(e){function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(22),r=s(o),n=a(21),l=s(n),i=a(3);t.default={name:"Add-Comms",components:{modal:r.default,alert:l.default},props:{url:{type:String,required:!0}},data:function(){return{isModalOpen:!1,form:null,comms:{},state:"proposed_approval",addingComms:!1,validation_form:null,errors:!1,errorString:"",successString:"",success:!1,datepickerOptions:{format:"DD/MM/YYYY",showClear:!0,useCurrent:!1,keepInvalid:!0,allowInputToggle:!0},files:[{file:null,name:""}]}},computed:{showError:function(){return this.errors},title:function(){return"With Approver"==this.processing_status?"Issue Comms":"Propose to issue approval"}},methods:{ok:function(){var t=this;e(t.form).valid()&&t.sendData()},uploadFile:function(t,a){var s=null,o=e("."+t)[0];if(o.files&&o.files[0]){var r=new FileReader;r.readAsDataURL(o.files[0]),r.onload=function(e){s=e.target.result},s=o.files[0]}a.file=s,a.name=s.name},removeFile:function(t){var a=this,s=this.files.length;e(".file-row-"+t).remove(),this.files.splice(t,1),this.$nextTick(function(){1==s&&a.attachAnother()})},attachAnother:function(){this.files.push({file:null,name:""})},cancel:function(){this.close()},close:function(){var t=this;this.isModalOpen=!1,this.comms={},this.errors=!1,e(".has-error").removeClass("has-error"),this.validation_form.resetForm();var a=t.files.length;this.files=[];for(var s=0;s<a;s++)t.$nextTick(function(){e(".file-row-"+s).remove()});this.attachAnother()},sendData:function(){var e=this;e.errors=!1;var t=new FormData(e.form);e.addingComms=!0,e.$http.post(e.url,t,{}).then(function(t){e.addingComms=!1,e.close()},function(t){e.errors=!0,e.addingComms=!1,e.errorString=i.helpers.apiVueResourceError(t)})},addFormValidations:function(){var t=this;t.validation_form=e(t.form).validate({rules:{to:"required",fromm:"required",type:"required",subject:"required",text:"required"},messages:{},showErrors:function(t,a){e.each(this.validElements(),function(t,a){e(a).attr("data-original-title","").parents(".form-group").removeClass("has-error")}),e("."+this.settings.validClass).tooltip("destroy");for(var s=0;s<a.length;s++){var o=a[s];e(o.element).tooltip({trigger:"focus"}).attr("data-original-title",o.message).parents(".form-group").addClass("has-error")}}})}},mounted:function(){var e=this;e.form=document.forms.commsForm,e.addFormValidations()}}}).call(t,a(1))},function(e,t,a){"use strict";(function(e){function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(4),r=s(o),n=a(22),l=s(n),i=a(21),c=s(i),d=a(3);t.default={name:"Add-Organisation-Contact",components:{modal:l.default,alert:c.default},props:{org_id:{type:Number}},data:function(){return{isModalOpen:!1,form:null,contact:{},errors:!1,errorString:"",successString:"",success:!1}},computed:{showError:function(){return this.errors}},methods:{ok:function(){var t=this;e(t.form).valid()&&t.sendData()},cancel:function(){},close:function(){this.isModalOpen=!1,this.contact={},this.errors=!1,this.form.reset()},fetchContact:function(e){var t=this;t.$http.get(d.api_endpoints.contact(e)).then(function(e){t.contact=e.body,t.isModalOpen=!0},function(e){console.log(e)})},sendData:function(){var e=this;if(e.errors=!1,e.contact.id){var t=e.contact;e.$http.put(d.api_endpoints.organisation_contacts(t.id),(0,r.default)(t),{emulateJSON:!0}).then(function(t){e.close()},function(t){console.log(t),e.errors=!0,e.errorString=d.helpers.apiVueResourceError(t)})}else{var a=JSON.parse((0,r.default)(e.contact));a.organisation=e.org_id,e.$http.post(d.api_endpoints.organisation_contacts,(0,r.default)(a),{emulateJSON:!0}).then(function(t){e.close(),e.$parent.addedContact()},function(t){console.log(t),e.errors=!0,e.errorString=d.helpers.apiVueResourceError(t)})}},addFormValidations:function(){var t=this;e(t.form).validate({rules:{arrival:"required",departure:"required",campground:"required",campsite:{required:{depends:function(e){return t.campsites.length>0}}}},messages:{arrival:"field is required",departure:"field is required",campground:"field is required",campsite:"field is required"},showErrors:function(t,a){e.each(this.validElements(),function(t,a){e(a).attr("data-original-title","").parents(".form-group").removeClass("has-error")}),e("."+this.settings.validClass).tooltip("destroy");for(var s=0;s<a.length;s++){var o=a[s];e(o.element).tooltip({trigger:"focus"}).attr("data-original-title",o.message).parents(".form-group").addClass("has-error")}}})},eventListerners:function(){}},mounted:function(){var e=this;e.form=document.forms.addContactForm,e.addFormValidations()}}}).call(t,a(1))},function(e,t,a){"use strict";(function(e,s){Object.defineProperty(t,"__esModule",{value:!0});var o=a(7),r=function(e){return e&&e.__esModule?e:{default:e}}(o),n=a(3);t.default={name:"ProposalTableDash",props:{level:{type:String,required:!0,validator:function(e){return-1!=["internal","referral","external"].indexOf(e)}},url:{type:String,required:!0}},data:function(){var t=this;return{pBody:"pBody"+t._uid,datatable_id:"proposal-datatable-"+t._uid,filterProposalRegion:"All",filterProposalActivity:"All",filterProposalStatus:"All",filterProposalLodgedFrom:"",filterProposalLodgedTo:"",filterProposalSubmitter:"All",dateFormat:"DD/MM/YYYY",datepickerOptions:{format:"DD/MM/YYYY",showClear:!0,useCurrent:!1,keepInvalid:!0,allowInputToggle:!0},approval_status:[],proposal_activityTitles:[],proposal_regions:[],proposal_submitters:[],proposal_headers:["Number","Region","Activity","Title","Holder","Status","Start Date","Expiry Date","Approval","Action"],proposal_options:{language:{processing:"<i class='fa fa-4x fa-spinner fa-spin'></i>"},responsive:!0,ajax:{url:t.url,dataSrc:""},columns:[{data:"id",mRender:function(e,t,a){return a.reference}},{data:"region",render:function(e){return n.helpers.dtPopover(e)},createdCell:n.helpers.dtPopoverCellFn},{data:"activity"},{data:"title",render:function(e){return n.helpers.dtPopover(e)},createdCell:n.helpers.dtPopoverCellFn},{data:"applicant"},{data:"status"},{data:"start_date",mRender:function(a,s,o){return""!=a&&null!=a?e(a).format(t.dateFormat):""}},{data:"expiry_date",mRender:function(a,s,o){return""!=a&&null!=a?e(a).format(t.dateFormat):""}},{data:"licence_document",mRender:function(e,t,a){return'<a href="'+e+'" target="_blank"><i style="color:red" class="fa fa-file-pdf-o"></i></a>'}},{mRender:function(e,a,s){var o="";return t.is_external?s.can_user_edit?(o+="<a href='/external/proposal/"+s.id+"'>Continue</a><br/>",o+="<a href='#"+s.id+"' data-discard-proposal='"+s.id+"'>Discard</a><br/>"):s.can_user_view&&(o+="<a href='/external/proposal/"+s.id+"'>View</a><br/>"):o+="<a href='/internal/proposal/"+s.id+"'>View</a><br/>",o}}],processing:!0,initComplete:function(){t.$refs.proposal_datatable.vmDataTable.columns(1).data().unique().sort().each(function(e,a){var o=[];s.each(e,function(e,t){null!=t&&s.each(t.split(","),function(e,t){null!=t&&o.indexOf(t)<0&&o.push(t)})}),t.proposal_regions=o}),t.$refs.proposal_datatable.vmDataTable.columns(2).data().unique().sort().each(function(e,a){var o=[];s.each(e,function(e,t){null!=t&&o.indexOf(t)<0&&o.push(t)}),t.proposal_activityTitles=o}),t.$refs.proposal_datatable.vmDataTable.columns(5).data().unique().sort().each(function(e,a){var o=[];s.each(e,function(e,t){null!=t&&o.indexOf(t)<0&&o.push(t)}),t.approval_status=o}),t.$refs.proposal_datatable.vmDataTable.columns.adjust().responsive.recalc()}}}},components:{datatable:r.default},watch:{filterProposalActivity:function(){var e=this;"All"!=e.filterProposalActivity?e.$refs.proposal_datatable.vmDataTable.columns(2).search(e.filterProposalActivity).draw():e.$refs.proposal_datatable.vmDataTable.columns(2).search("").draw()},filterProposalStatus:function(){var e=this;"All"!=e.filterProposalStatus?e.$refs.proposal_datatable.vmDataTable.columns(5).search(e.filterProposalStatus).draw():e.$refs.proposal_datatable.vmDataTable.columns(5).search("").draw()},filterProposalRegion:function(){this.$refs.proposal_datatable.vmDataTable.draw()},filterProposalSubmitter:function(){this.$refs.proposal_datatable.vmDataTable.draw()},filterProposalLodgedFrom:function(){this.$refs.proposal_datatable.vmDataTable.draw()},filterProposalLodgedTo:function(){this.$refs.proposal_datatable.vmDataTable.draw()}},computed:{status:function(){return[]},is_external:function(){return"external"==this.level},is_referral:function(){return"referral"==this.level}},methods:{addEventListeners:function(){var e=this;s(e.$refs.proposalDateToPicker).datetimepicker(e.datepickerOptions),s(e.$refs.proposalDateToPicker).on("dp.change",function(t){s(e.$refs.proposalDateToPicker).data("DateTimePicker").date()?e.filterProposalLodgedTo=t.date.format("DD/MM/YYYY"):""===s(e.$refs.proposalDateToPicker).data("date")&&(e.filterProposaLodgedTo="")}),s(e.$refs.proposalDateFromPicker).datetimepicker(e.datepickerOptions),s(e.$refs.proposalDateFromPicker).on("dp.change",function(t){s(e.$refs.proposalDateFromPicker).data("DateTimePicker").date()?(e.filterProposalLodgedFrom=t.date.format("DD/MM/YYYY"),s(e.$refs.proposalDateToPicker).data("DateTimePicker").minDate(t.date)):""===s(e.$refs.proposalDateFromPicker).data("date")&&(e.filterProposalLodgedFrom="")}),e.$refs.proposal_datatable.vmDataTable.on("click","a[data-discard-proposal]",function(t){t.preventDefault();var a=s(this).attr("data-discard-proposal");e.discardProposal(a)})},initialiseSearch:function(){this.regionSearch(),this.dateSearch()},regionSearch:function(){var e=this;e.$refs.proposal_datatable.table.dataTableExt.afnFiltering.push(function(t,a,o,r){var n=!1,l=e.filterProposalRegion.split(",");if("All"==l)return!0;var i=""!=r.region&&null!=r.region?r.region.split(","):[];return s.each(i,function(e,t){if(-1!=l.indexOf(t))return n=!0,!1}),!!n})},submitterSearch:function(){var e=this;e.$refs.proposal_datatable.table.dataTableExt.afnFiltering.push(function(t,a,s,o){var r=e.filterProposalSubmitter;return"All"==r||r==o.submitter.email})},dateSearch:function(){var t=this;t.$refs.proposal_datatable.table.dataTableExt.afnFiltering.push(function(a,s,o,r){var n=t.filterProposalLodgedFrom,l=t.filterProposalLodgedTo,i=r.lodgement_date;return""==n&&""==l||(""!=n&&""!=l?null!=i&&""!=i&&e().range(e(n,t.dateFormat),e(l,t.dateFormat)).contains(e(i)):""==n&&""!=l?null!=i&&""!=i&&e(l,t.dateFormat).diff(e(i))>=0:""==l&&""!=n&&(null!=i&&""!=i&&e(i).diff(e(n,t.dateFormat))>=0))})}},mounted:function(){var e=this;s('a[data-toggle="collapse"]').on("click",function(){var e=s(this).children()[0];window.setTimeout(function(){s(e).toggleClass("glyphicon-chevron-down glyphicon-chevron-up")},100)}),this.$nextTick(function(){e.addEventListeners(),e.initialiseSearch()})}}}).call(t,a(0),a(1))},function(e,t,a){"use strict";(function(e,o,r){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(30),i=n(l),c=a(392),d=n(c);a(3);t.default={name:"CommsLogSection",props:{comms_url:{type:String,required:!0},logs_url:{type:String,required:!0},comms_add_url:{type:String,required:!0},disable_add_entry:{type:Boolean,default:!0}},data:function(){var t,a=this;return{dateFormat:"DD/MM/YYYY",actionsTable:null,popoversInitialised:!1,actionsDtOptions:(t={language:{processing:"<i class='fa fa-4x fa-spinner fa-spin'></i>"},responsive:!0,deferRender:!0,autowidth:!0,order:[[2,"desc"]],dom:"<'row'<'col-sm-5'l><'col-sm-6'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,ajax:{url:a.logs_url,dataSrc:""}},(0,i.default)(t,"order",[]),(0,i.default)(t,"columns",[{data:"who",orderable:!1},{data:"what",orderable:!1},{data:"when",orderable:!1,mRender:function(t,s,o){return e(t).format(a.dateFormat)}}]),t),commsDtOptions:{language:{processing:"<i class='fa fa-4x fa-spinner fa-spin'></i>"},responsive:!0,deferRender:!0,autowidth:!0,order:[[0,"desc"]],processing:!0,ajax:{url:a.comms_url,dataSrc:""},columns:[{title:"Date",data:"created",render:function(t){return e(t).format(a.DATE_TIME_FORMAT)}},{title:"Type",data:"type"},{title:"To",data:"to",render:a.commaToNewline},{title:"CC",data:"cc",render:a.commaToNewline},{title:"From",data:"fromm",render:a.commaToNewline},{title:"Subject/Desc.",data:"subject"},{title:"Text",data:"text",render:function(e){var t=o.truncate(e,{length:100,omission:"...",separator:" "}),a="<span>"+t+"</span>",s=o.template('<a href="#" role="button" data-toggle="popover" data-trigger="click" data-placement="top auto"data-html="true" data-content="<%= text %>" >more</a>');return o.endsWith(t,"...")&&(a+=s({text:e})),a},createdCell:function(e){r(e).popover()}},{title:"Documents",data:"documents",render:function(e){var t="";return o.forEach(e,function(e){var a="",r="";o.isArray(e)&&e.length>1&&(a=e[0],r=e[1]),"string"==typeof s&&(r=e,a=o.last(e.split("/")),a=o.truncate(a,{length:18,omission:"...",separator:" "})),t+='<a href="'+r+'" target="_blank"><p>'+a+"</p></a><br>"}),t}}]},commsTable:null}},components:{AddCommLog:d.default},watch:{},computed:{},methods:{initialiseCommLogs:function(e,t,a,s){var o=this,n="comms-log-table"+e,l="popover-"+o._uid+"-comms";r(t).popover({content:function(){return' \n                    <table id="'+n+'" class="hover table table-striped table-bordered dt-responsive " cellspacing="0" width="100%">\n                    </table>'},html:!0,title:"Communications Log",container:"body",placement:"right",trigger:"focus",template:'<div class="popover '+l+'" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}).on("inserted.bs.popover",function(){s=r("#"+n).DataTable(a),s.on("draw.dt",function(){var e=r(this).find('[data-toggle="popover"]');e.length>0&&(e.popover(),r(e).on("click",function(e){return e.preventDefault(),!0}))})}).on("shown.bs.popover",function(){var e=t,a=(parseInt(r("."+l).height()),parseInt(r("."+l)[0].getBoundingClientRect().top)),s=(parseInt(r("."+l)[0].getBoundingClientRect().bottom),parseInt(r(e)[0].getBoundingClientRect().top)),o=(parseInt(r(e)[0].getBoundingClientRect().top),s-a),n=(parseInt(r("."+l).position().top),parseInt(r(e).position().top),o+5);r("."+l).children(".arrow").css("top",n+"px")})},initialiseActionLogs:function(e,t,a,s){var o=this,n="actions-log-table"+e,l="popover-"+o._uid+"-logs";r(t).popover({content:function(){return' \n                    <table id="'+n+'" class="hover table table-striped table-bordered dt-responsive" cellspacing="0" width="100%">\n                        <thead>\n                            <tr>\n                                <th>Who</th>\n                                <th>What</th>\n                                <th>When</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                        </tbody>\n                    </table>'},html:!0,title:"Action Log",container:"body",placement:"right",trigger:"focus",template:'<div class="popover '+l+'" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}).on("inserted.bs.popover",function(){s=r("#"+n).DataTable(a)}).on("shown.bs.popover",function(){var e=t,a=(parseInt(r("."+l).height()),parseInt(r("."+l)[0].getBoundingClientRect().top)),s=(parseInt(r("."+l)[0].getBoundingClientRect().bottom),parseInt(r(e)[0].getBoundingClientRect().top)),o=(parseInt(r(e)[0].getBoundingClientRect().top),s-a),n=(parseInt(r("."+l).position().top),parseInt(r(e).position().top),o+5);r("."+l).children(".arrow").css("top",n+"px")})},initialisePopovers:function(){this.popoversInitialised||(this.initialiseActionLogs(this._uid,this.$refs.showActionBtn,this.actionsDtOptions,this.actionsTable),this.initialiseCommLogs("-internal-proposal-"+this._uid,this.$refs.showCommsBtn,this.commsDtOptions,this.commsTable),this.popoversInitialised=!0)},addComm:function(){this.$refs.add_comm.isModalOpen=!0}},mounted:function(){var e=this;this.$nextTick(function(){e.initialisePopovers()})}}}).call(t,a(0),a(37),a(1))},function(e,t,a){"use strict";(function(e,s){Object.defineProperty(t,"__esModule",{value:!0});var o=a(7),r=function(e){return e&&e.__esModule?e:{default:e}}(o);a(3);t.default={name:"ProposalTableDash",props:{level:{type:String,required:!0,validator:function(e){return-1!=["internal","referral","external"].indexOf(e)}},url:{type:String,required:!0}},data:function(){var t=this;return{pBody:"pBody"+t._uid,datatable_id:"proposal-datatable-"+t._uid,filterProposalRegion:"All",filterProposalActivity:"All",filterProposalStatus:"All",filterProposalLodgedFrom:"",filterProposalLodgedTo:"",filterProposalSubmitter:"All",dateFormat:"DD/MM/YYYY",datepickerOptions:{format:"DD/MM/YYYY",showClear:!0,useCurrent:!1,keepInvalid:!0,allowInputToggle:!0},external_status:["Temporary","Draft","Submitted","Approved","Declined"],internal_status:["Temporary","Draft","With Assessor","With Referral","Issued","Declined"],proposal_activityTitles:[],proposal_regions:[],proposal_submitters:[],proposal_headers:["Number","Region/District","Activity","Title","Approval","Holder","Status","Due Date","Assigned To","Action"],proposal_options:{language:{processing:"<i class='fa fa-4x fa-spinner fa-spin'></i>"},responsive:!0,ajax:{url:t.url,dataSrc:""},columns:[{data:"id",mRender:function(e,t,a){return"C"+e}},{data:"regions"},{data:"activity"},{data:"title"},{data:"approval",mRender:function(e,t,a){return"A"+e}},{data:"holder"},{data:"processing_status"},{data:"due_date",mRender:function(a,s,o){return""!=a&&null!=a?e(a).format(t.dateFormat):""}},{data:"assigned_to"},{mRender:function(e,a,s){var o="";return t.is_external?s.can_user_edit?(o+="<a href='/external/proposal/"+s.id+"'>Continue</a><br/>",o+="<a href='#"+s.id+"' data-discard-proposal='"+s.id+"'>Discard</a><br/>"):s.can_user_view&&(o+="<a href='/external/proposal/"+s.id+"'>View</a><br/>"):o+="<a href='/internal/proposal/"+s.id+"'>View</a><br/>",o}}],processing:!0,initComplete:function(){t.$refs.proposal_datatable.vmDataTable.columns(1).data().unique().sort().each(function(e,a){var o=[];s.each(e,function(e,t){null!=t&&s.each(t.split(","),function(e,t){null!=t&&o.indexOf(t)<0&&o.push(t)})}),t.proposal_regions=o}),t.$refs.proposal_datatable.vmDataTable.columns(2).data().unique().sort().each(function(e,a){var o=[];s.each(e,function(e,t){null!=t&&o.indexOf(t)<0&&o.push(t)}),t.proposal_activityTitles=o})}}}},components:{datatable:r.default},watch:{filterProposalActivity:function(){var e=this;"All"!=e.filterProposalActivity?e.$refs.proposal_datatable.vmDataTable.columns(2).search(e.filterProposalActivity).draw():e.$refs.proposal_datatable.vmDataTable.columns(2).search("").draw()},filterProposalStatus:function(){var e=this;"All"!=e.filterProposalStatus?e.$refs.proposal_datatable.vmDataTable.columns(6).search(e.filterProposalStatus).draw():e.$refs.proposal_datatable.vmDataTable.columns(6).search("").draw()},filterProposalRegion:function(){this.$refs.proposal_datatable.vmDataTable.draw()},filterProposalSubmitter:function(){this.$refs.proposal_datatable.vmDataTable.draw()},filterProposalLodgedFrom:function(){this.$refs.proposal_datatable.vmDataTable.draw()},filterProposalLodgedTo:function(){this.$refs.proposal_datatable.vmDataTable.draw()}},computed:{status:function(){return[]},is_external:function(){return"external"==this.level},is_referral:function(){return"referral"==this.level}},methods:{addEventListeners:function(){var e=this;s(e.$refs.proposalDateToPicker).datetimepicker(e.datepickerOptions),s(e.$refs.proposalDateToPicker).on("dp.change",function(t){s(e.$refs.proposalDateToPicker).data("DateTimePicker").date()?e.filterProposalLodgedTo=t.date.format("DD/MM/YYYY"):""===s(e.$refs.proposalDateToPicker).data("date")&&(e.filterProposaLodgedTo="")}),s(e.$refs.proposalDateFromPicker).datetimepicker(e.datepickerOptions),s(e.$refs.proposalDateFromPicker).on("dp.change",function(t){s(e.$refs.proposalDateFromPicker).data("DateTimePicker").date()?(e.filterProposalLodgedFrom=t.date.format("DD/MM/YYYY"),s(e.$refs.proposalDateToPicker).data("DateTimePicker").minDate(t.date)):""===s(e.$refs.proposalDateFromPicker).data("date")&&(e.filterProposalLodgedFrom="")}),e.$refs.proposal_datatable.vmDataTable.on("click","a[data-discard-proposal]",function(t){t.preventDefault();var a=s(this).attr("data-discard-proposal");e.discardProposal(a)})},initialiseSearch:function(){this.regionSearch(),this.dateSearch()},regionSearch:function(){var e=this;e.$refs.proposal_datatable.table.dataTableExt.afnFiltering.push(function(t,a,o,r){var n=!1,l=e.filterProposalRegion.split(",");if("All"==l)return!0;var i=""!=r.region&&null!=r.region?r.region.split(","):[];return s.each(i,function(e,t){if(-1!=l.indexOf(t))return n=!0,!1}),!!n})},submitterSearch:function(){var e=this;e.$refs.proposal_datatable.table.dataTableExt.afnFiltering.push(function(t,a,s,o){var r=e.filterProposalSubmitter;return"All"==r||r==o.submitter.email})},dateSearch:function(){var t=this;t.$refs.proposal_datatable.table.dataTableExt.afnFiltering.push(function(a,s,o,r){var n=t.filterProposalLodgedFrom,l=t.filterProposalLodgedTo,i=r.lodgement_date;return""==n&&""==l||(""!=n&&""!=l?null!=i&&""!=i&&e().range(e(n,t.dateFormat),e(l,t.dateFormat)).contains(e(i)):""==n&&""!=l?null!=i&&""!=i&&e(l,t.dateFormat).diff(e(i))>=0:""==l&&""!=n&&(null!=i&&""!=i&&e(i).diff(e(n,t.dateFormat))>=0))})}},mounted:function(){var e=this;s('a[data-toggle="collapse"]').on("click",function(){var e=s(this).children()[0];window.setTimeout(function(){s(e).toggleClass("glyphicon-chevron-down glyphicon-chevron-up")},100)}),this.$nextTick(function(){e.addEventListeners(),e.initialiseSearch()})}}}).call(t,a(0),a(1))},function(e,t,a){"use strict";(function(e,s,o){Object.defineProperty(t,"__esModule",{value:!0});var r=a(3);t.default={name:"MoreReferrals",props:{isFinalised:{type:Boolean,required:!0},canAction:{type:Boolean,required:!0},proposal:{type:Object,required:!0}},data:function(){var t=this;return{table:null,dateFormat:"DD/MM/YYYY HH:MM:SS",datatable_options:{language:{processing:"<i class='fa fa-4x fa-spinner fa-spin'></i>"},responsive:!0,deferRender:!0,autowidth:!0,processing:!0,ajax:{url:r.helpers.add_endpoint_json(r.api_endpoints.referrals,"datatable_list")+"?proposal="+t.proposal.id,dataSrc:""},columns:[{title:"Sent On",data:"lodged_on",render:function(a){return e(a).format(t.dateFormat)}},{title:"Referral",data:"referral",render:function(e,t,a){return"<span>"+e.first_name+" "+e.last_name+"</span>"}},{title:"Status",data:"referral_status"},{title:"Action",data:"id",render:function(e,a,s){var o="";if(!t.canAction)return o;var r=s.referral.first_name+" "+s.referral.last_name;return o="Awaiting"==s.referral_status?'<a href="" data-id="'+e+'" data-user="'+r+'" class="remindRef">Remind</a>/<a href="" data-id="'+e+'" data-user="'+r+'" class="recallRef">Recall</a>':'<a href="" data-id="'+e+'" data-user="'+r+'" class="resendRef">Resend</a>'}}]}}},computed:{},methods:{remindReferral:function(e,t){var a=this;a.$http.get(r.helpers.add_endpoint_json(r.api_endpoints.referrals,e+"/remind")).then(function(e){a.$emit("refreshFromResponse",e),a.table.ajax.reload(),s("Referral Reminder","A reminder has been sent to "+t,"success")},function(e){s("Proposal Error",r.helpers.apiVueResourceError(e),"error")})},resendReferral:function(e,t){var a=this;a.$http.get(r.helpers.add_endpoint_json(r.api_endpoints.referrals,e+"/resend")).then(function(e){a.$emit("refreshFromResponse",e),a.table.ajax.reload(),s("Referral Resent","The referral has been resent to "+t,"success")},function(e){s("Proposal Error",r.helpers.apiVueResourceError(e),"error")})},recallReferral:function(e,t){var a=this;a.$http.get(r.helpers.add_endpoint_json(r.api_endpoints.referrals,e+"/recall")).then(function(e){a.$emit("refreshFromResponse",e),a.table.ajax.reload(),s("Referral Recall","The referall has been recalled from "+t,"success")},function(e){s("Proposal Error",r.helpers.apiVueResourceError(e),"error")})},initialiseTable:function(){var e=this,t="more-referrals-table"+e._uid,a="popover-"+e._uid;o(e.$refs.showRef).popover({content:function(){return' \n                    <table id="'+t+'" class="hover table table-striped table-bordered dt-responsive " cellspacing="0" width="100%">\n                    </table>'},template:'<div class="popover '+a+'" role="tooltip"><div class="arrow" style="top:110px;"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>',html:!0,title:"Referrals",container:"body",placement:"right",trigger:"click focus"}).on("inserted.bs.popover",function(){e.table=o("#"+t).DataTable(e.datatable_options),e.table.on("draw.dt",function(){var e=o(this).find('[data-toggle="popover"]');e.length>0&&(e.popover(),o(e).on("click",function(e){return e.preventDefault(),!0}))}).on("click",".resendRef",function(t){t.preventDefault();var a=o(this).data("id"),s=o(this).data("user");e.resendReferral(a,s)}).on("click",".recallRef",function(t){t.preventDefault();var a=o(this).data("id"),s=o(this).data("user");e.recallReferral(a,s)}).on("click",".remindRef",function(t){t.preventDefault();var a=o(this).data("id"),s=o(this).data("user");e.remindReferral(a,s)})}).on("shown.bs.popover",function(){var t=e.$refs.showRef,s=(parseInt(o("."+a).height()),parseInt(o("."+a)[0].getBoundingClientRect().top)),r=(parseInt(o("."+a)[0].getBoundingClientRect().bottom),parseInt(o(t)[0].getBoundingClientRect().top)),n=(parseInt(o(t)[0].getBoundingClientRect().top),r-s),l=(parseInt(o("."+a).position().top),parseInt(o(t).position().top),n+5);o("."+a).children(".arrow").css("top",l+"px")})}},mounted:function(){this.initialiseTable()}}}).call(t,a(0),a(10),a(1))},function(e,t,a){"use strict";(function(e,s,o){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(7),l=r(n),i=a(5),c=r(i),d=a(3);a(89),a(88),t.default={name:"ProposalTableDash",props:{level:{type:String,required:!0,validator:function(e){return-1!=["internal","referral","external"].indexOf(e)}},url:{type:String,required:!0}},data:function(){var t=this;return{pBody:"pBody"+t._uid,datatable_id:"proposal-datatable-"+t._uid,profile:{},filterProposalRegion:[],filterProposalActivity:"All",filterProposalStatus:"All",filterProposalLodgedFrom:"",filterProposalLodgedTo:"",filterProposalSubmitter:"All",dateFormat:"DD/MM/YYYY",datepickerOptions:{format:"DD/MM/YYYY",showClear:!0,useCurrent:!1,keepInvalid:!0,allowInputToggle:!0},proposal_activityTitles:[],proposal_regions:[],proposal_submitters:[],proposal_status:[],proposal_ex_headers:["Number","Region","Activity","Title","Submiter","Proponent","Status","Lodged on","Action"],proposal_ex_options:{autoWidth:!1,language:{processing:"<i class='fa fa-4x fa-spinner fa-spin'></i>"},responsive:!0,ajax:{url:t.url,dataSrc:""},columns:[{data:"id",mRender:function(e,t,a){return a.lodgement_number}},{data:"region",render:function(e){return d.helpers.dtPopover(e)},createdCell:d.helpers.dtPopoverCellFn},{data:"activity"},{data:"title",render:function(e){return d.helpers.dtPopover(e)},createdCell:d.helpers.dtPopoverCellFn},{data:"submitter",mRender:function(e,t,a){return e?e.first_name+" "+e.last_name:""}},{data:"applicant"},{data:"customer_status",mRender:function(e,a,s){return"internal"==t.level?s.processing_status:e}},{data:"lodgement_date",mRender:function(a,s,o){return""!=a&&null!=a?e(a).format(t.dateFormat):""}},{mRender:function(e,a,s){var o="";return t.is_external?s.can_user_edit?(o+="<a href='/external/proposal/"+s.id+"'>Continue</a><br/>",o+="<a href='#"+s.id+"' data-discard-proposal='"+s.id+"'>Discard</a><br/>"):s.can_user_view&&(o+="<a href='/external/proposal/"+s.id+"'>View</a><br/>"):t.check_assessor(s)&&s.can_officer_process?o+="<a href='/internal/proposal/"+s.id+"'>Process</a><br/>":o+="<a href='/internal/proposal/"+s.id+"'>View</a><br/>",o}}],processing:!0,initComplete:function(){t.$refs.proposal_datatable.vmDataTable.columns(1).data().unique().sort().each(function(e,a){var o=[];s.each(e,function(e,t){null!=t&&s.each(t.split(","),function(e,t){null!=t&&o.indexOf(t)<0&&o.push(t)})}),t.proposal_regions=o}),t.$refs.proposal_datatable.vmDataTable.columns(2).data().unique().sort().each(function(e,a){var o=[];s.each(e,function(e,t){null!=t&&o.indexOf(t)<0&&o.push(t)}),t.proposal_activityTitles=o}),t.$refs.proposal_datatable.vmDataTable.columns(4).data().unique().sort().each(function(e,a){var o=[];s.each(e,function(e,t){o.find(function(e){return e.email==t.email})&&0!=o.length||o.push({email:t.email,search_term:t.first_name+" "+t.last_name+" ("+t.email+")"})}),t.proposal_submitters=o}),t.$refs.proposal_datatable.vmDataTable.columns(6).data().unique().sort().each(function(e,a){var o=[];s.each(e,function(e,t){null!=t&&o.indexOf(t)<0&&o.push(t)}),t.proposal_status=o})}},proposal_headers:["Number","Region","Activity","Title","Submiter","Proponent","Status","Lodged on","Assigned Officer","Action"],proposal_options:{autoWidth:!1,language:{processing:"<i class='fa fa-4x fa-spinner fa-spin'></i>"},responsive:!0,ajax:{url:t.url,dataSrc:""},columns:[{data:"id",mRender:function(e,t,a){return a.lodgement_number}},{data:"region",render:function(e){return d.helpers.dtPopover(e)},createdCell:d.helpers.dtPopoverCellFn},{data:"activity"},{data:"title",render:function(e){return d.helpers.dtPopover(e)},createdCell:d.helpers.dtPopoverCellFn},{data:"submitter",mRender:function(e,t,a){return e?e.first_name+" "+e.last_name:""}},{data:"applicant"},{data:"processing_status",mRender:function(e,a,s){return"external"==t.level?s.customer_status:e}},{data:"lodgement_date",mRender:function(a,s,o){return""!=a&&null!=a?e(a).format(t.dateFormat):""}},{data:"assigned_officer"},{mRender:function(e,a,s){var o="";return t.is_external?s.can_user_edit?(o+="<a href='/external/proposal/"+s.id+"'>Continue</a><br/>",o+="<a href='#"+s.id+"' data-discard-proposal='"+s.id+"'>Discard</a><br/>"):s.can_user_view&&(o+="<a href='/external/proposal/"+s.id+"'>View</a><br/>"):t.check_assessor(s)&&s.can_officer_process?o+="<a href='/internal/proposal/"+s.id+"'>Process</a><br/>":o+="<a href='/internal/proposal/"+s.id+"'>View</a><br/>",o}}],processing:!0,initComplete:function(){t.$refs.proposal_datatable.vmDataTable.columns(1).data().unique().sort().each(function(e,a){var o=[];s.each(e,function(e,t){null!=t&&s.each(t.split(","),function(e,t){null!=t&&o.indexOf(t)<0&&o.push(t)})}),t.proposal_regions=o}),t.$refs.proposal_datatable.vmDataTable.columns(2).data().unique().sort().each(function(e,a){var o=[];s.each(e,function(e,t){null!=t&&o.indexOf(t)<0&&o.push(t)}),t.proposal_activityTitles=o}),t.$refs.proposal_datatable.vmDataTable.columns(4).data().unique().sort().each(function(e,a){var o=[];s.each(e,function(e,t){o.find(function(e){return e.email==t.email})&&0!=o.length||o.push({email:t.email,search_term:t.first_name+" "+t.last_name+" ("+t.email+")"})}),t.proposal_submitters=o}),t.$refs.proposal_datatable.vmDataTable.columns(6).data().unique().sort().each(function(e,a){var o=[];s.each(e,function(e,t){null!=t&&o.indexOf(t)<0&&o.push(t)}),t.proposal_status=o}),t.$refs.proposal_datatable.vmDataTable.columns.adjust().responsive.recalc()}}}},components:{datatable:l.default},watch:{filterProposalActivity:function(){var e=this;"All"!=e.filterProposalActivity?e.$refs.proposal_datatable.vmDataTable.columns(2).search(e.filterProposalActivity).draw():e.$refs.proposal_datatable.vmDataTable.columns(2).search("").draw()},filterProposalStatus:function(){var e=this;"All"!=e.filterProposalStatus?e.$refs.proposal_datatable.vmDataTable.columns(6).search(e.filterProposalStatus).draw():e.$refs.proposal_datatable.vmDataTable.columns(6).search("").draw()},filterProposalRegion:function(){this.$refs.proposal_datatable.vmDataTable.draw()},filterProposalSubmitter:function(){this.$refs.proposal_datatable.vmDataTable.draw()},filterProposalLodgedFrom:function(){this.$refs.proposal_datatable.vmDataTable.draw()},filterProposalLodgedTo:function(){this.$refs.proposal_datatable.vmDataTable.draw()}},computed:{is_external:function(){return"external"==this.level},is_referral:function(){return"referral"==this.level}},methods:{discardProposal:function(e){var t=this;o({title:"Discard Proposal",text:"Are you sure you want to discard this proposal?",type:"warning",showCancelButton:!0,confirmButtonText:"Discard Proposal",confirmButtonColor:"#d9534f"}).then(function(){t.$http.delete(d.api_endpoints.discard_proposal(e)).then(function(e){o("Discarded","Your proposal has been discarded","success"),t.$refs.proposal_datatable.vmDataTable.ajax.reload()},function(e){console.log(e)})},function(e){})},addEventListeners:function(){var e=this;s(e.$refs.proposalDateToPicker).datetimepicker(e.datepickerOptions),s(e.$refs.proposalDateToPicker).on("dp.change",function(t){s(e.$refs.proposalDateToPicker).data("DateTimePicker").date()?e.filterProposalLodgedTo=t.date.format("DD/MM/YYYY"):""===s(e.$refs.proposalDateToPicker).data("date")&&(e.filterProposaLodgedTo="")}),s(e.$refs.proposalDateFromPicker).datetimepicker(e.datepickerOptions),s(e.$refs.proposalDateFromPicker).on("dp.change",function(t){s(e.$refs.proposalDateFromPicker).data("DateTimePicker").date()?(e.filterProposalLodgedFrom=t.date.format("DD/MM/YYYY"),s(e.$refs.proposalDateToPicker).data("DateTimePicker").minDate(t.date)):""===s(e.$refs.proposalDateFromPicker).data("date")&&(e.filterProposalLodgedFrom="")}),e.$refs.proposal_datatable.vmDataTable.on("click","a[data-discard-proposal]",function(t){t.preventDefault();var a=s(this).attr("data-discard-proposal");e.discardProposal(a)}),s(e.$refs.filterRegion).select2({theme:"bootstrap",allowClear:!0,placeholder:"Select Region"}).on("select2:select",function(t){var a=s(t.currentTarget);e.filterProposalRegion=a.val()}).on("select2:unselect",function(t){var a=s(t.currentTarget);e.filterProposalRegion=a.val()})},initialiseSearch:function(){this.regionSearch(),this.submitterSearch(),this.dateSearch()},regionSearch:function(){var e=this;e.$refs.proposal_datatable.table.dataTableExt.afnFiltering.push(function(t,a,o,r){var n=!1,l=e.filterProposalRegion;if(0==l.length)return!0;var i=""!=r.region&&null!=r.region?r.region.split(","):[];return s.each(i,function(e,t){if(-1!=l.indexOf(t))return n=!0,!1}),!!n})},submitterSearch:function(){var e=this;e.$refs.proposal_datatable.table.dataTableExt.afnFiltering.push(function(t,a,s,o){var r=e.filterProposalSubmitter;return"All"==r||r==o.submitter.email})},dateSearch:function(){var t=this;t.$refs.proposal_datatable.table.dataTableExt.afnFiltering.push(function(a,s,o,r){var n=t.filterProposalLodgedFrom,l=t.filterProposalLodgedTo,i=r.lodgement_date;return""==n&&""==l||(""!=n&&""!=l?null!=i&&""!=i&&e().range(e(n,t.dateFormat),e(l,t.dateFormat)).contains(e(i)):""==n&&""!=l?null!=i&&""!=i&&e(l,t.dateFormat).diff(e(i))>=0:""==l&&""!=n&&(null!=i&&""!=i&&e(i).diff(e(n,t.dateFormat))>=0))})},fetchProfile:function(){var e=this;c.default.http.get(d.api_endpoints.profile).then(function(t){e.profile=t.body},function(e){console.log(e)})},check_assessor:function(e){var t=this;return e.assigned_officer?e.assigned_officer==t.profile.full_name:e.allowed_assessors.filter(function(e){return e.id=t.profile.id}).length>0}},mounted:function(){this.fetchProfile();var e=this;s('a[data-toggle="collapse"]').on("click",function(){var e=s(this).children()[0];window.setTimeout(function(){s(e).toggleClass("glyphicon-chevron-down glyphicon-chevron-up")},100)}),this.$nextTick(function(){e.initialiseSearch(),e.addEventListeners()})}}}).call(t,a(0),a(1),a(10))},function(e,t,a){"use strict";(function(e,s){Object.defineProperty(t,"__esModule",{value:!0});var o=a(7),r=function(e){return e&&e.__esModule?e:{default:e}}(o),n=a(3);t.default={name:"ProposalTableDash",data:function(){var t=this;return{pBody:"pBody"+t._uid,datatable_id:"proposal-datatable-"+t._uid,filterProposalRegion:[],filterProposalActivity:"All",filterProposalStatus:"All",filterProposalLodgedFrom:"",filterProposalLodgedTo:"",filterProposalSubmitter:"All",dateFormat:"DD/MM/YYYY",datepickerOptions:{format:"DD/MM/YYYY",showClear:!0,useCurrent:!1,keepInvalid:!0,allowInputToggle:!0},proposal_status:[],proposal_activityTitles:[],proposal_regions:[],proposal_submitters:[],proposal_headers:["Number","Region","Activity","Title","Submiter","Proponent","Status","Lodged on","Action"],proposal_options:{customProposalSearch:!0,tableID:"proposal-datatable-"+t._uid,language:{processing:"<i class='fa fa-4x fa-spinner fa-spin'></i>"},responsive:!0,ajax:{url:n.helpers.add_endpoint_json(n.api_endpoints.referrals,"user_list"),dataSrc:""},columns:[{data:"proposal",mRender:function(e,t,a){var s="";return s=a.can_be_processed?"<i class='fa fa-times-circle' style='color:red'></i>":"<i class='fa fa-check-circle' style='color:green'></i>",a.proposal_lodgement_number+s}},{data:"region"},{data:"activity"},{data:"title"},{data:"submitter",mRender:function(e,t,a){return e?e.first_name+" "+e.last_name:""}},{data:"applicant"},{data:"processing_status"},{data:"proposal_lodgement_date",mRender:function(a,s,o){return""!=a&&null!=a?e(a).format(t.dateFormat):""}},{mRender:function(e,t,a){var s="";return s+=a.can_be_processed?"<a href='/internal/proposal/"+a.proposal+"/referral/"+a.id+"'>Process</a><br/>":"<a href='/internal/proposal/"+a.proposal+"/referral/"+a.id+"'>View</a><br/>"}}],processing:!0,initComplete:function(){t.$refs.proposal_datatable.vmDataTable.columns(1).data().unique().sort().each(function(e,a){var o=[];s.each(e,function(e,t){null!=t&&s.each(t.split(","),function(e,t){null!=t&&o.indexOf(t)<0&&o.push(t)})}),t.proposal_regions=o}),t.$refs.proposal_datatable.vmDataTable.columns(2).data().unique().sort().each(function(e,a){var o=[];s.each(e,function(e,t){null!=t&&o.indexOf(t)<0&&o.push(t)}),t.proposal_activityTitles=o}),t.$refs.proposal_datatable.vmDataTable.columns(4).data().unique().sort().each(function(e,a){var o=[];s.each(e,function(e,t){o.find(function(e){return e.email==t.email})&&0!=o.length||o.push({email:t.email,search_term:t.first_name+" "+t.last_name+" ("+t.email+")"})}),t.proposal_submitters=o}),t.$refs.proposal_datatable.vmDataTable.columns(6).data().unique().sort().each(function(e,a){var o=[];s.each(e,function(e,t){null!=t&&o.indexOf(t)<0&&o.push(t)}),t.proposal_status=o})}}}},components:{datatable:r.default},watch:{filterProposalActivity:function(){var e=this;"All"!=e.filterProposalActivity?e.$refs.proposal_datatable.vmDataTable.columns(2).search(e.filterProposalActivity).draw():e.$refs.proposal_datatable.vmDataTable.columns(2).search("").draw()},filterProposalStatus:function(){var e=this;"All"!=e.filterProposalStatus?e.$refs.proposal_datatable.vmDataTable.columns(6).search(e.filterProposalStatus).draw():e.$refs.proposal_datatable.vmDataTable.columns(6).search("").draw()},filterProposalRegion:function(){this.$refs.proposal_datatable.vmDataTable.draw()},filterProposalSubmitter:function(){this.$refs.proposal_datatable.vmDataTable.draw()},filterProposalLodgedFrom:function(){this.$refs.proposal_datatable.vmDataTable.draw()},filterProposalLodgedTo:function(){this.$refs.proposal_datatable.vmDataTable.draw()}},computed:{},methods:{addEventListeners:function(){var e=this;s(e.$refs.proposalDateToPicker).datetimepicker(e.datepickerOptions),s(e.$refs.proposalDateToPicker).on("dp.change",function(t){s(e.$refs.proposalDateToPicker).data("DateTimePicker").date()?e.filterProposalLodgedTo=t.date.format("DD/MM/YYYY"):""===s(e.$refs.proposalDateToPicker).data("date")&&(e.filterProposaLodgedTo="")}),s(e.$refs.proposalDateFromPicker).datetimepicker(e.datepickerOptions),s(e.$refs.proposalDateFromPicker).on("dp.change",function(t){s(e.$refs.proposalDateFromPicker).data("DateTimePicker").date()?(e.filterProposalLodgedFrom=t.date.format("DD/MM/YYYY"),s(e.$refs.proposalDateToPicker).data("DateTimePicker").minDate(t.date)):""===s(e.$refs.proposalDateFromPicker).data("date")&&(e.filterProposalLodgedFrom="")}),e.$refs.proposal_datatable.vmDataTable.on("click","a[data-discard-proposal]",function(t){t.preventDefault();var a=s(this).attr("data-discard-proposal");e.discardProposal(a)}),s(e.$refs.filterRegion).select2({theme:"bootstrap",allowClear:!0,placeholder:"Select Region"}).on("select2:select",function(t){var a=s(t.currentTarget);e.filterProposalRegion=a.val()}).on("select2:unselect",function(t){var a=s(t.currentTarget);e.filterProposalRegion=a.val()})},initialiseSearch:function(){this.regionSearch(),this.submitterSearch(),this.dateSearch()},regionSearch:function(){var e=this;e.$refs.proposal_datatable.table.dataTableExt.afnFiltering.push(function(t,a,o,r){var n=!1,l=e.filterProposalRegion;if(0==l.length)return!0;var i=""!=r.region&&null!=r.region?r.region.split(","):[];return s.each(i,function(e,t){if(-1!=l.indexOf(t))return n=!0,!1}),!!n})},submitterSearch:function(){var e=this;e.$refs.proposal_datatable.table.dataTableExt.afnFiltering.push(function(t,a,s,o){var r=e.filterProposalSubmitter;return"All"==r||r==o.submitter.email})},dateSearch:function(){var t=this;t.$refs.proposal_datatable.table.dataTableExt.afnFiltering.push(function(a,s,o,r){var n=t.filterProposalLodgedFrom,l=t.filterProposalLodgedTo,i=r.lodgement_date;return""==n&&""==l||(""!=n&&""!=l?null!=i&&""!=i&&e().range(e(n,t.dateFormat),e(l,t.dateFormat)).contains(e(i)):""==n&&""!=l?null!=i&&""!=i&&e(l,t.dateFormat).diff(e(i))>=0:""==l&&""!=n&&(null!=i&&""!=i&&e(i).diff(e(n,t.dateFormat))>=0))})}},mounted:function(){var e=this;s('a[data-toggle="collapse"]').on("click",function(){var e=s(this).children()[0];window.setTimeout(function(){s(e).toggleClass("glyphicon-chevron-down glyphicon-chevron-up")},100)}),this.$nextTick(function(){e.addEventListeners(),e.initialiseSearch()})}}}).call(t,a(0),a(1))},function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(7),r=(s(o),a(57)),n=s(r),l=a(55),i=s(l),c=a(56),d=s(c),p=a(3);t.default={name:"ExternalDashboard",data:function(){return{proposals_url:p.helpers.add_endpoint_json(p.api_endpoints.proposals,"user_list"),approvals_url:p.helpers.add_endpoint_json(p.api_endpoints.approvals,"user_list"),empty_list:"/api/empty_list"}},components:{ProposalDashTable:n.default,ApprovalDashTable:i.default,ComplianceDashTable:d.default},watch:{},computed:{},methods:{},mounted:function(){}}},function(e,t,a){"use strict";(function(e,o,r,n){function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(4),c=l(i),d=a(23),p=l(d),u=a(5),f=(l(u),a(3)),m=a(7),v=l(m),_=a(39),h=l(_),g=a(65),b=l(g),C=a(210),y=l(C);t.default={name:"Organisation",data:function(){var t=this;return{adBody:"adBody"+t._uid,pBody:"pBody"+t._uid,cBody:"cBody"+t._uid,oBody:"oBody"+t._uid,org:null,loading:[],countries:[],updatingDetails:!1,updatingAddress:!1,updatingContact:!1,logsTable:null,DATE_TIME_FORMAT:"DD/MM/YYYY HH:mm:ss",logsDtOptions:{language:{processing:"<i class='fa fa-4x fa-spinner fa-spin'></i>"},responsive:!0,deferRender:!0,autowidth:!0,order:[[2,"desc"]],dom:"<'row'<'col-sm-5'l><'col-sm-6'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,ajax:{url:f.helpers.add_endpoint_json(f.api_endpoints.organisations,t.$route.params.org_id+"/action_log"),dataSrc:""},columns:[{data:"who"},{data:"what"},{data:"when",mRender:function(a,s,o){return e(a).format(t.DATE_TIME_FORMAT)}}]},commsDtOptions:{language:{processing:"<i class='fa fa-4x fa-spinner fa-spin'></i>"},responsive:!0,deferRender:!0,autowidth:!0,order:[[0,"desc"]],processing:!0,ajax:{url:f.helpers.add_endpoint_json(f.api_endpoints.organisations,t.$route.params.org_id+"/comms_log"),dataSrc:""},columns:[{title:"Date",data:"created",render:function(a){return e(a).format(t.DATE_TIME_FORMAT)}},{title:"Type",data:"type"},{title:"Reference",data:"reference"},{title:"To",data:"to",render:t.commaToNewline},{title:"CC",data:"cc",render:t.commaToNewline},{title:"From",data:"fromm",render:t.commaToNewline},{title:"Subject/Desc.",data:"subject"},{title:"Text",data:"text",render:function(e){var t=o.truncate(e,{length:100,omission:"...",separator:" "}),a="<span>"+t+"</span>",s=o.template('<a href="#" role="button" data-toggle="popover" data-trigger="click" data-placement="top auto"data-html="true" data-content="<%= text %>" >more</a>');return o.endsWith(t,"...")&&(a+=s({text:e})),a},createdCell:function(e){r(e).popover()}},{title:"Documents",data:"documents",render:function(e){var t="";return o.forEach(e,function(e){var a="",r="";o.isArray(e)&&e.length>1&&(a=e[0],r=e[1]),"string"==typeof s&&(r=e,a=o.last(e.split("/")),a=o.truncate(a,{length:18,omission:"...",separator:" "})),t+='<a href="'+r+'" target="_blank"><p>'+a+"</p></a><br>"}),t}}]},commsTable:null,contacts_headers:["Name","Phone","Mobile","Fax","Email","Action"],contacts_options:{language:{processing:"<i class='fa fa-4x fa-spinner fa-spin'></i>"},responsive:!0,ajax:{url:f.helpers.add_endpoint_json(f.api_endpoints.organisations,t.$route.params.org_id+"/contacts"),dataSrc:""},columns:[{mRender:function(e,t,a){return a.first_name+" "+a.last_name}},{data:"phone_number"},{data:"mobile_number"},{data:"fax_number"},{data:"email"},{mRender:function(e,t,a){var s="",o=a.first_name+" "+a.last_name;return s+="<a data-email='"+a.email+"' data-name='"+o+"' data-id='"+a.id+'\' class="remove-contact">Remove</a><br/>'}}],processing:!0}}},components:{datatable:v.default,AddContact:y.default},computed:{},beforeRouteEnter:function(e,t,a){var s=[h.default.fetchCountries(),h.default.fetchOrganisation(e.params.org_id)];p.default.all(s).then(function(e){a(function(t){t.countries=e[0],t.org=e[1],t.org.address=null!=t.org.address?t.org.address:{},t.org.pins=null!=t.org.pins?t.org.pins:{}})})},beforeRouteUpdate:function(e,t,a){var s=[h.default.fetchOrganisation(e.params.org_id)];p.default.all(s).then(function(e){a(function(t){t.org=e[0],t.org.address=null!=t.org.address?t.org.address:{},t.org.pins=null!=t.org.pins?t.org.pins:{}})})},methods:{addContact:function(){this.$refs.add_contact.isModalOpen=!0},eventListeners:function(){var e=this;e.$refs.contacts_datatable.vmDataTable.on("click",".remove-contact",function(t){t.preventDefault();var a=r(t.target).data("name"),s=r(t.target).data("email"),o=r(t.target).data("id");n({title:"Delete Contact",text:"Are you sure you want to remove "+a+"("+s+") as a contact  ?",type:"error",showCancelButton:!0,confirmButtonText:"Accept"}).then(function(){e.deleteContact(o)},function(e){})})},updateDetails:function(){var e=this;e.updatingDetails=!0,e.$http.post(f.helpers.add_endpoint_json(f.api_endpoints.organisations,e.org.id+"/update_details"),(0,c.default)(e.org),{emulateJSON:!0}).then(function(t){e.updatingDetails=!1,e.org=t.body,null==e.org.address&&(e.org.address={}),n("Saved","Organisation details have been saved","success")},function(t){console.log(t),e.updatingDetails=!1})},addedContact:function(){var e=this;n("Added","The contact has been successfully added.","success"),e.$refs.contacts_datatable.vmDataTable.ajax.reload()},deleteContact:function(e){var t=this;t.$http.delete(f.helpers.add_endpoint_json(b.default.organisation_contacts,e),{emulateJSON:!0}).then(function(e){n("Contact Deleted","The contact was successfully deleted","success"),t.$refs.contacts_datatable.vmDataTable.ajax.reload()},function(e){console.log(e),n("Contact Deleted","The contact could not be deleted because of the following error "+e,"error")})},updateAddress:function(){var e=this;e.updatingAddress=!0,e.$http.post(f.helpers.add_endpoint_json(f.api_endpoints.organisations,e.org.id+"/update_address"),(0,c.default)(e.org.address),{emulateJSON:!0}).then(function(t){e.updatingAddress=!1,e.org=t.body,n("Saved","Address details have been saved","success"),null==e.org.address&&(e.org.address={})},function(t){console.log(t),e.updatingAddress=!1})},unlinkUser:function(e){var t=this,a=t.org,s=a.name,o=f.helpers.copyObject(e);n({title:"Unlink From Organisation",text:"Are you sure you want to unlink "+o.name+" "+o.id+" from "+a.name+" ?",type:"question",showCancelButton:!0,confirmButtonText:"Accept"}).then(function(){t.$http.post(f.helpers.add_endpoint_json(f.api_endpoints.organisations,a.id+"/unlink_user"),{user:o.id},{emulateJSON:!0}).then(function(e){t.org=e.body,null==t.org.address&&(t.org.address={}),n("Unlink","You have successfully unlinked "+o.name+" from "+s+".","success")},function(e){n("Unlink","There was an error unlinking "+o.name+" from "+s+".","error")})},function(e){})}},mounted:function(){this.personal_form=document.forms.personal_form},updated:function(){var e=this;r('.panelClicker[data-toggle="collapse"]').on("click",function(){var e=r(this).children()[0];window.setTimeout(function(){r(e).toggleClass("glyphicon-chevron-down glyphicon-chevron-up")},100)}),this.$nextTick(function(){e.eventListeners()})}}}).call(t,a(0),a(37),a(1),a(10))},function(e,t,a){"use strict";(function(e){function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(58),r=s(o),n=a(5),l=s(n),i=a(3);t.default={data:function(){return{proposal:null,loading:[],form:null}},components:{Proposal:r.default},computed:{isLoading:function(){return this.loading.length>0},csrf_token:function(){return i.helpers.getCookie("csrftoken")},proposal_form_url:function(){return this.proposal?"/api/proposal/"+this.proposal.id+"/draft.json":""}},methods:{save:function(t){var a=this,s=new FormData(a.form);a.$http.post(a.proposal_form_url,s).then(function(t){e("Saved","Your proposal has been saved","success")},function(e){})},submit:function(){var t=this;e({title:"Submit Proposal",text:"Are you sure you want to submit this proposal?",type:"question",showCancelButton:!0,confirmButtonText:"Submit"}).then(function(){var a=new FormData(t.form);t.$http.post(i.helpers.add_endpoint_json(i.api_endpoints.proposals,t.proposal.id+"/submit"),a).then(function(e){t.proposal=e.body,t.$router.push({name:"submit_proposal",params:{proposal:t.proposal}})},function(t){e("Submit Error",i.helpers.apiVueResourceError(t),"error")})},function(e){})}},mounted:function(){this.form=document.forms.new_proposal},beforeRouteEnter:function(e,t,a){e.params.proposal_id?l.default.http.get("/api/proposal/"+e.params.proposal_id+".json").then(function(e){a(function(t){t.loading.push("fetching proposal"),t.proposal=e.body,t.loading.splice("fetching proposal",1)})},function(e){console.log(e)}):l.default.http.post("/api/proposal.json").then(function(e){a(function(t){t.loading.push("fetching proposal"),t.proposal=e.body,t.loading.splice("fetching proposal",1)})},function(e){console.log(e)})}}}).call(t,a(10))},function(e,t,a){"use strict";(function(e){function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(23),r=s(o),n=a(5),l=(s(n),a(3),a(39)),i=s(l);t.default={data:function(){return{proposal:null,agent:{},behalf_of:"",profile:{disturbance_organisations:[]},loading:[],form:null,pBody:"pBody"+this._uid}},components:{},computed:{isLoading:function(){return this.loading.length>0},org:function(){var e=this;return""!=e.behalf_of||"other"!=e.behalf_of?e.profile.disturbance_organisations.find(function(t){return parseInt(t.id)===parseInt(e.behalf_of)}).name:""}},methods:{submit:function(){var t=this;e({title:"Create Proposal",text:"Are you sure you want to create a proposal on behalf of "+t.org+" ?",type:"question",showCancelButton:!0,confirmButtonText:"Accept"}).then(function(){t.createProposal()},function(e){})},createProposal:function(){var e=this;e.$http.post("/api/proposal.json",{behalf_of:e.behalf_of}).then(function(t){e.proposal=t.body,e.$router.push({name:"draft_proposal",params:{proposal_id:e.proposal.id}})},function(e){console.log(e)})}},mounted:function(){this.form=document.forms.new_proposal},beforeRouteEnter:function(e,t,a){var s=[i.default.fetchProfile()];a(function(e){r.default.all(s).then(function(t){e.profile=t[0]})})}}}).call(t,a(10))},function(e,t,a){"use strict";(function(e){function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(5),r=(s(o),a(3),a(39));s(r);t.default={data:function(){return{proposal:{}}},components:{},computed:{},methods:{},filters:{formatDate:function(t){return t?e(t).format("DD/MM/YYYY"):""}},mounted:function(){this.form=document.forms.new_proposal},beforeRouteEnter:function(e,t,a){a(function(t){t.proposal=e.params.proposal})}}}).call(t,a(0))},function(e,t,a){"use strict";(function(e){function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(273),r=s(o),n=a(64);s(n);a(62),a(321),a(63);a(383);t.default={props:{proposal:{type:Object,required:!0},withSectionsSelector:{type:Boolean,default:!0},form_width:{type:String,default:"col-md-9"}},data:function(){return{values:null}},methods:{mapDataToApplication:function(){this.proposal.data&&(this.values=this.proposal.data[0])}},created:function(){this.mapDataToApplication()},mounted:function(){this.withSectionsSelector&&(r.default.sections.map(function(t){e("#scrollspy-section").append("<li class=\"list-group-item\" ><a class='page-scroll section' href='#"+t.name+"'>"+t.label+"</a></li>")}),e("a.page-scroll").bind("click",function(t){var a=e(this);e("html, body").stop().animate({scrollTop:e(a.attr("href")).offset().top},1e3,"easeInOutExpo"),t.preventDefault()}),e(window).scroll(function(){if(e(this).scrollTop()>=e("#scrollspy-heading").offset().top-56){var t=e(".fixed").width();e(".fixed").addClass("fixed-top"),e(".fixed-top").width(t)}else e(".fixed").removeClass("fixed-top"),e(".fixed").width("100%")}))},render:function(e){var t=this;return r.default.store_status_data(t.proposal.readonly,t.proposal.assessor_data,t.proposal.comment_data,t.proposal.current_assessor,t.proposal.assessor_mode,t.proposal.can_user_edit,t.proposal.documents_url),t.withSectionsSelector?e("div",null,[e("div",{attrs:{id:"scrollspy-heading"},class:"col-lg-12"},[e("h3",null,["Proposal: ",e("small",null,[t.proposal.lodgement_number])])]),e("div",{class:"col-md-3"},[e("div",{class:"panel panel-default fixed"},[e("div",{class:"panel-heading"},[e("h5",null,["Sections"])]),e("div",{class:"panel-body",style:"padding:0"},[e("ul",{class:"list-group",attrs:{id:"scrollspy-section"},style:"margin-bottom:0"},[])])])]),e("div",{class:"col-md-9"},[t.proposal.schema.map(function(a){return r.default.renderChildren(e,a,t.values,t.proposal.assessor_data,t.proposal.readonly,t.proposal.assessor_mode,t.proposal.assessor)}),this.$slots.default])]):"inherit"==t.form_width?e("div",null,[t.proposal.schema.map(function(a){return r.default.renderChildren(e,a,t.values,t.proposal.assessor_data,t.proposal.readonly,t.proposal.assessor_mode,t.proposal.assessor)}),this.$slots.default]):e("div",{class:t.form_width},[t.proposal.schema.map(function(a){return r.default.renderChildren(e,a,t.values,t.proposal.assessor_data,t.proposal.readonly,t.proposal.assessor_mode,t.proposal.assessor)}),this.$slots.default])}}}).call(t,a(1))},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(4),o=function(e){return e&&e.__esModule?e:{default:e}}(s);t.default={props:["name","label","value","help_text","conditions","handleChange","readonly"],computed:{isChecked:function(){return"on"==this.value},options:function(){return(0,o.default)(this.conditions)}},mounted:function(){if(this.isChecked){var e=this.$refs.Checkbox,t=document.createEvent("HTMLEvents");t.initEvent("change",!0,!0),e.dispatchEvent(t)}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["name","question","value","readonly"]}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(20),o=function(e){return e&&e.__esModule?e:{default:e}}(s);t.default={props:["name","comment_value","assessorMode","label","assessor_readonly"],components:{Comment:o.default},data:function(){return{showingComment:!1}},methods:{toggleComment:function(){this.showingComment=!this.showingComment}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(40),o=function(e){return e&&e.__esModule?e:{default:e}}(s);t.default={props:["conditions","renderer","name","data","readonly"],mounted:function(){},render:function(e){var t=this;try{var a=t.conditions;if(a){var s=(0,o.default)(a);return s?e("div",null,[s.map(function(s){return a[s].map(function(a){return e("div",{attrs:{id:"cons_"+t.name+"_"+s},class:"hidden"},[t.renderer.renderChildren(e,a,t.data,t.readonly)])})})]):e("div",null,[" no conditions "])}}catch(e){console.log(e)}}}},function(e,t,a){"use strict";(function(e){function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(4),r=s(o),n=a(0),l=(s(n),a(382)),i=(s(l),a(20)),c=s(i);t.default={props:["name","label","readonly","help_text","help_text_assessor","assessorMode","value","conditions","handleChange","comment_value","assessor_readonly"],data:function(){return{showingComment:!1}},components:{Comment:c.default},computed:{isChecked:function(){return!1},options:function(){return(0,r.default)(this.conditions)}},methods:{toggleComment:function(){this.showingComment=!this.showingComment}},mounted:function(){e(".date").datetimepicker({format:"DD/MM/YYYY"})}}}).call(t,a(1))},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["name","label","help_text","handleDeclaration"],computed:{isChecked:function(){return"on"==this.value}},mounted:function(){if(this.isChecked){var e=this.$refs.Checkbox,t=document.createEvent("HTMLEvents");t.initEvent("change",!0,!0),e.dispatchEvent(t)}}}},function(e,t,a){"use strict";(function(e){function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(279),r=s(o),n=a(20),l=s(n);t.default={props:{name:String,label:String,comment_value:String,assessor_readonly:Boolean,help_text:String,help_text_assessor:String,assessorMode:{default:function(){return!1}},value:{default:function(){return null}},fileTypes:{default:function(){return"image/*,application/pdf,text/csv,application/msword"}},isRepeatable:Boolean,readonly:Boolean,docsUrl:String},components:{Comment:l.default},data:function(){return{repeat:1,files:[],showingComment:!1}},methods:{toggleComment:function(){this.showingComment=!this.showingComment},handleChange:function(t){if(this.isRepeatable){var a=e(t.target).attr("data-que"),s=e("input[name="+t.target.name+"]");s=[].concat((0,r.default)(s.map(function(t){return e(s[t]).attr("data-que")}))),s.pop(),1==this.repeat?this.repeat+=1:s.indexOf(a)<0&&(this.repeat+=1)}}},mounted:function(){var e=this;e.value&&(e.files=Array.isArray(e.value)?e.value:[e.value])}}}).call(t,a(1))},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"group",props:["label","name","help_text","isRemovable","isPreviewMode"],data:function(){return{isExpanded:!0}},methods:{expand:function(e){this.isExpanded=!0},minimize:function(e){this.isExpanded=!1}},mounted:function(){e('[data-toggle="tooltip"]').tooltip()}}}).call(t,a(1))},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["help_text","assessorMode","isForAssessor"]}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["value"]}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(4),o=function(e){return e&&e.__esModule?e:{default:e}}(s);t.default={name:"radiobuttons",props:["value","label","name","isRequired","handleChange","conditions","savedValue","readonly"],computed:{isChecked:function(){return this.value==this.savedValue},options:function(){return(0,o.default)(this.conditions)}},mounted:function(){if(this.value==this.savedValue){var e=this.$refs.radioB,t=document.createEvent("HTMLEvents");t.initEvent("change",!0,!0),e.dispatchEvent(t)}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["type","name","value","help_text","label","readonly"]}},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"section",props:["label","Key"],data:function(){return{title:"Section title",eventInitialised:!1}},computed:{section_id:function(){return"section_"+this.Key}},updated:function(){var t=this,a=this;a.$nextTick(function(){a.eventInitialised||(e('.panelClicker[data-toggle="collapse"]').on("click",function(){var t=e(this).children()[0];window.setTimeout(function(){e(t).toggleClass("glyphicon-chevron-down glyphicon-chevron-up")},100)}),t.eventInitialised=!0)})}}}).call(t,a(1))},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(40),o=function(e){return e&&e.__esModule?e:{default:e}}(s);t.default={props:["conditions","renderer","name","data","readonly"],mounted:function(){},render:function(e){var t=this;try{var a=t.conditions;if(a){var s=(0,o.default)(a);return s?e("div",null,[s.map(function(s){return e("div",{attrs:{id:"cons_"+t.name+"_"+s},class:"hidden"},[a[s].map(function(a){return t.renderer.renderChildren(e,a,t.data,t.readonly)})])})]):e("div",null,[" no conditions "])}}catch(e){console.log(e)}}}},function(e,t,a){"use strict";(function(e){function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(4),r=s(o),n=a(20),l=s(n);a(388);a(89),a(88),t.default={props:{name:String,label:String,help_text:String,help_text_assessor:String,value:[String,Array],comment_value:String,assessor_readonly:Boolean,options:Array,conditions:Object,handleChange:null,isMultiple:{default:function(){return!1}},assessorMode:{default:function(){return!1}},readonly:Boolean},data:function(){var e=this;return{selected:this.isMultiple?[]:"",selectid:"select"+e._uid,multipleSelected:[],showingComment:!1}},computed:{cons:function(){return(0,r.default)(this.conditions)}},components:{Comment:l.default},methods:{toggleComment:function(){this.showingComment=!this.showingComment},multipleSelection:function(e){if(Array.isArray(this.value)){if(this.value.find(function(t){return t==e}))return!0}else if(this.value==e)return!0;return!1},init:function(){var t=this;setTimeout(function(a){e("#"+t.selectid).select2({theme:"bootstrap",allowClear:!0,placeholder:"Select..."}).on("select2:select",function(a){var s=e(a.currentTarget);t.handleChange(s[0]),a.preventDefault(),t.isMultiple&&(t.multipleSelected=s.val())}).on("select2:unselect",function(a){var s=e(a.currentTarget);t.handleChange(s[0]),a.preventDefault(),t.isMultiple&&(t.multipleSelected=s.val())}),t.value&&t.handleChange(t.$refs.selectB)},100)}},mounted:function(){this.init()}}}).call(t,a(1))},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(20),o=function(e){return e&&e.__esModule?e:{default:e}}(s);t.default={props:["name","value","help_text","help_text_assessor","assessorMode","label","readonly","comment_value","assessor_readonly"],components:{Comment:o.default},data:function(){return{showingComment:!1}},methods:{toggleComment:function(){this.showingComment=!this.showingComment}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(20),o=function(e){return e&&e.__esModule?e:{default:e}}(s);t.default={props:["type","name","comment_value","value","help_text","help_text_assessor","assessorMode","label","readonly","assessor_readonly"],components:{Comment:o.default},data:function(){return{showingComment:!1}},methods:{toggleComment:function(){this.showingComment=!this.showingComment}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(55),o=function(e){return e&&e.__esModule?e:{default:e}}(s),r=a(3);t.default={name:"InternalApprovalDashboard",data:function(){return{approvals_url:r.api_endpoints.approvals}},watch:{},components:{ApprovalDashTable:o.default},computed:{},methods:{},mounted:function(){}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(56),o=function(e){return e&&e.__esModule?e:{default:e}}(s),r=a(3);t.default={name:"InternalCompliancesDashboard",data:function(){return{compliances_url:r.api_endpoints.compliances}},watch:{},components:{ComplianceDashTable:o.default},computed:{},methods:{},mounted:function(){}}},function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(57),r=s(o),n=a(393),l=s(n),i=a(3);t.default={name:"ExternalDashboard",data:function(){return{proposals_url:i.api_endpoints.proposals}},watch:{},components:{ProposalDashTable:r.default,ReferralDashTable:l.default},computed:{},methods:{},mounted:function(){}}},function(e,t,a){"use strict";(function(e,o,r){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(4),i=n(l),c=a(1),d=n(c),p=a(5),u=n(p),f=a(7),m=n(f),v=a(38),_=n(v),h=a(29),g=(n(h),a(3));t.default={name:"OrganisationAccess",data:function(){var t=this;return{loading:[],profile:{},access:{requester:{}},DATE_TIME_FORMAT:"DD/MM/YYYY HH:mm:ss",members:[],logs_url:g.helpers.add_endpoint_json(g.api_endpoints.organisation_requests,t.$route.params.access_id+"/action_log"),comms_url:g.helpers.add_endpoint_json(g.api_endpoints.organisation_requests,t.$route.params.access_id+"/comms_log"),comms_add_url:g.helpers.add_endpoint_json(g.api_endpoints.organisation_requests,t.$route.params.access_id+"/add_comms_log"),actionDtOptions:{language:{processing:"<i class='fa fa-4x fa-spinner fa-spin'></i>"},responsive:!0,deferRender:!0,autowidth:!0,order:[[2,"desc"]],dom:"<'row'<'col-sm-5'l><'col-sm-6'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,ajax:{url:g.helpers.add_endpoint_json(g.api_endpoints.organisation_requests,t.$route.params.access_id+"/action_log"),dataSrc:""},columns:[{data:"who"},{data:"what"},{data:"when",mRender:function(a,s,o){return e(a).format(t.DATE_TIME_FORMAT)}}]},dtHeaders:["Who","What","When"],actionsTable:null,commsDtOptions:{language:{processing:"<i class='fa fa-4x fa-spinner fa-spin'></i>"},responsive:!0,deferRender:!0,autowidth:!0,order:[[0,"desc"]],processing:!0,ajax:{url:g.helpers.add_endpoint_json(g.api_endpoints.organisation_requests,t.$route.params.access_id+"/comms_log"),dataSrc:""},columns:[{title:"Date",data:"created",render:function(a){return e(a).format(t.DATE_TIME_FORMAT)}},{title:"Type",data:"type"},{title:"Reference",data:"reference"},{title:"To",data:"to",render:t.commaToNewline},{title:"CC",data:"cc",render:t.commaToNewline},{title:"From",data:"fromm",render:t.commaToNewline},{title:"Subject/Desc.",data:"subject"},{title:"Text",data:"text",render:function(e){var t=o.truncate(e,{length:100,omission:"...",separator:" "}),a="<span>"+t+"</span>",s=o.template('<a href="#" role="button" data-toggle="popover" data-trigger="click" data-placement="top auto"data-html="true" data-content="<%= text %>" >more</a>');return o.endsWith(t,"...")&&(a+=s({text:e})),a},createdCell:function(e){(0,d.default)(e).popover()}},{title:"Documents",data:"documents",render:function(e){var t="";return o.forEach(e,function(e){var a="",r="";o.isArray(e)&&e.length>1&&(a=e[0],r=e[1]),"string"==typeof s&&(r=e,a=o.last(e.split("/")),a=o.truncate(a,{length:18,omission:"...",separator:" "})),t+='<a href="'+r+'" target="_blank"><p>'+a+"</p></a><br>"}),t}}]},commsTable:null}},watch:{},filters:{formatDate:function(t){return e(t).format("DD/MM/YYYY HH:mm:ss")}},beforeRouteEnter:function(e,t,a){u.default.http.get(g.helpers.add_endpoint_json(g.api_endpoints.organisation_requests,e.params.access_id)).then(function(e){a(function(t){t.access=e.body})},function(e){console.log(e)})},components:{datatable:m.default,CommsLogs:_.default},computed:{isLoading:function(){return this.loading.length>0},isFinalised:function(){return"With Assesor"==this.access.status||"Approved"==this.access.status}},methods:{commaToNewline:function(e){return e.replace(/[,;]/g,"\n")},fetchAccessGroupMembers:function(){var e=this;e.loading.push("Loading Access Group Members"),e.$http.get(g.api_endpoints.organisation_access_group_members).then(function(t){e.members=t.body,e.loading.splice("Loading Access Group Members",1)},function(t){console.log(t),e.loading.splice("Loading Access Group Members",1)})},assignMyself:function(){var e=this;e.$http.get(g.helpers.add_endpoint_json(g.api_endpoints.organisation_requests,e.access.id+"/assign_request_user")).then(function(t){console.log(t),e.access=t.body},function(e){console.log(e)})},assignTo:function(){var e=this;if("null"!=e.access.assigned_officer){var t={user_id:e.access.assigned_officer};e.$http.post(g.helpers.add_endpoint_json(g.api_endpoints.organisation_requests,e.access.id+"/assign_to"),(0,i.default)(t),{emulateJSON:!0}).then(function(t){console.log(t),e.access=t.body},function(e){console.log(e)}),console.log("there")}else e.$http.get(g.helpers.add_endpoint_json(g.api_endpoints.organisation_requests,e.access.id+"/unassign")).then(function(t){console.log(t),e.access=t.body},function(e){console.log(e)})},acceptRequest:function(){var e=this;r({title:"Accept Organisation Request",text:"Are you sure you want to accept this organisation request?",type:"question",showCancelButton:!0,confirmButtonText:"Accept"}).then(function(){e.$http.get(g.helpers.add_endpoint_json(g.api_endpoints.organisation_requests,e.access.id+"/accept")).then(function(t){console.log(t),e.access=t.body},function(e){console.log(e)})},function(e){})},fetchProfile:function(){var e=this;u.default.http.get(g.api_endpoints.profile).then(function(t){e.profile=t.body},function(e){console.log(e)})},check_assessor:function(){var e=this;return e.members.filter(function(t){return t.name==e.profile.full_name}).length>0}},mounted:function(){this.fetchAccessGroupMembers(),this.fetchProfile()}}}).call(t,a(0),a(37),a(10))},function(e,t,a){"use strict";(function(e){function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(1),r=s(o),n=a(7),l=s(n),i=a(3);t.default={name:"OrganisationAccessDashboard",data:function(){var t=this;return{filterOrganisation:"All",filterApplicant:"All",filterStatus:"All",organisationChoices:[],applicantChoices:[],statusChoices:[],dtOptions:{language:{processing:"<i class='fa fa-4x fa-spinner fa-spin'></i>"},responsive:!0,processing:!0,ajax:{url:i.helpers.add_endpoint_json(i.api_endpoints.organisation_requests,"datatable_list"),dataSrc:""},columns:[{data:"id"},{data:"name"},{data:"requester"},{data:"status"},{data:"lodgement_date",mRender:function(t,a,s){return e(t).format("DD/MM/YYYY")}},{data:"assigned_officer"},{data:"id",mRender:function(e,t,a){if("Approved"==a.status||"Declined"==a.status)var s="<a href='/internal/organisations/access/__ID__' >View </a>";else var s="<a href='/internal/organisations/access/__ID__'> Process </a>";return s.replace(/__ID__/g,e)}}],initComplete:function(){t.$refs.org_access_table.vmDataTable.columns(1).data().unique().sort().each(function(e,a){var s=[];r.default.each(e,function(e,t){null!=t&&s.indexOf(t)<0&&s.push(t)}),t.organisationChoices=s}),t.$refs.org_access_table.vmDataTable.columns(2).data().unique().sort().each(function(e,a){var s=[];r.default.each(e,function(e,t){null!=t&&s.indexOf(t)<0&&s.push(t)}),t.applicantChoices=s}),t.$refs.org_access_table.vmDataTable.columns(3).data().unique().sort().each(function(e,a){var s=[];r.default.each(e,function(e,t){null!=t&&s.indexOf(t)<0&&s.push(t)}),t.statusChoices=s})}},dtHeaders:["Request Number","Organisation","Applicant","Status","Lodged on","Assigned To","Action"]}},watch:{filterOrganisation:function(){var e=this;"All"!=e.filterOrganisation?e.$refs.org_access_table.vmDataTable.columns(1).search(e.filterOrganisation).draw():e.$refs.org_access_table.vmDataTable.columns(1).search("").draw()},filterApplicant:function(){var e=this;"All"!=e.filterApplicant?e.$refs.org_access_table.vmDataTable.columns(2).search(e.filterApplicant).draw():e.$refs.org_access_table.vmDataTable.columns(2).search("").draw()},filterStatus:function(){var e=this;"All"!=e.filterStatus?e.$refs.org_access_table.vmDataTable.columns(3).search(e.filterStatus).draw():e.$refs.org_access_table.vmDataTable.columns(3).search("").draw()}},components:{datatable:l.default},computed:{isLoading:function(){return 0==this.loading.length}},methods:{},mounted:function(){}}}).call(t,a(0))},function(e,t,a){"use strict";(function(e,s){function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(4),n=o(r),l=a(23),i=o(l),c=a(5),d=(o(c),a(3)),p=a(7),u=o(p),f=a(210),m=o(f),v=a(57),_=o(v),h=a(55),g=o(h),b=a(56),C=o(b),y=a(38),w=o(y),x=a(67),P=o(x),D=a(66);o(D);t.default={name:"Organisation",data:function(){var e=this;return{adBody:"adBody"+e._uid,aBody:"aBody"+e._uid,pdBody:"pdBody"+e._uid,pBody:"pBody"+e._uid,cdBody:"cdBody"+e._uid,cBody:"cBody"+e._uid,oBody:"oBody"+e._uid,dTab:"dTab"+e._uid,oTab:"oTab"+e._uid,org:{address:{}},loading:[],countries:[],updatingDetails:!1,updatingAddress:!1,updatingContact:!1,empty_list:"/api/empty_list",logsTable:null,DATE_TIME_FORMAT:"DD/MM/YYYY HH:mm:ss",activate_tables:!1,comms_url:d.helpers.add_endpoint_json(d.api_endpoints.organisations,e.$route.params.org_id+"/comms_log"),logs_url:d.helpers.add_endpoint_json(d.api_endpoints.organisations,e.$route.params.org_id+"/action_log"),comms_add_url:d.helpers.add_endpoint_json(d.api_endpoints.organisations,e.$route.params.org_id+"/add_comms_log"),contacts_headers:["Name","Phone","Mobile","Fax","Email","Action"],proposals_url:d.helpers.add_endpoint_json(d.api_endpoints.organisations,e.$route.params.org_id+"/proposals"),approvals_url:d.api_endpoints.approvals+"?org_id="+e.$route.params.org_id,compliances_url:d.api_endpoints.compliances+"?org_id="+e.$route.params.org_id,contacts_options:{language:{processing:"<i class='fa fa-4x fa-spinner fa-spin'></i>"},responsive:!0,ajax:{url:d.helpers.add_endpoint_json(d.api_endpoints.organisations,e.$route.params.org_id+"/contacts"),dataSrc:""},columns:[{mRender:function(e,t,a){return a.first_name+" "+a.last_name}},{data:"phone_number"},{data:"mobile_number"},{data:"fax_number"},{data:"email"},{mRender:function(e,t,a){var s="",o=a.first_name+" "+a.last_name;return s+="<a data-email='"+a.email+"' data-name='"+o+"' data-id='"+a.id+'\' class="remove-contact">Remove</a><br/>'}}],processing:!0}}},components:{datatable:u.default,ProposalDashTable:_.default,ApprovalDashTable:g.default,ComplianceDashTable:C.default,AddContact:m.default,CommsLogs:w.default},computed:{isLoading:function(){return 0==this.loading.length}},beforeRouteEnter:function(e,t,a){var s=[P.default.fetchCountries(),P.default.fetchOrganisation(e.params.org_id)];i.default.all(s).then(function(e){a(function(t){t.countries=e[0],t.org=e[1],t.org.address=null!=t.org.address?t.org.address:{},t.org.pins=null!=t.org.pins?t.org.pins:{}})})},beforeRouteUpdate:function(e,t,a){var s=[P.default.fetchOrganisation(e.params.org_id)];i.default.all(s).then(function(e){a(function(t){t.org=e[0],t.org.address=null!=t.org.address?t.org.address:{},t.org.pins=null!=t.org.pins?t.org.pins:{}})})},methods:{addContact:function(){this.$refs.add_contact.isModalOpen=!0},eventListeners:function(){var t=this;t.$refs.contacts_datatable.vmDataTable.on("click",".remove-contact",function(a){a.preventDefault();var o=e(a.target).data("name"),r=e(a.target).data("email"),n=e(a.target).data("id");s({title:"Delete Contact",text:"Are you sure you want to remove "+o+"("+r+") as a contact  ?",type:"error",showCancelButton:!0,confirmButtonText:"Accept"}).then(function(){t.deleteContact(n)},function(e){})}),e('a[href="#'+t.oTab+'"]').on("shown.bs.tab",function(e){t.$refs.proposals_table.$refs.proposal_datatable.vmDataTable.columns.adjust().responsive.recalc(),t.$refs.approvals_table.$refs.proposal_datatable.vmDataTable.columns.adjust().responsive.recalc(),t.$refs.compliances_table.$refs.proposal_datatable.vmDataTable.columns.adjust().responsive.recalc()})},updateDetails:function(){var e=this;e.updatingDetails=!0,e.$http.post(d.helpers.add_endpoint_json(d.api_endpoints.organisations,e.org.id+"/update_details"),(0,n.default)(e.org),{emulateJSON:!0}).then(function(t){e.updatingDetails=!1,e.org=t.body,null==e.org.address&&(e.org.address={}),s("Saved","Organisation details have been saved","success")},function(t){console.log(t),e.updatingDetails=!1})},addedContact:function(){var e=this;s("Added","The contact has been successfully added.","success"),e.$refs.contacts_datatable.vmDataTable.ajax.reload()},deleteContact:function(e){var t=this;t.$http.delete(d.helpers.add_endpoint_json(d.api_endpoints.organisation_contacts,e),{emulateJSON:!0}).then(function(e){s("Contact Deleted","The contact was successfully deleted","success"),t.$refs.contacts_datatable.vmDataTable.ajax.reload()},function(e){console.log(e),s("Contact Deleted","The contact could not be deleted because of the following error "+e,"error")})},updateAddress:function(){var e=this;e.updatingAddress=!0,e.$http.post(d.helpers.add_endpoint_json(d.api_endpoints.organisations,e.org.id+"/update_address"),(0,n.default)(e.org.address),{emulateJSON:!0}).then(function(t){e.updatingAddress=!1,e.org=t.body,s("Saved","Address details have been saved","success"),null==e.org.address&&(e.org.address={})},function(t){console.log(t),e.updatingAddress=!1})}},mounted:function(){this.personal_form=document.forms.personal_form,this.eventListeners()}}}).call(t,a(1),a(10))},function(e,t,a){"use strict";(function(e,s){function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(4),n=o(r),l=a(5),i=o(l),c=a(22),d=o(c),p=a(21),u=o(p),f=a(3);t.default={name:"amendment-request",components:{modal:d.default,alert:u.default},props:{proposal_id:{type:Number}},data:function(){return{isModalOpen:!1,form:null,amendment:{reason:"",amendingProposal:!1,proposal:this.proposal_id},reason_choices:{},errors:!1,errorString:"",validation_form:null}},computed:{showError:function(){return this.errors}},methods:{ok:function(){var t=this;e(t.form).valid()&&t.sendData()},cancel:function(){this.close()},close:function(){this.isModalOpen=!1,this.amendment={reason:"",proposal:this.proposal_id},this.errors=!1,e(this.$refs.reason).val(null).trigger("change"),e(".has-error").removeClass("has-error"),this.validation_form.resetForm()},fetchAmendmentChoices:function(){var e=this;e.$http.get("/api/amendment_request_reason_choices.json").then(function(t){e.reason_choices=t.body},function(e){console.log(e)})},sendData:function(){var e=this;e.errors=!1;var t=JSON.parse((0,n.default)(e.amendment));e.$http.post("/api/amendment_request.json",(0,n.default)(t),{emulateJSON:!0}).then(function(t){s("Saved","An email has been sent to applicant with the request to amend this Proposal","success"),e.amendingProposal=!0,e.close(),i.default.http.get("/api/proposal/"+e.proposal_id+"/internal_proposal.json").then(function(t){e.$emit("refreshFromResponse",t)},function(e){console.log(e)})},function(t){console.log(t),e.errors=!0,e.errorString=f.helpers.apiVueResourceError(t),e.amendingProposal=!0})},addFormValidations:function(){var t=this;t.validation_form=e(t.form).validate({rules:{reason:"required"},messages:{reason:"field is required"},showErrors:function(t,a){e.each(this.validElements(),function(t,a){e(a).attr("data-original-title","").parents(".form-group").removeClass("has-error")}),e("."+this.settings.validClass).tooltip("destroy");for(var s=0;s<a.length;s++){var o=a[s];e(o.element).tooltip({trigger:"focus"}).attr("data-original-title",o.message).parents(".form-group").addClass("has-error")}}})},eventListerners:function(){var t=this;e(t.$refs.reason).select2({theme:"bootstrap",allowClear:!0,placeholder:"Select Reason"}).on("select2:select",function(a){var s=e(a.currentTarget);t.amendment.reason=s.val()}).on("select2:unselect",function(a){var s=e(a.currentTarget);t.amendment.reason=s.val()})}},mounted:function(){var e=this;e.form=document.forms.amendForm,e.fetchAmendmentChoices(),e.addFormValidations(),this.$nextTick(function(){e.eventListerners()})}}}).call(t,a(1),a(10))},function(e,t,a){"use strict";(function(e,s,o){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(4),l=r(n),i=a(58),c=r(i),d=a(5),p=r(d),u=a(424),f=r(u),m=a(421),v=r(m),_=a(7),h=r(_),g=a(425),b=r(g),C=a(426),y=r(C),w=a(423),x=r(w),P=a(38),D=r(P),k=a(211),$=r(k),S=a(29),T=(r(S),a(3));t.default={name:"InternalProposal",data:function(){var e=this;return{detailsBody:"detailsBody"+e._uid,addressBody:"addressBody"+e._uid,contactsBody:"contactsBody"+e._uid,proposal:null,original_proposal:null,loading:[],selected_referral:"",form:null,members:[],department_users:[],contacts_table_initialised:!1,initialisedSelects:!1,showingProposal:!1,showingRequirements:!1,state_options:["requirements","processing"],contacts_table_id:e._uid+"contacts-table",contacts_options:{language:{processing:"<i class='fa fa-4x fa-spinner fa-spin'></i>"},responsive:!0,ajax:{url:e.contactsURL,dataSrc:""},columns:[{title:"Name",mRender:function(e,t,a){return a.first_name+" "+a.last_name}},{title:"Phone",data:"phone_number"},{title:"Mobile",data:"mobile_number"},{title:"Fax",data:"fax_number"},{title:"Email",data:"email"}],processing:!0},contacts_table:null,DATE_TIME_FORMAT:"DD/MM/YYYY HH:mm:ss",comms_url:T.helpers.add_endpoint_json(T.api_endpoints.proposals,e.$route.params.proposal_id+"/comms_log"),comms_add_url:T.helpers.add_endpoint_json(T.api_endpoints.proposals,e.$route.params.proposal_id+"/add_comms_log"),logs_url:T.helpers.add_endpoint_json(T.api_endpoints.proposals,e.$route.params.proposal_id+"/action_log"),panelClickersInitialised:!1,sendingReferral:!1}},components:{Proposal:c.default,datatable:h.default,ProposedDecline:f.default,AmendmentRequest:v.default,Requirements:b.default,ProposedApproval:y.default,ApprovalScreen:x.default,CommsLogs:D.default,MoreReferrals:$.default},filters:{formatDate:function(t){return t?e(t).format("DD/MM/YYYY HH:mm:ss"):""}},watch:{},computed:{contactsURL:function(){return null!=this.proposal?T.helpers.add_endpoint_json(T.api_endpoints.organisations,this.proposal.applicant.id+"/contacts"):""},isLoading:function(){return this.loading.length>0},csrf_token:function(){return T.helpers.getCookie("csrftoken")},proposal_form_url:function(){return this.proposal?"/api/proposal/"+this.proposal.id+"/assessor_save.json":""},isFinalised:function(){return"Declined"==this.proposal.processing_status||"Approved"==this.proposal.processing_status},canAssess:function(){return!(!this.proposal||!this.proposal.assessor_mode.assessor_can_assess)},hasAssessorMode:function(){return!(!this.proposal||!this.proposal.assessor_mode.has_assessor_mode)},canAction:function(){return"With Approver"==this.proposal.processing_status?!(!this.proposal||"With Approver"!=this.proposal.processing_status&&"With Assessor"!=this.proposal.processing_status&&"With Assessor (Requirements)"!=this.proposal.processing_status||this.isFinalised||this.proposal.can_user_edit||this.proposal.current_assessor.id!=this.proposal.assigned_approver&&null!=this.proposal.assigned_approver||!this.proposal.assessor_mode.assessor_can_assess):!(!this.proposal||"With Approver"!=this.proposal.processing_status&&"With Assessor"!=this.proposal.processing_status&&"With Assessor (Requirements)"!=this.proposal.processing_status||this.isFinalised||this.proposal.can_user_edit||this.proposal.current_assessor.id!=this.proposal.assigned_officer&&null!=this.proposal.assigned_officer||!this.proposal.assessor_mode.assessor_can_assess)},canLimitedAction:function(){return"With Approver"==this.proposal.processing_status?!(!this.proposal||"With Assessor"!=this.proposal.processing_status&&"With Referral"!=this.proposal.processing_status&&"With Assessor (Requirements)"!=this.proposal.processing_status||this.isFinalised||this.proposal.can_user_edit||this.proposal.current_assessor.id!=this.proposal.assigned_approver&&null!=this.proposal.assigned_approver||!this.proposal.assessor_mode.assessor_can_assess):!(!this.proposal||"With Assessor"!=this.proposal.processing_status&&"With Referral"!=this.proposal.processing_status&&"With Assessor (Requirements)"!=this.proposal.processing_status||this.isFinalised||this.proposal.can_user_edit||this.proposal.current_assessor.id!=this.proposal.assigned_officer&&null!=this.proposal.assigned_officer||!this.proposal.assessor_mode.assessor_can_assess)},canSeeSubmission:function(){return this.proposal&&"With Assessor (Requirements)"!=this.proposal.processing_status&&"With Approver"!=this.proposal.processing_status&&!this.isFinalised}},methods:{initialiseOrgContactTable:function(){var e=this;e.proposal&&!e.contacts_table_initialised&&(e.contacts_options.ajax.url=T.helpers.add_endpoint_json(T.api_endpoints.organisations,e.proposal.applicant.id+"/contacts"),e.contacts_table=s("#"+e.contacts_table_id).DataTable(e.contacts_options),e.contacts_table_initialised=!0)},commaToNewline:function(e){return e.replace(/[,;]/g,"\n")},proposedDecline:function(){this.$refs.proposed_decline.decline=null!=this.proposal.proposaldeclineddetails?T.helpers.copyObject(this.proposal.proposaldeclineddetails):{},this.$refs.proposed_decline.isModalOpen=!0},proposedApproval:function(){this.$refs.proposed_approval.approval=null!=this.proposal.proposed_issuance_approval?T.helpers.copyObject(this.proposal.proposed_issuance_approval):{},this.$refs.proposed_approval.isModalOpen=!0},issueProposal:function(){this.$refs.proposed_approval.approval=T.helpers.copyObject(this.proposal.proposed_issuance_approval),this.$refs.proposed_approval.state="final_approval",this.$refs.proposed_approval.isModalOpen=!0},declineProposal:function(){this.$refs.proposed_decline.decline=null!=this.proposal.proposaldeclineddetails?T.helpers.copyObject(this.proposal.proposaldeclineddetails):{},this.$refs.proposed_decline.isModalOpen=!0},amendmentRequest:function(){var e="";s(".deficiency").each(function(t,a){e+=""!=s(a).val()?"Question - "+s(a).data("question")+"\nDeficiency - "+s(a).val()+"\n\n":""}),this.$refs.amendment_request.amendment.text=e,this.$refs.amendment_request.isModalOpen=!0},save:function(e){var t=this,a=new FormData(t.form);t.$http.post(t.proposal_form_url,a).then(function(e){o("Saved","Your proposal has been saved","success")},function(e){})},toggleProposal:function(){this.showingProposal=!this.showingProposal},toggleRequirements:function(){this.showingRequirements=!this.showingRequirements},updateAssignedOfficerSelect:function(){var e=this;"With Approver"==e.proposal.processing_status?(s(e.$refs.assigned_officer).val(e.proposal.assigned_approver),s(e.$refs.assigned_officer).trigger("change")):(s(e.$refs.assigned_officer).val(e.proposal.assigned_officer),s(e.$refs.assigned_officer).trigger("change"))},assignRequestUser:function(){var e=this;e.$http.get(T.helpers.add_endpoint_json(T.api_endpoints.proposals,e.proposal.id+"/assign_request_user")).then(function(t){e.proposal=t.body,e.original_proposal=T.helpers.copyObject(t.body),e.proposal.applicant.address=null!=e.proposal.applicant.address?e.proposal.applicant.address:{},e.updateAssignedOfficerSelect()},function(t){e.proposal=T.helpers.copyObject(e.original_proposal),e.proposal.applicant.address=null!=e.proposal.applicant.address?e.proposal.applicant.address:{},e.updateAssignedOfficerSelect(),o("Proposal Error",T.helpers.apiVueResourceError(t),"error")})},refreshFromResponse:function(e){var t=this;t.original_proposal=T.helpers.copyObject(e.body),t.proposal=T.helpers.copyObject(e.body),t.proposal.applicant.address=null!=t.proposal.applicant.address?t.proposal.applicant.address:{},t.$nextTick(function(){t.initialiseAssignedOfficerSelect(!0),t.updateAssignedOfficerSelect()})},assignTo:function(){var e=this,t=!0,a={};"With Approver"==e.processing_status?(t=null==e.proposal.assigned_approver||"undefined"==e.proposal.assigned_approver,a={assessor_id:e.proposal.assigned_approver}):(t=null==e.proposal.assigned_officer||"undefined"==e.proposal.assigned_officer,a={assessor_id:e.proposal.assigned_officer}),t?e.$http.get(T.helpers.add_endpoint_json(T.api_endpoints.proposals,e.proposal.id+"/unassign")).then(function(t){e.proposal=t.body,e.original_proposal=T.helpers.copyObject(t.body),e.proposal.applicant.address=null!=e.proposal.applicant.address?e.proposal.applicant.address:{},e.updateAssignedOfficerSelect()},function(t){e.proposal=T.helpers.copyObject(e.original_proposal),e.proposal.applicant.address=null!=e.proposal.applicant.address?e.proposal.applicant.address:{},e.updateAssignedOfficerSelect(),o("Proposal Error",T.helpers.apiVueResourceError(t),"error")}):e.$http.post(T.helpers.add_endpoint_json(T.api_endpoints.proposals,e.proposal.id+"/assign_to"),(0,l.default)(a),{emulateJSON:!0}).then(function(t){e.proposal=t.body,e.original_proposal=T.helpers.copyObject(t.body),e.proposal.applicant.address=null!=e.proposal.applicant.address?e.proposal.applicant.address:{},e.updateAssignedOfficerSelect()},function(t){e.proposal=T.helpers.copyObject(e.original_proposal),e.proposal.applicant.address=null!=e.proposal.applicant.address?e.proposal.applicant.address:{},e.updateAssignedOfficerSelect(),o("Proposal Error",T.helpers.apiVueResourceError(t),"error")})},switchStatus:function(e){var t=this,a={status:e};t.$http.post(T.helpers.add_endpoint_json(T.api_endpoints.proposals,t.proposal.id+"/switch_status"),(0,l.default)(a),{emulateJSON:!0}).then(function(e){t.proposal=e.body,t.original_proposal=T.helpers.copyObject(e.body),t.proposal.applicant.address=null!=t.proposal.applicant.address?t.proposal.applicant.address:{},t.$nextTick(function(){t.initialiseAssignedOfficerSelect(!0),t.updateAssignedOfficerSelect()})},function(e){t.proposal=T.helpers.copyObject(t.original_proposal),t.proposal.applicant.address=null!=t.proposal.applicant.address?t.proposal.applicant.address:{},o("Proposal Error",T.helpers.apiVueResourceError(e),"error")})},fetchDeparmentUsers:function(){var e=this;e.loading.push("Loading Department Users"),e.$http.get(T.api_endpoints.department_users).then(function(t){e.department_users=t.body,e.loading.splice("Loading Department Users",1)},function(t){console.log(t),e.loading.splice("Loading Department Users",1)})},initialiseAssignedOfficerSelect:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;e&&s(t.$refs.assigned_officer).data("select2")&&s(t.$refs.assigned_officer).select2("destroy"),s(t.$refs.assigned_officer).select2({theme:"bootstrap",allowClear:!0,placeholder:"Select Officer"}).on("select2:select",function(e){var a=s(e.currentTarget);"With Approver"==t.proposal.processing_status?t.proposal.assigned_approver=a.val():t.proposal.assigned_officer=a.val(),t.assignTo()}).on("select2:unselecting",function(e){var t=s(this);setTimeout(function(){t.select2("close")},0)}).on("select2:unselect",function(e){s(e.currentTarget);"With Approver"==t.proposal.processing_status?t.proposal.assigned_approver=null:t.proposal.assigned_officer=null,t.assignTo()})},initialiseSelects:function(){var e=this;e.initialisedSelects||(s(e.$refs.department_users).select2({theme:"bootstrap",allowClear:!0,placeholder:"Select Referral"}).on("select2:select",function(t){var a=s(t.currentTarget);e.selected_referral=a.val()}).on("select2:unselect",function(t){s(t.currentTarget);e.selected_referral=""}),e.initialiseAssignedOfficerSelect(),e.initialisedSelects=!0)},sendReferral:function(){var e=this,t={email:e.selected_referral};e.sendingReferral=!0,e.$http.post(T.helpers.add_endpoint_json(T.api_endpoints.proposals,e.proposal.id+"/assesor_send_referral"),(0,l.default)(t),{emulateJSON:!0}).then(function(t){e.sendingReferral=!1,e.original_proposal=T.helpers.copyObject(t.body),e.proposal=t.body,e.proposal.applicant.address=null!=e.proposal.applicant.address?e.proposal.applicant.address:{},o("Referral Sent","The referral has been sent to "+e.department_users.find(function(t){return t.email==e.selected_referral}).name,"success"),s(e.$refs.department_users).val(null).trigger("change"),e.selected_referral=""},function(t){console.log(t),o("Referral Error",T.helpers.apiVueResourceError(t),"error"),e.sendingReferral=!1})},remindReferral:function(e){var t=this;t.$http.get(T.helpers.add_endpoint_json(T.api_endpoints.referrals,e.id+"/remind")).then(function(a){t.original_proposal=T.helpers.copyObject(a.body),t.proposal=a.body,t.proposal.applicant.address=null!=t.proposal.applicant.address?t.proposal.applicant.address:{},o("Referral Reminder","A reminder has been sent to "+e.referral,"success")},function(e){o("Proposal Error",T.helpers.apiVueResourceError(e),"error")})},resendReferral:function(e){var t=this;t.$http.get(T.helpers.add_endpoint_json(T.api_endpoints.referrals,e.id+"/resend")).then(function(a){t.original_proposal=T.helpers.copyObject(a.body),t.proposal=a.body,t.proposal.applicant.address=null!=t.proposal.applicant.address?t.proposal.applicant.address:{},o("Referral Resent","The referral has been resent to "+e.referral,"success")},function(e){o("Proposal Error",T.helpers.apiVueResourceError(e),"error")})},recallReferral:function(e){var t=this;t.$http.get(T.helpers.add_endpoint_json(T.api_endpoints.referrals,e.id+"/recall")).then(function(a){t.original_proposal=T.helpers.copyObject(a.body),t.proposal=a.body,t.proposal.applicant.address=null!=t.proposal.applicant.address?t.proposal.applicant.address:{},o("Referral Recall","The referall has been recalled from "+e.referral,"success")},function(e){o("Proposal Error",T.helpers.apiVueResourceError(e),"error")})}},mounted:function(){this.fetchDeparmentUsers()},updated:function(){var e=this;e.panelClickersInitialised||(s('.panelClicker[data-toggle="collapse"]').on("click",function(){var e=s(this).children()[0];window.setTimeout(function(){s(e).toggleClass("glyphicon-chevron-down glyphicon-chevron-up")},100)}),e.panelClickersInitialised=!0),this.$nextTick(function(){e.initialiseOrgContactTable(),e.initialiseSelects(),e.form=document.forms.new_proposal})},beforeRouteEnter:function(e,t,a){p.default.http.get("/api/proposal/"+e.params.proposal_id+"/internal_proposal.json").then(function(e){a(function(t){t.proposal=e.body,t.original_proposal=T.helpers.copyObject(e.body),t.proposal.applicant.address=null!=t.proposal.applicant.address?t.proposal.applicant.address:{}})},function(e){console.log(e)})},beforeRouteUpdate:function(e,t,a){p.default.http.get("/api/proposal/"+e.params.proposal_id+".json").then(function(e){a(function(t){t.proposal=e.body,t.original_proposal=T.helpers.copyObject(e.body),t.proposal.applicant.address=null!=t.proposal.applicant.address?t.proposal.applicant.address:{}})},function(e){console.log(e)})}}}).call(t,a(0),a(1),a(10))},function(e,t,a){"use strict";(function(e,s){function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(4),n=o(r),l=a(22),i=o(l),c=a(21),d=o(c),p=a(3);t.default={name:"Requirement-Detail",components:{modal:i.default,alert:d.default},props:{proposal_id:{type:Number,required:!0},requirements:{type:Array,required:!0}},data:function(){return{isModalOpen:!1,form:null,requirement:{due_date:"",standard:!0,recurrence:!1,recurrence_pattern:"1",proposal:this.proposal_id},addingRequirement:!1,updatingRequirement:!1,validation_form:null,type:"1",errors:!1,errorString:"",successString:"",success:!1,datepickerOptions:{format:"DD/MM/YYYY",showClear:!0,useCurrent:!1,keepInvalid:!0,allowInputToggle:!0},validDate:!1}},computed:{showError:function(){return this.errors},due_date:{cache:!1,get:function(){return void 0==this.requirement.due_date||""==this.requirement.due_date||null==this.requirement.due_date?"":this.requirement.due_date}}},watch:{due_date:function(){this.validDate=e(this.requirement.due_date,"DD/MM/YYYY").isValid()}},methods:{initialiseRequirement:function(){this.requirement={due_date:"",standard:!0,recurrence:!1,recurrence_pattern:"1",proposal:vm.proposal_id}},ok:function(){var e=this;s(e.form).valid()&&e.sendData()},cancel:function(){this.close()},close:function(){this.isModalOpen=!1,s(this.$refs.standard_req).val(null).trigger("change"),this.requirement={standard:!0,recurrence:!1,due_date:"",recurrence_pattern:"1",proposal:this.proposal_id},this.errors=!1,s(".has-error").removeClass("has-error"),s(this.$refs.due_date).data("DateTimePicker").clear(),this.validation_form.resetForm()},fetchContact:function(e){var t=this;t.$http.get(p.api_endpoints.contact(e)).then(function(e){t.contact=e.body,t.isModalOpen=!0},function(e){console.log(e)})},sendData:function(){var e=this;e.errors=!1;var t=JSON.parse((0,n.default)(e.requirement));t.standard?t.free_requirement="":(t.standard_requirement="",s(this.$refs.standard_req).val(null).trigger("change")),t.due_date||(t.due_date=null,t.recurrence=!1,delete t.recurrence_pattern,t.recurrence_schedule&&delete t.recurrence_schedule),e.requirement.id?(e.updatingRequirement=!0,e.$http.put(p.helpers.add_endpoint_json(p.api_endpoints.proposal_requirements,t.id),(0,n.default)(t),{emulateJSON:!0}).then(function(t){e.updatingRequirement=!1,e.$parent.updatedRequirements(),e.close()},function(t){e.errors=!0,e.errorString=p.helpers.apiVueResourceError(t),e.updatingRequirement=!1})):(e.addingRequirement=!0,e.$http.post(p.api_endpoints.proposal_requirements,(0,n.default)(t),{emulateJSON:!0}).then(function(t){e.addingRequirement=!1,e.close(),e.$parent.updatedRequirements()},function(t){e.errors=!0,e.addingRequirement=!1,e.errorString=p.helpers.apiVueResourceError(t)}))},addFormValidations:function(){var e=this;e.validation_form=s(e.form).validate({rules:{standard_requirement:{required:{depends:function(t){return e.requirement.standard}}},free_requirement:{required:{depends:function(t){return!e.requirement.standard}}},schedule:{required:{depends:function(t){return e.requirement.recurrence}}}},messages:{arrival:"field is required",departure:"field is required",campground:"field is required",campsite:"field is required"},showErrors:function(e,t){s.each(this.validElements(),function(e,t){s(t).attr("data-original-title","").parents(".form-group").removeClass("has-error")}),s("."+this.settings.validClass).tooltip("destroy");for(var a=0;a<t.length;a++){var o=t[a];s(o.element).tooltip({trigger:"focus"}).attr("data-original-title",o.message).parents(".form-group").addClass("has-error")}}})},eventListeners:function(){var e=this;s(e.$refs.due_date).datetimepicker(e.datepickerOptions),s(e.$refs.due_date).on("dp.change",function(t){s(e.$refs.due_date).data("DateTimePicker").date()?e.requirement.due_date=t.date.format("DD/MM/YYYY"):""===s(e.$refs.due_date).data("date")&&(e.requirement.due_date="")}),s(e.$refs.standard_req).select2({theme:"bootstrap",allowClear:!0,minimumInputLength:2,placeholder:"Select Requirement"}).on("select2:select",function(t){var a=s(t.currentTarget);e.requirement.standard_requirement=a.val()}).on("select2:unselect",function(t){var a=s(t.currentTarget);e.requirement.standard_requirement=a.val()})}},mounted:function(){var e=this;e.form=document.forms.requirementForm,e.addFormValidations(),this.$nextTick(function(){e.eventListeners()})}}}).call(t,a(0),a(1))},function(e,t,a){"use strict";(function(e){function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(3),r=a(7),n=(s(r),a(212));s(n);t.default={name:"InternalProposalRequirements",props:{proposal:Object},data:function(){var e=this;return{proposedDecision:"proposal-decision-"+e._uid,proposedLevel:"proposal-level-"+e._uid}},watch:{},components:{},computed:{hasAssessorMode:function(){return this.proposal.assessor_mode.has_assessor_mode},isFinalised:function(){return"Approved"==this.proposal.processing_status||"Declined"==this.proposal.processing_status}},methods:{addRequirement:function(){this.$refs.requirement_detail.isModalOpen=!0},removeRequirement:function(t){var a=this;e({title:"Remove Requirement",text:"Are you sure you want to remove this requirement?",type:"warning",showCancelButton:!0,confirmButtonText:"Remove Requirement",confirmButtonColor:"#d9534f"}).then(function(){a.$http.delete(o.helpers.add_endpoint_json(o.api_endpoints.proposal_requirements,t)).then(function(e){a.$refs.requirements_datatable.vmDataTable.ajax.reload()},function(e){console.log(e)})},function(e){})}},mounted:function(){}}}).call(t,a(10))},function(e,t,a){"use strict";(function(e){function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(4),r=s(o),n=a(22),l=s(n),i=a(21),c=s(i),d=a(3);t.default={name:"Decline-Proposal",components:{modal:l.default,alert:c.default},props:{proposal_id:{type:Number,required:!0},processing_status:{type:String,required:!0}},data:function(){return{isModalOpen:!1,form:null,decline:{},decliningProposal:!1,errors:!1,validation_form:null,errorString:"",successString:"",success:!1}},computed:{showError:function(){return this.errors},title:function(){return"With Approver"==this.processing_status?"Decline":"Proposed Decline"}},methods:{ok:function(){var t=this;e(t.form).valid()&&t.sendData()},cancel:function(){this.close()},close:function(){this.isModalOpen=!1,this.decline={},this.errors=!1,e(".has-error").removeClass("has-error"),this.validation_form.resetForm()},check_status:function(){return"With Approver"==this.processing_status},sendData:function(){var e=this;e.errors=!1;var t=JSON.parse((0,r.default)(e.decline));e.decliningProposal=!0,"With Approver"!=e.processing_status?e.$http.post(d.helpers.add_endpoint_json(d.api_endpoints.proposals,e.proposal_id+"/proposed_decline"),(0,r.default)(t),{emulateJSON:!0}).then(function(t){e.decliningProposal=!1,e.close(),e.$emit("refreshFromResponse",t),e.$router.push({path:"/internal"})},function(t){e.errors=!0,e.decliningProposal=!1,e.errorString=d.helpers.apiVueResourceError(t)}):e.$http.post(d.helpers.add_endpoint_json(d.api_endpoints.proposals,e.proposal_id+"/final_decline"),(0,r.default)(t),{emulateJSON:!0}).then(function(t){e.decliningProposal=!1,e.close(),e.$emit("refreshFromResponse",t)},function(t){e.errors=!0,e.decliningProposal=!1,e.errorString=d.helpers.apiVueResourceError(t)})},addFormValidations:function(){var t=this;t.validation_form=e(t.form).validate({rules:{reason:"required"},messages:{arrival:"field is required",departure:"field is required",campground:"field is required",campsite:"field is required"},showErrors:function(t,a){e.each(this.validElements(),function(t,a){e(a).attr("data-original-title","").parents(".form-group").removeClass("has-error")}),e("."+this.settings.validClass).tooltip("destroy");for(var s=0;s<a.length;s++){var o=a[s];e(o.element).tooltip({trigger:"focus"}).attr("data-original-title",o.message).parents(".form-group").addClass("has-error")}}})},eventListerners:function(){}},mounted:function(){var e=this;e.form=document.forms.declineForm,e.addFormValidations()}}}).call(t,a(1))},function(e,t,a){"use strict";(function(e,s,o){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(3),l=a(7),i=r(l),c=a(212),d=r(c);t.default={name:"InternalProposalRequirements",props:{proposal:Object},data:function(){var t=this;return{panelBody:"proposal-requirements-"+t._uid,requirements:[],requirement_headers:["Requirement","Due Date","Recurrence","Action","Order"],requirement_options:{autoWidth:!1,language:{processing:"<i class='fa fa-4x fa-spinner fa-spin'></i>"},responsive:!0,ajax:{url:n.helpers.add_endpoint_json(n.api_endpoints.proposals,t.proposal.id+"/requirements"),dataSrc:""},order:[],columns:[{data:"requirement",orderable:!1},{data:"due_date",mRender:function(t,a,s){return""!=t&&null!=t?e(t).format("DD/MM/YYYY"):""},orderable:!1},{data:"recurrence",mRender:function(e,t,a){if(a.recurrence)switch(a.recurrence_pattern){case 1:return"Once per "+a.recurrence_schedule+" week(s)";case 2:return"Once per "+a.recurrence_schedule+" month(s)";case 3:return"Once per "+a.recurrence_schedule+" year(s)";default:return""}return""},orderable:!1},{mRender:function(e,a,s){var o="";return t.proposal.assessor_mode.has_assessor_mode&&(o+='<a href=\'#\' class="editRequirement" data-id="'+s.id+'">Edit</a><br/>',o+='<a href=\'#\' class="deleteRequirement" data-id="'+s.id+'">Delete</a><br/>'),o},orderable:!1},{mRender:function(e,a,s){var o="";return t.proposal.assessor_mode.has_assessor_mode&&(o+='<a class="dtMoveUp" data-id="'+s.id+'" href=\'#\'><i class="fa fa-angle-up fa-2x"></i></a><br/>',o+='<a class="dtMoveDown" data-id="'+s.id+'" href=\'#\'><i class="fa fa-angle-down fa-2x"></i></a><br/>'),o},orderable:!1}],processing:!0,drawCallback:function(e){s(t.$refs.requirements_datatable.table).find("tr:last .dtMoveDown").remove(),s(t.$refs.requirements_datatable.table).children("tbody").find("tr:first .dtMoveUp").remove(),s(".dtMoveUp").unbind("click"),s(".dtMoveDown").unbind("click"),s(".dtMoveUp").click(t.moveUp),s(".dtMoveDown").click(t.moveDown)}}}},watch:{hasAssessorMode:function(){this.updatedRequirements()}},components:{datatable:i.default,RequirementDetail:d.default},computed:{hasAssessorMode:function(){return this.proposal.assessor_mode.has_assessor_mode}},methods:{addRequirement:function(){this.$refs.requirement_detail.isModalOpen=!0},removeRequirement:function(e){var t=this;o({title:"Remove Requirement",text:"Are you sure you want to remove this requirement?",type:"warning",showCancelButton:!0,confirmButtonText:"Remove Requirement",confirmButtonColor:"#d9534f"}).then(function(){t.$http.delete(n.helpers.add_endpoint_json(n.api_endpoints.proposal_requirements,e)).then(function(e){t.$refs.requirements_datatable.vmDataTable.ajax.reload()},function(e){console.log(e)})},function(e){})},fetchRequirements:function(){var e=this;e.$http.get(n.api_endpoints.proposal_standard_requirements).then(function(t){e.requirements=t.body},function(e){console.log(e)})},editRequirement:function(t){var a=this;this.$http.get(n.helpers.add_endpoint_json(n.api_endpoints.proposal_requirements,t)).then(function(t){a.$refs.requirement_detail.requirement=t.body,a.$refs.requirement_detail.requirement.due_date=null!=t.body.due_date&&void 0!=t.body.due_date?e(t.body.due_date).format("DD/MM/YYYY"):"",t.body.standard&&s(a.$refs.requirement_detail.$refs.standard_req).val(t.body.standard_requirement).trigger("change"),a.addRequirement()},function(e){console.log(e)})},updatedRequirements:function(){this.$refs.requirements_datatable.vmDataTable.ajax.reload()},eventListeners:function(){var e=this;e.$refs.requirements_datatable.vmDataTable.on("click",".deleteRequirement",function(t){t.preventDefault();var a=s(this).attr("data-id");e.removeRequirement(a)}),e.$refs.requirements_datatable.vmDataTable.on("click",".editRequirement",function(t){t.preventDefault();var a=s(this).attr("data-id");e.editRequirement(a)})},sendDirection:function(e,t){var a="down"==t?"move_down":"move_up";this.$http.get(n.helpers.add_endpoint_json(n.api_endpoints.proposal_requirements,e+"/"+a)).then(function(e){},function(e){console.log(e)})},moveUp:function(e){var t=this;e.preventDefault();var a=s(e.target).parents("tr");t.moveRow(a,"up"),t.sendDirection(s(e.target).parent().data("id"),"up")},moveDown:function(e){e.preventDefault();var t=this,a=s(e.target).parents("tr");t.moveRow(a,"down"),t.sendDirection(s(e.target).parent().data("id"),"down")},moveRow:function(e,t){var a=this.$refs.requirements_datatable.vmDataTable,s=a.row(e).index(),o=-1;"down"===t&&(o=1);var r=a.row(s).data();r.order+=o;var n=a.row(s+o).data();n.order+=-o,a.row(s).data(n),a.row(s+o).data(r),a.page(0).draw(!1)}},mounted:function(){var e=this,t=this;this.fetchRequirements(),t.$nextTick(function(){e.eventListeners()})}}}).call(t,a(0),a(1),a(10))},function(e,t,a){"use strict";(function(e){function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(4),r=s(o),n=a(22),l=s(n),i=a(21),c=s(i),d=a(3);t.default={name:"Proposed-Approval",components:{modal:l.default,alert:c.default},props:{proposal_id:{type:Number,required:!0},processing_status:{type:String,required:!0}},data:function(){return{isModalOpen:!1,form:null,approval:{},state:"proposed_approval",issuingApproval:!1,validation_form:null,errors:!1,errorString:"",successString:"",success:!1,datepickerOptions:{format:"DD/MM/YYYY",showClear:!0,useCurrent:!1,keepInvalid:!0,allowInputToggle:!0}}},computed:{showError:function(){return this.errors},title:function(){return"With Approver"==this.processing_status?"Issue Approval":"Propose to issue approval"}},methods:{ok:function(){var t=this;e(t.form).valid()&&t.sendData()},cancel:function(){this.close()},close:function(){this.isModalOpen=!1,this.approval={},this.errors=!1,e(".has-error").removeClass("has-error"),this.validation_form.resetForm()},fetchContact:function(e){var t=this;t.$http.get(d.api_endpoints.contact(e)).then(function(e){t.contact=e.body,t.isModalOpen=!0},function(e){console.log(e)})},sendData:function(){var e=this;e.errors=!1;var t=JSON.parse((0,r.default)(e.approval));e.issuingApproval=!0,"proposed_approval"==e.state?e.$http.post(d.helpers.add_endpoint_json(d.api_endpoints.proposals,e.proposal_id+"/proposed_approval"),(0,r.default)(t),{emulateJSON:!0}).then(function(t){e.issuingApproval=!1,e.close(),e.$emit("refreshFromResponse",t),e.$router.push({path:"/internal"})},function(t){e.errors=!0,e.issuingApproval=!1,e.errorString=d.helpers.apiVueResourceError(t)}):"final_approval"==e.state&&e.$http.post(d.helpers.add_endpoint_json(d.api_endpoints.proposals,e.proposal_id+"/final_approval"),(0,r.default)(t),{emulateJSON:!0}).then(function(t){e.issuingApproval=!1,e.close(),e.$emit("refreshFromResponse",t)},function(t){e.errors=!0,e.issuingApproval=!1,e.errorString=d.helpers.apiVueResourceError(t)})},addFormValidations:function(){var t=this;t.validation_form=e(t.form).validate({rules:{start_date:"required",due_date:"required",approval_details:"required"},messages:{},showErrors:function(t,a){e.each(this.validElements(),function(t,a){e(a).attr("data-original-title","").parents(".form-group").removeClass("has-error")}),e("."+this.settings.validClass).tooltip("destroy");for(var s=0;s<a.length;s++){var o=a[s];e(o.element).tooltip({trigger:"focus"}).attr("data-original-title",o.message).parents(".form-group").addClass("has-error")}}})},eventListeners:function(){var t=this;e(t.$refs.due_date).datetimepicker(t.datepickerOptions),e(t.$refs.due_date).on("dp.change",function(a){e(t.$refs.due_date).data("DateTimePicker").date()?t.approval.expiry_date=a.date.format("DD/MM/YYYY"):""===e(t.$refs.due_date).data("date")&&(t.approval.expiry_date="")}),e(t.$refs.start_date).datetimepicker(t.datepickerOptions),e(t.$refs.start_date).on("dp.change",function(a){e(t.$refs.start_date).data("DateTimePicker").date()?t.approval.start_date=a.date.format("DD/MM/YYYY"):""===e(t.$refs.start_date).data("date")&&(t.approval.start_date="")})}},mounted:function(){var e=this;e.form=document.forms.approvalForm,e.addFormValidations(),this.$nextTick(function(){e.eventListeners()})}}}).call(t,a(1))},function(e,t,a){"use strict";(function(e,s,o){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(4),l=r(n),i=a(30),c=r(i),d=a(58),p=r(d),u=a(5),f=r(u),m=a(7),v=r(m),_=a(38),h=r(_),g=a(211),b=r(g),C=a(29),y=(r(C),a(3));t.default={name:"Referral",data:function(){var e=this;return(0,c.default)({detailsBody:"detailsBody"+e._uid,addressBody:"addressBody"+e._uid,contactsBody:"contactsBody"+e._uid,referral:null,loading:[],selected_referral:"",sendingReferral:!1,form:null,members:[],department_users:[],contacts_table_initialised:!1,initialisedSelects:!1,contacts_table_id:e._uid+"contacts-table",contacts_options:{language:{processing:"<i class='fa fa-4x fa-spinner fa-spin'></i>"},responsive:!0,ajax:{url:e.contactsURL,dataSrc:""},columns:[{title:"Name",mRender:function(e,t,a){return a.first_name+" "+a.last_name}},{title:"Phone",data:"phone_number"},{title:"Mobile",data:"mobile_number"},{title:"Fax",data:"fax_number"},{title:"Email",data:"email"}],processing:!0},contacts_table:null,DATE_TIME_FORMAT:"DD/MM/YYYY HH:mm:ss",logs_url:y.helpers.add_endpoint_json(y.api_endpoints.proposals,e.$route.params.proposal_id+"/action_log"),comms_url:y.helpers.add_endpoint_json(y.api_endpoints.proposals,e.$route.params.proposal_id+"/comms_log"),panelClickersInitialised:!1},"referral",{})},components:{Proposal:p.default,datatable:v.default,CommsLogs:h.default,MoreReferrals:b.default},filters:{formatDate:function(t){return t?e(t).format("DD/MM/YYYY HH:mm:ss"):""}},watch:{},computed:{proposal:function(){return null!=this.referral&&"undefined"!=this.referall?this.referral.proposal:null},contactsURL:function(){return null!=this.proposal?y.helpers.add_endpoint_json(y.api_endpoints.organisations,this.proposal.applicant.id+"/contacts"):""},isLoading:function(){return this.loading.length>0},csrf_token:function(){return y.helpers.getCookie("csrftoken")},proposal_form_url:function(){return this.proposal?"/api/proposal/"+this.proposal.id+"/assessor_save.json":""},isFinalised:function(){return!(null!=this.referral&&"Awaiting"==this.referral.processing_status)}},methods:{refreshFromResponse:function(e){var t=this;t.proposal=y.helpers.copyObject(e.body),t.proposal.applicant.address=null!=t.proposal.applicant.address?t.proposal.applicant.address:{}},initialiseOrgContactTable:function(){var e=this;e.proposal&&!e.contacts_table_initialised&&(e.contacts_options.ajax.url=y.helpers.add_endpoint_json(y.api_endpoints.organisations,e.proposal.applicant.id+"/contacts"),e.contacts_table=s("#"+e.contacts_table_id).DataTable(e.contacts_options),e.contacts_table_initialised=!0)},commaToNewline:function(e){return e.replace(/[,;]/g,"\n")},proposedDecline:function(){this.$refs.proposed_decline.isModalOpen=!0},ammendmentRequest:function(){this.$refs.ammendment_request.isModalOpen=!0},save:function(e){var t=this,a=new FormData(t.form);t.$http.post(t.proposal_form_url,a).then(function(e){o("Saved","Your proposal has been saved","success")},function(e){})},assignTo:function(){var e=this;if("null"!=e.proposal.assigned_officer){var t={user_id:e.proposal.assigned_officer};e.$http.post(y.helpers.add_endpoint_json(y.api_endpoints.organisation_requests,e.proposal.id+"/assign_to"),(0,l.default)(t),{emulateJSON:!0}).then(function(t){console.log(t),e.proposal=t.body},function(e){console.log(e)}),console.log("there")}else e.$http.get(y.helpers.add_endpoint_json(y.api_endpoints.organisation_requests,e.proposal.id+"/unassign")).then(function(t){console.log(t),e.proposal=t.body},function(e){console.log(e)})},fetchProposalGroupMembers:function(){var e=this;e.loading.push("Loading Proposal Group Members"),e.$http.get(y.api_endpoints.organisation_access_group_members).then(function(t){e.members=t.body,e.loading.splice("Loading Proposal Group Members",1)},function(t){console.log(t),e.loading.splice("Loading Proposal Group Members",1)})},fetchDeparmentUsers:function(){var e=this;e.loading.push("Loading Department Users"),e.$http.get(y.api_endpoints.department_users).then(function(t){e.department_users=t.body,e.loading.splice("Loading Department Users",1)},function(t){console.log(t),e.loading.splice("Loading Department Users",1)})},initialiseSelects:function(){var e=this;e.initialisedSelects||(s(e.$refs.department_users).select2({theme:"bootstrap",allowClear:!0,placeholder:"Select Referral"}).on("select2:select",function(t){var a=s(t.currentTarget);e.selected_referral=a.val()}).on("select2:unselect",function(t){var a=s(t.currentTarget);e.selected_referral=a.val()}),s(e.$refs.assigned_officer).select2({theme:"bootstrap",allowClear:!0,placeholder:"Select Officer"}).on("select2:select",function(t){var a=s(t.currentTarget);e.$emit("input",a[0])}).on("select2:unselect",function(t){var a=s(t.currentTarget);e.$emit("input",a[0])}),e.initialisedSelects=!0)},sendReferral:function(){var e=this,t={email:e.selected_referral};e.sendingReferral=!0,e.$http.post(y.helpers.add_endpoint_json(y.api_endpoints.referrals,e.referral.id+"/send_referral"),(0,l.default)(t),{emulateJSON:!0}).then(function(t){e.sendingReferral=!1,e.referral=t.body,e.referral.proposal.applicant.address=null!=e.referral.proposal.applicant.address?e.referral.proposal.applicant.address:{},o("Referral Sent","The referral has been sent to "+e.department_users.find(function(t){return t.email==e.selected_referral}).name,"success")},function(t){console.log(t),o("Referral Error",y.helpers.apiVueResourceError(t),"error"),e.sendingReferral=!1})},completeReferral:function(){var e=this;o({title:"Complete Referral",text:"Are you sure you want to complete this referral?",type:"question",showCancelButton:!0,confirmButtonText:"Submit"}).then(function(){e.$http.get(y.helpers.add_endpoint_json(y.api_endpoints.referrals,e.$route.params.referral_id+"/complete")).then(function(t){e.referral=t.body,e.referral.proposal.applicant.address=null!=e.referral.proposal.applicant.address?e.referral.proposal.applicant.address:{}},function(e){o("Referral Error",y.helpers.apiVueResourceError(e),"error")})},function(e){})}},mounted:function(){var e=this;e.fetchProposalGroupMembers(),e.fetchDeparmentUsers()},updated:function(){var e=this;e.panelClickersInitialised||(s('.panelClicker[data-toggle="collapse"]').on("click",function(){var e=s(this).children()[0];window.setTimeout(function(){s(e).toggleClass("glyphicon-chevron-down glyphicon-chevron-up")},100)}),e.panelClickersInitialised=!0),this.$nextTick(function(){e.initialiseOrgContactTable(),e.initialiseSelects(),e.form=document.forms.new_proposal})},beforeRouteEnter:function(e,t,a){f.default.http.get(y.helpers.add_endpoint_json(y.api_endpoints.referrals,e.params.referral_id)).then(function(e){a(function(t){t.referral=e.body,t.referral.proposal.applicant.address=null!=t.proposal.applicant.address?t.proposal.applicant.address:{}})},function(e){console.log(e)})},beforeRouteUpdate:function(e,t,a){f.default.http.get("/api/proposal/"+e.params.proposal_id+"/referall_proposal.json").then(function(e){a(function(t){t.referral=e.body,t.referral.proposal.applicant.address=null!=t.referral.proposal.applicant.address?t.referral.proposal.applicant.address:{}})},function(e){console.log(e)})}}}).call(t,a(0),a(1),a(10))},function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(1),r=s(o),n=a(7),l=s(n),i=a(3),c=a(67),d=s(c);t.default={name:"ExternalDashboard",data:function(){var e=this;return{rBody:"rBody"+e._uid,oBody:"oBody"+e._uid,kBody:"kBody"+e._uid,loading:[],selected_organisation:"",organisations:null,proposal_headers:["Number","Region","Activity","Title","Submiter","Proponent","Status","Logded on","Action"],proposal_options:{language:{processing:"<i class='fa fa-4x fa-spinner fa-spin'></i>"},responsive:!0,ajax:{url:i.api_endpoints.proposals,dataSrc:""},columns:[{data:"id"},{data:"data",mRender:function(e,t,a){if(e){return""+(e[0].region?e[0].region:"n/a")}return""}},{data:"data",mRender:function(e,t,a){return e?""+e[0].activity:""}},{data:"data",mRender:function(e,t,a){return e?""+e[0].project_details[0].project_title:""}},{data:"submitter",mRender:function(e,t,a){return e?e.first_name+" "+e.last_name:""}},{data:"applicant"},{data:"processing_status"},{data:"lodgement_date"},{mRender:function(e,t,a){var s="";return s+="<a href='/internal/proposal/"+a.id+"'>View</a><br/>"}}],processing:!0}}},watch:{},components:{datatable:l.default},beforeRouteEnter:function(e,t,a){d.default.fetchOrganisations().then(function(e){a(function(t){t.organisations=e})},function(e){console.log(e)})},computed:{isLoading:function(){return 0==this.loading.length}},methods:{addListeners:function(){var e=this;(0,r.default)(e.$refs.searchOrg).select2({theme:"bootstrap",allowClear:!0,placeholder:"Select Organisation"}).on("select2:select",function(t){var a=(0,r.default)(t.currentTarget);e.selected_organisation=a.val()}).on("select2:unselect",function(t){var a=(0,r.default)(t.currentTarget);e.selected_organisation=a.val()})}},mounted:function(){(0,r.default)('a[data-toggle="collapse"]').on("click",function(){var e=(0,r.default)(this).children()[0];window.setTimeout(function(){(0,r.default)(e).toggleClass("glyphicon-chevron-down glyphicon-chevron-up")},100)})},updated:function(){var e=this;this.$nextTick(function(){e.addListeners()})}}},function(e,t,a){"use strict";(function(e){function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(4),r=s(o),n=a(30),l=s(n),i=a(5),c=s(i),d=a(1),p=s(d),u=a(3);t.default={name:"Profile",data:function(){var e,t=this;return e={adBody:"adBody"+t._uid,pBody:"pBody"+t._uid,cBody:"cBody"+t._uid,oBody:"oBody"+t._uid,profile:{disturbance_organisations:[],residential_address:{}},newOrg:{detailsChecked:!1,exists:!1},countries:[],loading:[],registeringOrg:!1,validatingPins:!1,checkingDetails:!1,addingCompany:!1,managesOrg:"No",uploadedFile:null,updatingPersonal:!1,updatingAddress:!1,updatingContact:!1},(0,l.default)(e,"registeringOrg",!1),(0,l.default)(e,"orgRequest_list",[]),e},watch:{managesOrg:function(){"Yes"==this.managesOrg&&!this.hasOrgs&&this.newOrg?this.addCompany():"No"==this.managesOrg&&this.newOrg&&(this.resetNewOrg(),this.uploadedFile=null,this.addingCompany=!1)}},computed:{hasOrgs:function(){return!!(this.profile.disturbance_organisations&&this.profile.disturbance_organisations.length>0)},uploadedFileName:function(){return null!=this.uploadedFile?this.uploadedFile.name:""},showCompletion:function(){return"first-time"==this.$route.name},completedProfile:function(){return this.profile.contact_details&&this.profile.personal_details&&this.profile.address_details}},methods:{readFile:function(){var e=this,t=null,a=(0,p.default)(e.$refs.uploadedFile)[0];if(a.files&&a.files[0]){var s=new FileReader;s.readAsDataURL(a.files[0]),s.onload=function(e){t=e.target.result},t=a.files[0]}e.uploadedFile=t},addCompany:function(){this.newOrg.push={name:"",abn:""},this.addingCompany=!0},resetNewOrg:function(){this.newOrg={detailsChecked:!1,exists:!1}},updatePersonal:function(){var e=this;e.updatingPersonal=!0,e.$http.post(u.helpers.add_endpoint_json(u.api_endpoints.users,e.profile.id+"/update_personal"),(0,r.default)(e.profile),{emulateJSON:!0}).then(function(t){console.log(t),e.updatingPersonal=!1,e.profile=t.body,null==e.profile.residential_address&&(e.profile.residential_address={})},function(t){console.log(t),e.updatingPersonal=!1})},updateContact:function(){var e=this;e.updatingContact=!0,e.$http.post(u.helpers.add_endpoint_json(u.api_endpoints.users,e.profile.id+"/update_contact"),(0,r.default)(e.profile),{emulateJSON:!0}).then(function(t){console.log(t),e.updatingContact=!1,e.profile=t.body,null==e.profile.residential_address&&(e.profile.residential_address={})},function(t){console.log(t),e.updatingContact=!1})},updateAddress:function(){var e=this;e.updatingAddress=!0,e.$http.post(u.helpers.add_endpoint_json(u.api_endpoints.users,e.profile.id+"/update_address"),(0,r.default)(e.profile.residential_address),{emulateJSON:!0}).then(function(t){console.log(t),e.updatingAddress=!1,e.profile=t.body,null==e.profile.residential_address&&(e.profile.residential_address={})},function(t){console.log(t),e.updatingAddress=!1})},checkOrganisation:function(){var e=this;this.$http.post(u.helpers.add_endpoint_json(u.api_endpoints.organisations,"existance"),(0,r.default)(this.newOrg),{emulateJSON:!0}).then(function(t){console.log(t),e.newOrg.exists=t.body.exists,e.newOrg.detailsChecked=!0,e.newOrg.id=t.body.id,t.body.first_five&&(e.newOrg.first_five=t.body.first_five)},function(e){console.log(e)})},fetchOrgRequestList:function(){var e=this;e.$http.get(u.helpers.add_endpoint_json(u.api_endpoints.organisation_requests,"user_list")).then(function(t){e.orgRequest_list=t.body},function(e){console.log(e)})},validatePins:function(){var t=this;t.validatingPins=!0,t.$http.post(u.helpers.add_endpoint_json(u.api_endpoints.organisations,t.newOrg.id+"/validate_pins"),(0,r.default)(this.newOrg),{emulateJSON:!0}).then(function(a){a.body.valid?(e("Validate Pins","The pins you entered have been validated and you have now been linked to this organisation.","success"),t.registeringOrg=!1,t.uploadedFile=null,t.addingCompany=!1,t.resetNewOrg(),c.default.http.get(u.api_endpoints.profile).then(function(e){t.profile=e.body,null==t.profile.residential_address&&(t.profile.residential_address={}),t.profile.disturbance_organisations&&t.profile.disturbance_organisations.length>0&&(t.managesOrg="Yes")},function(e){console.log(e)})):e("Validate Pins","The pins you entered were incorrect","error"),t.validatingPins=!1},function(e){t.validatingPins=!1,console.log(e)})},orgRequest:function(){var t=this;t.registeringOrg=!0;var a=new FormData;a.append("name",t.newOrg.name),a.append("abn",t.newOrg.abn),a.append("identification",t.uploadedFile),t.$http.post(u.api_endpoints.organisation_requests,a,{emulateJSON:!0}).then(function(a){t.registeringOrg=!1,t.uploadedFile=null,t.addingCompany=!1,t.resetNewOrg(),e("Sent","Your organisation request has been successfuly submited.","success")},function(e){t.registeringOrg=!1,console.log(e)})},toggleSection:function(e){var t=e.target,a=null;console.log(t),(0,p.default)(t).on("click",function(e){a=(0,p.default)(this),console.log(a),(0,p.default)(a).toggleClass("glyphicon-chevron-down glyphicon-chevron-up")})},fetchCountries:function(){var e=this;e.loading.push("fetching countries"),e.$http.get(u.api_endpoints.countries).then(function(t){e.countries=t.body,e.loading.splice("fetching countries",1)},function(t){console.log(t),e.loading.splice("fetching countries",1)})},unlinkUser:function(t){var a=this,s=t.name;e({title:"Unlink From Organisation",text:"Are you sure you want to be unlinked from "+t.name+" ?",type:"question",showCancelButton:!0,confirmButtonText:"Accept"}).then(function(){a.$http.post(u.helpers.add_endpoint_json(u.api_endpoints.organisations,t.id+"/unlink_user"),{user:a.profile.id},{emulateJSON:!0}).then(function(t){c.default.http.get(u.api_endpoints.profile).then(function(e){a.profile=e.body,null==a.profile.residential_address&&(a.profile.residential_address={}),a.profile.disturbance_organisations&&a.profile.disturbance_organisations.length>0&&(a.managesOrg="Yes")},function(e){console.log(e)}),e("Unlink","You have been successfully unlinked from "+s+".","success")},function(t){e("Unlink","There was an error unlinking you from "+s+".","error")})},function(e){})}},beforeRouteEnter:function(e,t,a){c.default.http.get(u.api_endpoints.profile).then(function(t){t.body.address_details&&t.body.personal_details&&t.body.contact_details&&"first-time"==e.name?window.location.href="/":a(function(e){e.profile=t.body,null==e.profile.residential_address&&(e.profile.residential_address={}),e.profile.disturbance_organisations&&e.profile.disturbance_organisations.length>0&&(e.managesOrg="Yes")})},function(e){console.log(e)})},mounted:function(){this.fetchCountries(),this.fetchOrgRequestList(),this.personal_form=document.forms.personal_form,(0,p.default)('.panelClicker[data-toggle="collapse"]').on("click",function(){var e=(0,p.default)(this).children()[0];window.setTimeout(function(){(0,p.default)(e).toggleClass("glyphicon-chevron-down glyphicon-chevron-up")},100)})}}}).call(t,a(10))},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{type:{type:String},dismissable:{type:Boolean,default:!1},show:{type:Boolean,default:!0},duration:{type:Number,default:0},width:{type:String},placement:{type:String}},watch:{show:function(e){var t=this;this._timeout&&clearTimeout(this._timeout),e&&Boolean(this.duration)&&(this._timeout=setTimeout(function(){t.show=!1},this.duration))}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{title:{type:String,default:"Modal"},small:{type:Boolean,default:!1},large:{type:Boolean,default:!1},full:{type:Boolean,default:!1},force:{type:Boolean,default:!1},transition:{type:String,default:"modal"},okText:{type:String,default:"OK"},cancelText:{type:String,default:"Cancel"},okClass:{type:String,default:"btn btn-default"},cancelClass:{type:String,default:"btn btn-default"},closeWhenOK:{type:Boolean,default:!1}},data:function(){return{duration:null}},computed:{modalClass:function(){return{"modal-lg":this.large,"modal-sm":this.small,"modal-full":this.full}},show:function(){return this.$parent.isModalOpen}},created:function(){this.show&&(document.body.className+=" modal-open")},beforeDestroy:function(){document.body.className=document.body.className.replace(/\s?modal-open/,"")},watch:{show:function(e){e?document.body.className+=" modal-open":window.setTimeout(function(){document.body.className=document.body.className.replace(/\s?modal-open/,"")},this.duration||0)}},methods:{ok:function(){this.$emit("ok"),this.closeWhenOK&&(this.show=!1)},cancel:function(){this.$emit("cancel"),this.$parent.close()},clickMask:function(){this.force||this.cancel()}}}},function(e,t,a){"use strict";(function(t){function s(e){return e&&e.__esModule?e:{default:e}}var o=a(275),r=s(o),n=a(29);s(n);e.exports={name:"DataTable",props:{dtHeaders:{type:Array,required:!0},dtOptions:{type:Object,required:!0},id:{required:!0}},data:function(){return{table:null,vmDataTable:null}},computed:{},methods:{initEvents:function(){var e=this,a=(0,r.default)(e.dtOptions);e.vmDataTable=t(e.table).DataTable(a),t(e.table).on("page.dt",function(){e.vmDataTable.columns.adjust().responsive.recalc()})}},mounted:function(){var e=this;e.table=t("#"+e.id),t.fn.dataTable.ext.errMode="throw",e.initEvents()}}}).call(t,a(1))},function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(394),r=s(o),n=a(396),l=s(n),i=a(397),c=s(i),d=a(398),p=s(d),u=a(395),f=s(u);t.default={path:"/external",component:{render:function(e){return e("router-view")}},children:[{path:"/",component:r.default,name:"external-proposals-dash"},{path:"organisations/manage/:org_id",component:f.default},{path:"proposal",component:{render:function(e){return e("router-view")}},children:[{path:"/",component:c.default,name:"apply_proposal"},{path:"submit",component:p.default,name:"submit_proposal"},{path:":proposal_id",component:l.default,name:"draft_proposal"}]}]}},function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(417),r=s(o),n=a(428),l=s(n),i=a(419),c=s(i),d=a(418),p=s(d),u=a(420),f=s(u),m=a(422),v=s(m),_=a(427),h=s(_),g=a(415),b=s(g),C=a(416),y=s(C);t.default={path:"/internal",component:{render:function(e){return e("router-view")}},children:[{path:"/",component:r.default},{path:"approvals",component:b.default,name:"internal-approvals-dash"},{path:"compliances",component:y.default,name:"internal-compliances-dash"},{path:"search",component:l.default,name:"internal-search"},{path:"organisations",component:{render:function(e){return e("router-view")}},children:[{path:"access",component:c.default,name:"org-access-dash"},{path:"access/:access_id",component:p.default,name:"org-access"},{path:":org_id",component:f.default,name:"internal-org-detail"}]},{path:"proposal",component:{render:function(e){return e("router-view")}},children:[{path:":proposal_id",component:{render:function(e){return e("router-view")}},children:[{path:"/",component:v.default,name:"internal-proposal"},{path:"referral/:referral_id",component:h.default,name:"internal-referral"}]}]}]}},function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}var o=a(5),r=s(o),n=a(217),l=s(n),i=a(216),c=s(i),d=a(215),p=s(d),u=a(64),f=(s(u),a(61)),m=s(f),v=a(214),_=(s(v),a(60)),h=s(_);a(62),a(63),r.default.config.productionTip=!1,r.default.use(l.default),r.default.http.interceptors.push(function(e,t){e.url!=h.default.countries&&e.headers.set("X-CSRFToken",m.default.getCookie("csrftoken")),t()}),new r.default({el:"#app",router:p.default,template:"<App/>",components:{App:c.default}})},function(e,t,a){"use strict";(function(t){function s(e){return e&&e.__esModule?e:{default:e}}var o=a(40),r=s(o),n=a(30),l=s(n),i=a(410),c=s(i),d=a(405),p=s(d),u=a(408),f=s(u),m=a(401),v=s(m),_=a(411),h=s(_),g=a(399),b=s(g),C=a(403),y=(s(C),a(404)),w=s(y),x=a(412),P=s(x),D=a(402),k=s(D),$=a(414),S=s($),T=a(413),R=s(T),A=a(407),q=s(A),O=a(409),j=s(O),M=a(406),F=s(M),E=a(400),N=s(E);e.exports={renderChildren:function(e,a){var s,o,r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=this,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,u=(arguments[4],this.status_data.readonly),m=this.status_data.assessorStatus,d=this.status_data.assessorData,_=this.status_data.commentData,g=this.status_data.assessorInfo,C=!1,y=!1,x="",D=!1,$=[];null!=m&&(C=m.assessor_mode,y=m.has_assessor_mode,x=m.assessor_level);var T=this.getVisibility(e,a,u,C,y);if(!T.visible)return"";var A=!("assessor"!=x||!this.status_data.assessorStatus.has_assessor_mode);A=!A,D=!T.editable;var O=n&&n[a.name]?n[a.name]:null,j=_&&_[a.name]?_[a.name]:null;switch(a.type){case"text":$.push(e(S.default,{attrs:{type:"text",name:a.name,value:O,comment_value:j,label:a.label,help_text:a.help_text,help_text_assessor:a.help_text_assessor,assessorMode:C,readonly:D,assessor_readonly:A}},[]));break;case"number":$.push(e(S.default,{attrs:{type:"number",name:a.name,value:O,comment_value:j,label:a.label,help_text:a.help_text,help_text_assessor:a.help_text_assessor,assessorMode:C,readonly:D,assessor_readonly:A}},[]));break;case"email":$.push(e(S.default,{attrs:{type:"email",name:a.name,value:O,comment_value:j,label:a.label,help_text:a.help_text,help_text_assessor:a.help_text_assessor,assessorMode:C,readonly:D,assessor_readonly:A}},[]));break;case"select":var M=null;null!==n&&void 0!==n&&(M=n||null),$.push(e("div",null,[e(P.default,{attrs:(s={readonly:D,name:a.name,label:a.label,value:a.value,comment_value:j,options:a.options,help_text:a.help_text},(0,l.default)(s,"value",O),(0,l.default)(s,"handleChange",this.selectionChanged),(0,l.default)(s,"conditions",a.conditions),(0,l.default)(s,"assessorMode",C),(0,l.default)(s,"assessor_readonly",A),s)},[]),e(h.default,{attrs:{conditions:a.conditions,renderer:this,name:a.name,data:n,readonly:D}},[])]));break;case"multi-select":$.push(e(P.default,{attrs:(o={name:a.name,label:a.label,value:O,comment_value:j,options:a.options},(0,l.default)(o,"value",O),(0,l.default)(o,"help_text",a.help_text),(0,l.default)(o,"help_text_assessor",a.help_text_assessor),(0,l.default)(o,"assessorMode",C),(0,l.default)(o,"handleChange",this.selectionChanged),(0,l.default)(o,"readonly",D),(0,l.default)(o,"isMultiple",!0),(0,l.default)(o,"assessor_readonly",A),o)},[]));break;case"text_area":$.push(e(R.default,{attrs:{readonly:D,name:a.name,value:O,comment_value:j,label:a.label,help_text:a.help_text,assessorMode:C,assessor_readonly:A}},[]));break;case"label":$.push(e(q.default,{attrs:{value:a.label}},[]));break;case"radiobuttons":var M=null;null!==n&&void 0!==n&&(M=n||null),$.push(e("div",{class:"form-group"},[e("label",null,[a.label]),e(F.default,{attrs:{help_text:a.help_text}},[]),e(F.default,{attrs:{help_text:a.help_text_assessor,assessorMode:C,isForAssessor:!0}},[]),e(N.default,{attrs:{assessor_readonly:A,name:a.name,comment_value:j,assessorMode:C,label:a.label}},[]),a.options.map(function(t){return e(f.default,{attrs:{name:a.name,label:t.label,value:t.value,savedValue:O,handleChange:i.handleRadioChange,conditions:a.conditions,readonly:D}},[])}),e(v.default,{attrs:{conditions:a.conditions,renderer:this,name:a.name,data:n,readonly:D}},[])]));break;case"group":var M=null;null!==n&&void 0!==n&&(M=n[a.name]?n[a.name][0]:null),$.push(e(p.default,{attrs:{label:a.label,name:a.name,help_text:a.help_text,isRemovable:!0}},[a.children.map(function(t){return e("div",null,[i.renderChildren(e,t,M)])})]));break;case"section":var M=null;null!==n&&void 0!==n&&(M=n[a.name]?n[a.name][0]:null),this.sections.push({name:a.name,label:a.label}),$.push(e(c.default,{attrs:{label:a.label,Key:a.name,id:a.name}},[a.children.map(function(t){return e("div",null,[i.renderChildren(e,t,M)])})]));break;case"checkbox":$.push(e("div",{class:"form-group"},[e(b.default,{attrs:{name:a.name,label:a.label,help_text:a.help_text,value:O,handleChange:this.handleCheckBoxChange,conditions:a.conditions,readonly:D}},[]),e(v.default,{attrs:{conditions:a.conditions,renderer:this,name:a.name,data:n}},[])]));break;case"declaration":var M=null;null!==n&&void 0!==n&&(M=n[a.name]?n[a.name]:null),$.push(e("div",{class:"form-group"},[e("label",null,[a.label]),e(b.default,{attrs:{name:a.name,label:a.label,value:O,help_text:a.help_text,handleChange:this.handleCheckBoxChange,conditions:a.conditions}},[]),e(v.default,{attrs:{conditions:a.conditions,renderer:this,name:a.name,data:M}},[])]));break;case"file":$.push(e(w.default,{attrs:(r={name:a.name,label:a.label,value:O,comment_value:j,isRepeatable:a.isRepeatable,handleChange:this.handleFileChange,readonly:D,help_text:a.help_text,help_text_assessor:a.help_text_assessor,assessorMode:C,docsUrl:this.status_data.docs_url},(0,l.default)(r,"readonly",D),(0,l.default)(r,"assessor_readonly",A),r)},[]));break;case"date":$.push(e(k.default,{attrs:{name:a.name,label:a.label,value:O,comment_value:j,handleChange:this.handleFileChange,readonly:D,help_text:a.help_text,help_text_assessor:a.help_text_assessor,assessorMode:C,assessor_readonly:A}},[]));break;default:return""}if(C&&-1==t.inArray(a.type,["declaration","group","section","label"])&&a.canBeEditedByAssessor){var E=this.generateAssessorTextBoxes(e,a,O,x,d,g);Array.prototype.push.apply($,E)}return $},handleRadioChange:function(e){var a=t(e.target).data("conditions");if(a&&void 0!==a){var s=((0,r.default)(a),t("input[name="+e.target.name+"]"));t.each(s,function(a,s){t("#cons_"+e.target.name+"_"+s.value).addClass("hidden")}),t("#cons_"+e.target.name+"_"+e.target.value).removeClass("hidden")}},handleCheckBoxChange:function(e){var a=t(e.target).data("conditions");if(a&&void 0!==a){var s=((0,r.default)(a),t("input[name="+e.target.name+"]"));t.each(s,function(a,s){t("#cons_"+e.target.name+"_"+s.value).addClass("hidden")}),e.target.checked&&t("#cons_"+e.target.name+"_"+e.target.value).removeClass("hidden")}},handleDeclaration:function(e){return!0},selectionChanged:function(e){var a=t(e).data("conditions");if(a)for(var s=(0,r.default)(a),o=0;o<s.length;o++)s[o]==e.value?t("#cons_"+e.name+"_"+e.value).removeClass("hidden"):t("#cons_"+e.name+"_"+s[o]).addClass("hidden")},getSections:function(){return this.sections},sections:[],generateAssessorTextBoxes:function(e,a,s,o,r,n){var l=this,i=[];if(!this.status_data.can_user_edit)if(r){var c=r.find(function(e){return e.name==a.name}),d=a.name+"-Assessor",p=void 0==c||""==c.assessor?s:c.assessor,u=!("assessor"!=o||!this.status_data.assessorStatus.has_assessor_mode);u=!u,i.push(e(j.default,{attrs:{type:"text",name:d,value:p,label:"Assessor",help_text:a.help_text,readonly:u}},[]));var f=!1;if(void 0!=c&&t.each(c.referrals,function(t,s){s.email==n.email&&(f=!0);var r=s.email!=n.email||"referral"!=o||!l.status_data.assessorStatus.assessor_can_assess,c=a.name+"-Referral-"+s.email;i.push(e(j.default,{attrs:{type:"text",name:c,value:s.value,label:s.full_name,help_text:a.help_text,readonly:r}},[]))}),"referral"==o&&!f){var m=a.name+"-Referral-"+n.email,v="referral"!=o||!this.status_data.assessorStatus.assessor_can_assess,_=""+n.name;i.push(e(j.default,{attrs:{type:"text",name:m,value:p,label:_,readonly:v}},[]))}}else if("assessor"==o){var h=a.name+"-Assessor",u=!("assessor"!=o||!this.status_data.assessorStatus.has_assessor_mode);u=!u,i.push(e(j.default,{attrs:{type:"text",name:h,value:s,label:"Assessor",help_text:a.help_text,readonly:u}},[]))}else if("referral"==o){var h=a.name+"-Assessor",u="assessor"!=o;i.push(e(j.default,{attrs:{type:"text",name:h,value:s,label:"Assessor",help_text:a.help_text,readonly:u}},[]));var m=a.name+"-Referral-"+n.email,v="referral"!=o,_=""+n.name;i.push(e(j.default,{attrs:{type:"text",name:m,value:s,label:_,readonly:v}},[]))}return i.length>0&&(i=[e("div",{class:"row"},[" ",i," "])]),i},status_data:{},store_status_data:function(e,t,a,s,o,r,n){this.status_data={readonly:e,assessorData:t,commentData:a,assessorInfo:s,assessorStatus:o,can_user_edit:r,docs_url:n}},getVisibility:function(e,t,a,s,o){var r={visible:!0,editable:!0};if(s){if(t.isVisibleForAssessorOnly)return this.status_data.can_user_edit&&(r.visible=!1),o||(r.editable=!1),r;r.editable=!a}else t.isVisibleForAssessorOnly?(r.visible=!1,r.editable=!1):r.editable=!a;return r}}}).call(t,a(1))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,function(e,t){},function(e,t){},,,,,,,,,,,,,,,,,function(e,t,a){function s(e){return a(o(e))}function o(e){var t=r[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var r={"./af":91,"./af.js":91,"./ar":98,"./ar-dz":92,"./ar-dz.js":92,"./ar-kw":93,"./ar-kw.js":93,"./ar-ly":94,"./ar-ly.js":94,"./ar-ma":95,"./ar-ma.js":95,"./ar-sa":96,"./ar-sa.js":96,"./ar-tn":97,"./ar-tn.js":97,"./ar.js":98,"./az":99,"./az.js":99,"./be":100,"./be.js":100,"./bg":101,"./bg.js":101,"./bm":102,"./bm.js":102,"./bn":103,"./bn.js":103,"./bo":104,"./bo.js":104,"./br":105,"./br.js":105,"./bs":106,"./bs.js":106,"./ca":107,"./ca.js":107,"./cs":108,"./cs.js":108,"./cv":109,"./cv.js":109,"./cy":110,"./cy.js":110,"./da":111,"./da.js":111,"./de":114,"./de-at":112,"./de-at.js":112,"./de-ch":113,"./de-ch.js":113,"./de.js":114,"./dv":115,"./dv.js":115,"./el":116,"./el.js":116,"./en-au":117,"./en-au.js":117,"./en-ca":118,"./en-ca.js":118,"./en-gb":119,"./en-gb.js":119,"./en-ie":120,"./en-ie.js":120,"./en-nz":121,"./en-nz.js":121,"./eo":122,"./eo.js":122,"./es":125,"./es-do":123,"./es-do.js":123,"./es-us":124,"./es-us.js":124,"./es.js":125,"./et":126,"./et.js":126,"./eu":127,"./eu.js":127,"./fa":128,"./fa.js":128,"./fi":129,"./fi.js":129,"./fo":130,"./fo.js":130,"./fr":133,"./fr-ca":131,"./fr-ca.js":131,"./fr-ch":132,"./fr-ch.js":132,"./fr.js":133,"./fy":134,"./fy.js":134,"./gd":135,"./gd.js":135,"./gl":136,"./gl.js":136,"./gom-latn":137,"./gom-latn.js":137,"./gu":138,"./gu.js":138,"./he":139,"./he.js":139,"./hi":140,"./hi.js":140,"./hr":141,"./hr.js":141,"./hu":142,"./hu.js":142,"./hy-am":143,"./hy-am.js":143,"./id":144,"./id.js":144,"./is":145,"./is.js":145,"./it":146,"./it.js":146,"./ja":147,"./ja.js":147,"./jv":148,"./jv.js":148,"./ka":149,"./ka.js":149,"./kk":150,"./kk.js":150,"./km":151,"./km.js":151,"./kn":152,"./kn.js":152,"./ko":153,"./ko.js":153,"./ky":154,"./ky.js":154,"./lb":155,"./lb.js":155,"./lo":156,"./lo.js":156,"./lt":157,"./lt.js":157,"./lv":158,"./lv.js":158,"./me":159,"./me.js":159,"./mi":160,"./mi.js":160,"./mk":161,"./mk.js":161,"./ml":162,"./ml.js":162,"./mr":163,"./mr.js":163,"./ms":165,"./ms-my":164,"./ms-my.js":164,"./ms.js":165,"./mt":166,"./mt.js":166,"./my":167,"./my.js":167,"./nb":168,"./nb.js":168,"./ne":169,"./ne.js":169,"./nl":171,"./nl-be":170,"./nl-be.js":170,"./nl.js":171,"./nn":172,"./nn.js":172,"./pa-in":173,"./pa-in.js":173,"./pl":174,"./pl.js":174,"./pt":176,"./pt-br":175,"./pt-br.js":175,"./pt.js":176,"./ro":177,"./ro.js":177,"./ru":178,"./ru.js":178,"./sd":179,"./sd.js":179,"./se":180,"./se.js":180,"./si":181,"./si.js":181,"./sk":182,"./sk.js":182,"./sl":183,"./sl.js":183,"./sq":184,"./sq.js":184,"./sr":186,"./sr-cyrl":185,"./sr-cyrl.js":185,"./sr.js":186,"./ss":187,"./ss.js":187,"./sv":188,"./sv.js":188,"./sw":189,"./sw.js":189,"./ta":190,"./ta.js":190,"./te":191,"./te.js":191,"./tet":192,"./tet.js":192,"./th":193,"./th.js":193,"./tl-ph":194,"./tl-ph.js":194,"./tlh":195,"./tlh.js":195,"./tr":196,"./tr.js":196,"./tzl":197,"./tzl.js":197,"./tzm":199,"./tzm-latn":198,"./tzm-latn.js":198,"./tzm.js":199,"./uk":200,"./uk.js":200,"./ur":201,"./ur.js":201,"./uz":203,"./uz-latn":202,"./uz-latn.js":202,"./uz.js":203,"./vi":204,"./vi.js":204,"./x-pseudo":205,"./x-pseudo.js":205,"./yo":206,"./yo.js":206,"./zh-cn":207,"./zh-cn.js":207,"./zh-hk":208,"./zh-hk.js":208,"./zh-tw":209,"./zh-tw.js":209};s.keys=function(){return Object.keys(r)},s.resolve=o,e.exports=s,s.id=386},,,,,function(e,t,a){a(336);var s=a(2)(a(219),a(446),"data-v-450f8c1a",null);e.exports=s.exports},function(e,t,a){a(331);var s=a(2)(a(220),a(439),null,null);e.exports=s.exports},function(e,t,a){a(357);var s=a(2)(a(227),a(470),"data-v-c594d214",null);e.exports=s.exports},function(e,t,a){var s=a(2)(a(228),a(451),null,null);e.exports=s.exports},function(e,t,a){a(324);var s=a(2)(a(229),a(431),"data-v-0a8aa0e0",null);e.exports=s.exports},function(e,t,a){a(339);var s=a(2)(a(230),a(449),null,null);e.exports=s.exports},function(e,t,a){a(342);var s=a(2)(a(231),a(454),null,null);e.exports=s.exports},function(e,t,a){a(364);var s=a(2)(a(232),a(477),"data-v-ef57a0e0",null);e.exports=s.exports},function(e,t,a){a(329);var s=a(2)(a(234),a(437),null,null);e.exports=s.exports},function(e,t,a){var s=a(2)(a(236),a(440),null,null);e.exports=s.exports},function(e,t,a){var s=a(2)(a(237),null,null,null);e.exports=s.exports},function(e,t,a){a(337);var s=a(2)(a(238),a(447),null,null);e.exports=s.exports},function(e,t,a){a(326);var s=a(2)(a(239),a(433),null,null);e.exports=s.exports},function(e,t,a){a(348);var s=a(2)(a(240),a(461),null,null);e.exports=s.exports},function(e,t,a){a(359);var s=a(2)(a(241),a(472),null,null);e.exports=s.exports},function(e,t,a){a(349);var s=a(2)(a(242),a(462),null,null);e.exports=s.exports},function(e,t,a){a(344);var s=a(2)(a(243),a(456),null,null);e.exports=s.exports},function(e,t,a){a(350);var s=a(2)(a(244),a(463),null,null);e.exports=s.exports},function(e,t,a){a(346);var s=a(2)(a(245),a(459),null,null);e.exports=s.exports},function(e,t,a){a(334);var s=a(2)(a(246),a(444),null,null);e.exports=s.exports},function(e,t,a){var s=a(2)(a(247),null,null,null);e.exports=s.exports},function(e,t,a){a(343);var s=a(2)(a(248),a(455),null,null);e.exports=s.exports},function(e,t,a){a(360);var s=a(2)(a(249),a(473),null,null);e.exports=s.exports},function(e,t,a){a(353);var s=a(2)(a(250),a(466),null,null);e.exports=s.exports},function(e,t,a){var s=a(2)(a(251),a(442),null,null);e.exports=s.exports},function(e,t,a){var s=a(2)(a(252),a(457),null,null);e.exports=s.exports},function(e,t,a){var s=a(2)(a(253),a(436),null,null);e.exports=s.exports},function(e,t,a){a(340);var s=a(2)(a(254),a(450),"data-v-516bdaa6",null);e.exports=s.exports},function(e,t,a){var s=a(2)(a(255),a(453),null,null);e.exports=s.exports},function(e,t,a){a(351);var s=a(2)(a(256),a(464),"data-v-9ff1dba4",null);e.exports=s.exports},function(e,t,a){a(335);var s=a(2)(a(257),a(445),null,null);e.exports=s.exports},function(e,t,a){a(362);var s=a(2)(a(258),a(476),"data-v-ee9302da",null);e.exports=s.exports},function(e,t,a){a(325);var s=a(2)(a(260),a(432),"data-v-0adf279f",null);e.exports=s.exports},function(e,t,a){a(332);var s=a(2)(a(261),a(441),null,null);e.exports=s.exports},function(e,t,a){a(323);var s=a(2)(a(262),a(430),"data-v-0a60bd6c",null);e.exports=s.exports},function(e,t,a){a(354);var s=a(2)(a(263),a(467),null,null);e.exports=s.exports},function(e,t,a){a(365);var s=a(2)(a(264),a(478),"data-v-fdf769ae",null);e.exports=s.exports},function(e,t,a){var s=a(2)(a(265),a(474),null,null);e.exports=s.exports},function(e,t,a){a(338);var s=a(2)(a(266),a(448),"data-v-47f5e7b4",null);e.exports=s.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Requirements\n                    "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.panelBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"false","aria-controls":e.panelBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-down pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body panel-collapse collapse in",attrs:{id:e.panelBody}},[a("form",{staticClass:"form-horizontal",attrs:{action:"index.html",method:"post"}},[a("div",{staticClass:"col-sm-12"},[e.hasAssessorMode?a("button",{staticClass:"btn btn-primary pull-right",staticStyle:{"margin-bottom":"10px"},on:{click:function(t){t.preventDefault(),e.addRequirement()}}},[e._v("Add Requirement")]):e._e()]),e._v(" "),a("datatable",{ref:"requirements_datatable",attrs:{id:"requirements-datatable-"+e._uid,dtOptions:e.requirement_options,dtHeaders:e.requirement_headers}})],1)])])]),e._v(" "),a("RequirementDetail",{ref:"requirement_detail",attrs:{proposal_id:e.proposal.id,requirements:e.requirements}})],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.org?a("div",{staticClass:"container",attrs:{id:"userInfo"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Organisation Details "),a("small",[e._v(" - View and update the organisation's details")]),e._v(" "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.pBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"true","aria-controls":e.pBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-up pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body collapse in",attrs:{id:e.pBody}},[a("form",{staticClass:"form-horizontal",attrs:{name:"personal_form",method:"post"}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Name")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.org.name,expression:"org.name"}],staticClass:"form-control",attrs:{type:"text",name:"first_name",placeholder:""},domProps:{value:e.org.name},on:{input:function(t){t.target.composing||e.$set(e.org,"name",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("ABN")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.org.abn,expression:"org.abn"}],staticClass:"form-control",attrs:{type:"text",disabled:"",name:"last_name",placeholder:""},domProps:{value:e.org.abn},on:{input:function(t){t.target.composing||e.$set(e.org,"abn",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-sm-12"},[e.updatingDetails?a("button",{staticClass:"pull-right btn btn-primary",attrs:{disabled:""}},[a("i",{staticClass:"fa fa-spin fa-spinner"}),e._v("Updating")]):a("button",{staticClass:"pull-right btn btn-primary",on:{click:function(t){t.preventDefault(),e.updateDetails()}}},[e._v("Update")])])])])])])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Address Details "),a("small",[e._v(" - View and update the organisation's address details")]),e._v(" "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.adBody,"data-toggle":"collapse",expanded:"false","data-parent":"#userInfo","aria-controls":e.adBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-down pull-right "})])])]),e._v(" "),0==e.loading.length?a("div",{staticClass:"panel-body collapse",attrs:{id:e.adBody}},[a("form",{staticClass:"form-horizontal",attrs:{action:"index.html",method:"post"}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Street")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.org.address.line1,expression:"org.address.line1"}],staticClass:"form-control",attrs:{type:"text",name:"street",placeholder:""},domProps:{value:e.org.address.line1},on:{input:function(t){t.target.composing||e.$set(e.org.address,"line1",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Town/Suburb")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.org.address.locality,expression:"org.address.locality"}],staticClass:"form-control",attrs:{type:"text",name:"surburb",placeholder:""},domProps:{value:e.org.address.locality},on:{input:function(t){t.target.composing||e.$set(e.org.address,"locality",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("State")]),e._v(" "),a("div",{staticClass:"col-sm-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.org.address.state,expression:"org.address.state"}],staticClass:"form-control",attrs:{type:"text",name:"country",placeholder:""},domProps:{value:e.org.address.state},on:{input:function(t){t.target.composing||e.$set(e.org.address,"state",t.target.value)}}})]),e._v(" "),a("label",{staticClass:"col-sm-1 control-label",attrs:{for:""}},[e._v("Postcode")]),e._v(" "),a("div",{staticClass:"col-sm-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.org.address.postcode,expression:"org.address.postcode"}],staticClass:"form-control",attrs:{type:"text",name:"postcode",placeholder:""},domProps:{value:e.org.address.postcode},on:{input:function(t){t.target.composing||e.$set(e.org.address,"postcode",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Country")]),e._v(" "),a("div",{staticClass:"col-sm-4"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.org.address.country,expression:"org.address.country"}],staticClass:"form-control",attrs:{name:"country"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.org.address,"country",t.target.multiple?a:a[0])}}},e._l(e.countries,function(t){return a("option",{domProps:{value:t.alpha2Code}},[e._v(e._s(t.name))])}))])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-sm-12"},[e.updatingAddress?a("button",{staticClass:"pull-right btn btn-primary",attrs:{disabled:""}},[a("i",{staticClass:"fa fa-spin fa-spinner"}),e._v("Updating")]):a("button",{staticClass:"pull-right btn btn-primary",on:{click:function(t){t.preventDefault(),e.updateAddress()}}},[e._v("Update")])])])])]):e._e()])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Contact Details "),a("small",[e._v(" - View and update the organisation's contact details")]),e._v(" "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.cBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"false","aria-controls":e.cBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-down pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body collapse",attrs:{id:e.cBody}},[a("form",{staticClass:"form-horizontal",attrs:{action:"index.html",method:"post"}},[a("div",{staticClass:"col-sm-12"},[a("button",{staticClass:"btn btn-primary pull-right",staticStyle:{"margin-bottom":"10px"},on:{click:function(t){t.preventDefault(),e.addContact()}}},[e._v("Add Contact")])]),e._v(" "),a("datatable",{ref:"contacts_datatable",attrs:{id:"organisation_contacts_datatable",dtOptions:e.contacts_options,dtHeaders:e.contacts_headers}})],1)])])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Linked Persons"),a("small",[e._v(" - Manage the user accounts linked to the organisation")]),e._v(" "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.oBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"true","aria-controls":e.oBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-down pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body collapse",attrs:{id:e.oBody}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-8"},[a("div",{staticClass:"row"},[e._m(0),e._v(" "),e._l(e.org.delegates,function(t){return a("div",[a("div",{staticClass:"col-sm-6"},[a("h4",[e._v(e._s(t.name))])]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("h4",[a("a",{attrs:{href:"#","data-id":t.id},on:{click:function(a){a.preventDefault(),e.unlinkUser(t)}}},[a("i",{staticClass:"fa fa-chain-broken"}),e._v("Unlink")])])])])}),e._v(" "),e._m(1)],2)]),e._v(" "),a("div",{staticClass:"col-sm-4"},[a("form",{staticClass:"form-horizontal",attrs:{action:"index.html",method:"post"}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Pin 1:")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("label",{staticClass:"control-label"},[e._v(e._s(e.org.pins.one))])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Pin 2:")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("label",{staticClass:"control-label"},[e._v(e._s(e.org.pins.two))])])])])])])])])])]),e._v(" "),a("AddContact",{ref:"add_contact",attrs:{org_id:e.org.id}})],1):e._e()},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-sm-12"},[a("h4",[e._v("Persons linked to this organisation:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-sm-12 top-buffer-s"},[a("strong",[e._v("Persons linked to the organisation are controlled by the organisation. The Department cannot manage this list of people.")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.isFinalised?["Approved"==e.proposal.processing_status?a("div",{staticClass:"col-md-12 alert alert-success"},[a("p",[e._v("The approval has been issued and has been emailed to "+e._s(e.proposal.applicant.name))]),e._v(" "),a("p",[e._v("Expiry date: "+e._s(e.proposal.proposed_issuance_approval.expiry_date)+"\n            ")]),a("p",[e._v("Permit: "),a("a",{attrs:{target:"_blank",href:e.proposal.permit}},[e._v("permit.pdf")])])]):a("div",{staticClass:"col-md-12 alert alert-warning"},[a("p",[e._v("The proposal was declined. The decision was emailed to "+e._s(e.proposal.applicant.name))])])]:e._e(),e._v(" "),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Level of Approval\n                        "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.proposedLevel,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"false","aria-controls":e.proposedLevel}},[a("span",{staticClass:"glyphicon glyphicon-chevron-down pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body panel-collapse collapse in",attrs:{id:e.proposedLevel}})])])]),e._v(" "),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[e.isFinalised?a("h3",{staticClass:"panel-title"},[e._v("Decision\n                        "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.proposedDecision,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"false","aria-controls":e.proposedDecision}},[a("span",{staticClass:"glyphicon glyphicon-chevron-down pull-right "})])]):a("h3",{staticClass:"panel-title"},[e._v("Proposed Decision\n                        "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.proposedDecision,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"false","aria-controls":e.proposedDecision}},[a("span",{staticClass:"glyphicon glyphicon-chevron-down pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body panel-collapse collapse in",attrs:{id:e.proposedDecision}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[e.proposal.proposed_decline_status?[e.isFinalised?a("strong",[e._v("Decision: Decline")]):a("strong",[e._v("Proposed decision: Decline")])]:[e.isFinalised?[e._m(0),e._v(" "),a("p",[a("strong",[e._v("Start date: "+e._s(e.proposal.proposed_issuance_approval.start_date))])]),e._v(" "),a("p",[a("strong",[e._v("Expiry date: "+e._s(e.proposal.proposed_issuance_approval.expiry_date))])]),e._v(" "),a("p",[a("strong",[e._v("CC emails: "+e._s(e.proposal.proposed_issuance_approval.cc_email))])])]:[e._m(1),e._v(" "),a("p",[a("strong",[e._v("Proposed start date: "+e._s(e.proposal.proposed_issuance_approval.start_date))])]),e._v(" "),a("p",[a("strong",[e._v("Proposed expiry date: "+e._s(e.proposal.proposed_issuance_approval.expiry_date))])]),e._v(" "),a("p",[a("strong",[e._v("Proposed cc emails: "+e._s(e.proposal.proposed_issuance_approval.cc_email))])])]]],2)])])])])])],2)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[a("strong",[e._v("Decision: Issue")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[a("strong",[e._v("Proposed decision: Issue")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-group"},[a("label",[a("input",{ref:"Checkbox",attrs:{name:e.name,type:"checkbox","data-parsley-required":""},domProps:{checked:e.isChecked},on:{change:e.handleDeclaration}}),e._v("\n        "+e._s(e.label)+"\n    ")]),e._v(" "),a("p",{staticClass:"help-block"},[e._v(e._s(e.help_text))])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],attrs:{transition:e.transition}},[a("div",{staticClass:"modal",on:{click:function(t){if(t.target!==t.currentTarget)return null;e.clickMask(t)}}},[a("div",{staticClass:"modal-dialog",class:e.modalClass,attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[e._t("header",[a("div",{staticClass:"modal-header"},[a("a",{staticClass:"close",attrs:{type:"button"},on:{click:e.cancel}},[e._v("x")]),e._v(" "),a("h4",{staticClass:"modal-title"},[e._t("title",[e._v("\n                                "+e._s(e.title)+"\n                            ")])],2)])]),e._v(" "),a("div",{staticClass:"modal-body"},[e._t("default")],2),e._v(" "),a("div",{staticClass:"modal-footer"},[e._t("footer",[a("button",{class:e.okClass,attrs:{id:"okBtn",type:"button"},on:{click:e.ok}},[e._v(e._s(e.okText))]),e._v(" "),a("button",{class:e.cancelClass,attrs:{type:"button"},on:{click:e.cancel}},[e._v(e._s(e.cancelText))])])],2)],2)])]),e._v(" "),a("div",{staticClass:"modal-backdrop in"})])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",attrs:{id:"internalDash"}},[a("ProposalDashTable",{attrs:{level:"internal",url:e.proposals_url}}),e._v(" "),a("ReferralDashTable")],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"form-group"},[a("div",{staticClass:"checkbox"},[a("label",[a("input",{ref:"Checkbox",attrs:{disabled:e.readonly,name:e.name,type:"checkbox","data-parsley-required":"","data-conditions":e.options},domProps:{checked:e.isChecked},on:{change:e.handleChange}}),e._v("\n                "+e._s(e.label)+"\n            ")]),e.help_text?a("i",{staticClass:"fa fa-question-circle",attrs:{"data-toggle":"tooltip","data-placement":"right",title:e.help_text}},[e._v("  ")]):e._e()])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Compliance with requirements "),e.is_external?a("small",[e._v("View submitted compliances and submit new ones")]):e._e(),e._v(" "),a("a",{attrs:{href:"#"+e.pBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"true","aria-controls":e.pBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-up pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body collapse in",attrs:{id:e.pBody}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[e._v("Region")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.filterProposalRegion,expression:"filterProposalRegion"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.filterProposalRegion=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"All"}},[e._v("All")]),e._v(" "),e._l(e.proposal_regions,function(t){return a("option",{domProps:{value:t}},[e._v(e._s(t))])})],2)])]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[e._v("Activity")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.filterProposalActivity,expression:"filterProposalActivity"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.filterProposalActivity=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"All"}},[e._v("All")]),e._v(" "),e._l(e.proposal_activityTitles,function(t){return a("option",{domProps:{value:t}},[e._v(e._s(t))])})],2)])]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[e._v("Status")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.filterProposalStatus,expression:"filterProposalStatus"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.filterProposalStatus=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"All"}},[e._v("All")]),e._v(" "),e._l(e.status,function(t){return a("option",{domProps:{value:t}},[e._v(e._s(t))])})],2)])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("label",{attrs:{for:""}},[e._v("Expiry From")]),e._v(" "),a("div",{ref:"proposalDateFromPicker",staticClass:"input-group date"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.filterProposalLodgedFrom,expression:"filterProposalLodgedFrom"}],staticClass:"form-control",attrs:{type:"text",placeholder:"DD/MM/YYYY"},domProps:{value:e.filterProposalLodgedFrom},on:{input:function(t){t.target.composing||(e.filterProposalLodgedFrom=t.target.value)}}}),e._v(" "),e._m(0)])]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("label",{attrs:{for:""}},[e._v("Expiry To")]),e._v(" "),a("div",{ref:"proposalDateToPicker",staticClass:"input-group date"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.filterProposalLodgedTo,expression:"filterProposalLodgedTo"}],staticClass:"form-control",attrs:{type:"text",placeholder:"DD/MM/YYYY"},domProps:{value:e.filterProposalLodgedTo},on:{input:function(t){t.target.composing||(e.filterProposalLodgedTo=t.target.value)}}}),e._v(" "),e._m(1)])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("datatable",{ref:"proposal_datatable",attrs:{id:e.datatable_id,dtOptions:e.proposal_options,dtHeaders:e.proposal_headers}})],1)])])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"AddComms"}},[a("modal",{attrs:{transition:"modal fade",title:"Communication log - Add entry",large:""},on:{ok:function(t){e.ok()},cancel:function(t){e.cancel()}}},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("form",{staticClass:"form-horizontal",attrs:{name:"commsForm"}},[a("alert",{attrs:{show:e.showError,type:"danger"},on:{"update:show":function(t){e.showError=t}}},[a("strong",[e._v(e._s(e.errorString))])]),e._v(" "),a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left",attrs:{for:"Name"}},[e._v("To")])]),e._v(" "),a("div",{staticClass:"col-sm-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.comms.to,expression:"comms.to"}],staticClass:"form-control",attrs:{type:"text",name:"to"},domProps:{value:e.comms.to},on:{input:function(t){t.target.composing||e.$set(e.comms,"to",t.target.value)}}})])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left",attrs:{for:"Name"}},[e._v("From")])]),e._v(" "),a("div",{staticClass:"col-sm-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.comms.fromm,expression:"comms.fromm"}],staticClass:"form-control",attrs:{type:"text",name:"fromm"},domProps:{value:e.comms.fromm},on:{input:function(t){t.target.composing||e.$set(e.comms,"fromm",t.target.value)}}})])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left",attrs:{for:"Name"}},[e._v("Type")])]),e._v(" "),a("div",{staticClass:"col-sm-4"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.comms.type,expression:"comms.type"}],staticClass:"form-control",attrs:{name:"type"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.comms,"type",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[e._v("Select Type")]),e._v(" "),a("option",{attrs:{value:"email"}},[e._v("Email")]),e._v(" "),a("option",{attrs:{value:"mail"}},[e._v("Mail")]),e._v(" "),a("option",{attrs:{value:"phone"}},[e._v("Phone")])])])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left",attrs:{for:"Name"}},[e._v("Subject/Description")])]),e._v(" "),a("div",{staticClass:"col-sm-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.comms.subject,expression:"comms.subject"}],staticClass:"form-control",staticStyle:{width:"70%"},attrs:{type:"text",name:"subject"},domProps:{value:e.comms.subject},on:{input:function(t){t.target.composing||e.$set(e.comms,"subject",t.target.value)}}})])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left",attrs:{for:"Name"}},[e._v("Text")])]),e._v(" "),a("div",{staticClass:"col-sm-9"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.comms.text,expression:"comms.text"}],staticClass:"form-control",staticStyle:{width:"70%"},attrs:{name:"text"},domProps:{value:e.comms.text},on:{input:function(t){t.target.composing||e.$set(e.comms,"text",t.target.value)}}})])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left",attrs:{for:"Name"}},[e._v("Attachments")])]),e._v(" "),a("div",{staticClass:"col-sm-9"},[e._l(e.files,function(t,s){return[a("div",{class:"row top-buffer file-row-"+s},[a("div",{staticClass:"col-sm-4"},[null==t.file?a("span",{staticClass:"btn btn-info btn-file pull-left"},[e._v("\n                                                    Atttach File "),a("input",{class:"file-upload-"+s,attrs:{type:"file",name:"file-upload-"+s},on:{change:function(a){e.uploadFile("file-upload-"+s,t)}}})]):a("span",{staticClass:"btn btn-info btn-file pull-left"},[e._v("\n                                                    Update File "),a("input",{class:"file-upload-"+s,attrs:{type:"file",name:"file-upload-"+s},on:{change:function(a){e.uploadFile("file-upload-"+s,t)}}})])]),e._v(" "),a("div",{staticClass:"col-sm-4"},[a("span",[e._v(e._s(t.name))])]),e._v(" "),a("div",{staticClass:"col-sm-4"},[a("button",{staticClass:"btn btn-danger",on:{click:function(t){e.removeFile(s)}}},[e._v("Remove")])])])]}),e._v(" "),a("a",{attrs:{href:""},on:{click:function(t){t.preventDefault(),e.attachAnother(t)}}},[a("i",{staticClass:"fa fa-lg fa-plus top-buffer-2x"})])],2)])])])],1)])]),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[e.addingComms?a("button",{staticClass:"btn btn-default",attrs:{type:"button",disabled:""},on:{click:e.ok}},[a("i",{staticClass:"fa fa-spinner fa-spin"}),e._v(" Adding")]):a("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:e.ok}},[e._v("Add")]),e._v(" "),a("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:e.cancel}},[e._v("Cancel")])])])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.assessorMode?[e.showingComment?a("a",{attrs:{href:""},on:{click:function(t){t.preventDefault(),e.toggleComment(t)}}},[a("i",{staticClass:"fa fa-ban"},[e._v("")])]):[null!=e.comment_value&&void 0!=e.comment_value&&""!=e.comment_value?a("a",{attrs:{href:""},on:{click:function(t){t.preventDefault(),e.toggleComment(t)}}},[a("i",{staticClass:"fa fa-comment-o",staticStyle:{color:"red"}},[e._v("")])]):a("a",{attrs:{href:""},on:{click:function(t){t.preventDefault(),e.toggleComment(t)}}},[a("i",{staticClass:"fa fa-comment-o"},[e._v("")])])]]:e._e(),e._v(" "),a("Comment",{directives:[{name:"show",rawName:"v-show",value:e.showingComment&&e.assessorMode,expression:"showingComment && assessorMode"}],attrs:{question:e.label,readonly:e.assessor_readonly,name:e.name+"-comment-field",value:e.comment_value}})],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"change-contact"}},[a("modal",{attrs:{transition:"modal fade",title:e.title,large:""},on:{ok:function(t){e.ok()},cancel:function(t){e.cancel()}}},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("form",{staticClass:"form-horizontal",attrs:{name:"declineForm"}},[a("alert",{attrs:{show:e.showError,type:"danger"},on:{"update:show":function(t){e.showError=t}}},[a("strong",[e._v(e._s(e.errorString))])]),e._v(" "),a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[e.check_status()?a("label",{staticClass:"control-label",attrs:{for:"Name"}},[e._v("Details")]):a("label",{staticClass:"control-label",attrs:{for:"Name"}},[e._v("Provide Reason for the proposed decline ")]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.decline.reason,expression:"decline.reason"}],staticClass:"form-control",staticStyle:{width:"70%"},attrs:{name:"reason"},domProps:{value:e.decline.reason},on:{input:function(t){t.target.composing||e.$set(e.decline,"reason",t.target.value)}}})])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[e.check_status()?a("label",{staticClass:"control-label",attrs:{for:"Name"}},[e._v("CC email")]):a("label",{staticClass:"control-label",attrs:{for:"Name"}},[e._v("Proposed CC email")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.decline.cc_email,expression:"decline.cc_email"}],staticClass:"form-control",staticStyle:{width:"70%"},attrs:{type:"text",name:"cc_email"},domProps:{value:e.decline.cc_email},on:{input:function(t){t.target.composing||e.$set(e.decline,"cc_email",t.target.value)}}})])])])])],1)])]),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[e.decliningProposal?a("button",{staticClass:"btn btn-default",attrs:{type:"button",disabled:""},on:{click:e.ok}},[a("i",{staticClass:"fa fa-spinner fa-spin"}),e._v(" Declining")]):a("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:e.ok}},[e._v("Ok")]),e._v(" "),a("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:e.cancel}},[e._v("Cancel")])])])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",attrs:{id:"internalDash"}},[a("ApprovalDashTable",{attrs:{level:"internal",url:e.approvals_url}})],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"proposalRequirementDetail"}},[a("modal",{attrs:{transition:"modal fade",title:"Requirement",large:""},on:{ok:function(t){e.ok()},cancel:function(t){e.cancel()}}},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("form",{staticClass:"form-horizontal",attrs:{name:"requirementForm"}},[a("alert",{attrs:{show:e.showError,type:"danger"},on:{"update:show":function(t){e.showError=t}}},[a("strong",[e._v(e._s(e.errorString))])]),e._v(" "),a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"radio-inline control-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.requirement.standard,expression:"requirement.standard"}],attrs:{type:"radio",name:"requirementType"},domProps:{value:!0,checked:e._q(e.requirement.standard,!0)},on:{change:function(t){e.$set(e.requirement,"standard",!0)}}}),e._v("Standard Requirement")]),e._v(" "),a("label",{staticClass:"radio-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.requirement.standard,expression:"requirement.standard"}],attrs:{type:"radio",name:"requirementType"},domProps:{value:!1,checked:e._q(e.requirement.standard,!1)},on:{change:function(t){e.$set(e.requirement,"standard",!1)}}}),e._v("Free Text Requirement")])])]),e._v(" "),a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left",attrs:{for:"Name"}},[e._v("Requirement")])]),e._v(" "),e.requirement.standard?a("div",{staticClass:"col-sm-9"},[a("div",{staticStyle:{width:"70% !important"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.requirement.standard_requirement,expression:"requirement.standard_requirement"}],ref:"standard_req",staticClass:"form-control",attrs:{name:"standard_requirement"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.requirement,"standard_requirement",t.target.multiple?a:a[0])}}},e._l(e.requirements,function(t){return a("option",{domProps:{value:t.id}},[e._v(e._s(t.code)+" "+e._s(t.text))])}))])]):a("div",{staticClass:"col-sm-9"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.requirement.free_requirement,expression:"requirement.free_requirement"}],staticClass:"form-control",staticStyle:{width:"70%"},attrs:{name:"free_requirement"},domProps:{value:e.requirement.free_requirement},on:{input:function(t){t.target.composing||e.$set(e.requirement,"free_requirement",t.target.value)}}})])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left",attrs:{for:"Name"}},[e._v("Due Date")])]),e._v(" "),a("div",{staticClass:"col-sm-9"},[a("div",{ref:"due_date",staticClass:"input-group date",staticStyle:{width:"70%"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.requirement.due_date,expression:"requirement.due_date"}],staticClass:"form-control",attrs:{type:"text",name:"due_date",placeholder:"DD/MM/YYYY"},domProps:{value:e.requirement.due_date},on:{input:function(t){t.target.composing||e.$set(e.requirement,"due_date",t.target.value)}}}),e._v(" "),a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])])])])]),e._v(" "),e.validDate?[a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left",attrs:{for:"Name"}},[e._v("Recurrence")])]),e._v(" "),a("div",{staticClass:"col-sm-9"},[a("label",{staticClass:"checkbox-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.requirement.recurrence,expression:"requirement.recurrence"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.requirement.recurrence)?e._i(e.requirement.recurrence,null)>-1:e.requirement.recurrence},on:{change:function(t){var a=e.requirement.recurrence,s=t.target,o=!!s.checked;if(Array.isArray(a)){var r=e._i(a,null);s.checked?r<0&&(e.requirement.recurrence=a.concat([null])):r>-1&&(e.requirement.recurrence=a.slice(0,r).concat(a.slice(r+1)))}else e.$set(e.requirement,"recurrence",o)}}})])])])]),e._v(" "),e.requirement.recurrence?[a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("label",{staticClass:"control-label pull-left",attrs:{for:"Name"}},[e._v("Recurrence pattern")])]),e._v(" "),a("div",{staticClass:"col-sm-9"},[a("label",{staticClass:"radio-inline control-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.requirement.recurrence_pattern,expression:"requirement.recurrence_pattern"}],attrs:{type:"radio",name:"recurrenceSchedule",value:"1"},domProps:{checked:e._q(e.requirement.recurrence_pattern,"1")},on:{change:function(t){e.$set(e.requirement,"recurrence_pattern","1")}}}),e._v("Weekly")]),e._v(" "),a("label",{staticClass:"radio-inline control-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.requirement.recurrence_pattern,expression:"requirement.recurrence_pattern"}],attrs:{type:"radio",name:"recurrenceSchedule",value:"2"},domProps:{checked:e._q(e.requirement.recurrence_pattern,"2")},on:{change:function(t){e.$set(e.requirement,"recurrence_pattern","2")}}}),e._v("Monthly")]),e._v(" "),a("label",{staticClass:"radio-inline control-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.requirement.recurrence_pattern,expression:"requirement.recurrence_pattern"}],attrs:{type:"radio",name:"recurrenceSchedule",value:"3"},domProps:{checked:e._q(e.requirement.recurrence_pattern,"3")},on:{change:function(t){e.$set(e.requirement,"recurrence_pattern","3")}}}),e._v("Yearly")])])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("label",{staticClass:"control-label",attrs:{for:"Name"}},[a("strong",{staticClass:"pull-left"},[e._v("Recur every")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.requirement.recurrence_schedule,expression:"requirement.recurrence_schedule"}],staticClass:"pull-left",staticStyle:{width:"10%","margin-left":"10px"},attrs:{type:"number",name:"schedule"},domProps:{value:e.requirement.recurrence_schedule},on:{input:function(t){t.target.composing||e.$set(e.requirement,"recurrence_schedule",t.target.value)}}}),e._v(" "),"1"==e.requirement.recurrence_pattern?a("strong",{staticClass:"pull-left",staticStyle:{"margin-left":"10px"}},[e._v("week(s)")]):"2"==e.requirement.recurrence_pattern?a("strong",{staticClass:"pull-left",staticStyle:{"margin-left":"10px"}},[e._v("month(s)")]):"3"==e.requirement.recurrence_pattern?a("strong",{staticClass:"pull-left",staticStyle:{"margin-left":"10px"}},[e._v("year(s)")]):e._e()])])])])]:e._e()]:e._e()],2)],1)])]),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[e.requirement.id?[e.updatingRequirement?a("button",{staticClass:"btn btn-default",attrs:{type:"button",disabled:""},on:{click:e.ok}},[a("i",{staticClass:"fa fa-spinnner fa-spin"}),e._v(" Updating")]):a("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:e.ok}},[e._v("Update")])]:[e.addingRequirement?a("button",{staticClass:"btn btn-default",attrs:{type:"button",disabled:""},on:{click:e.ok}},[a("i",{staticClass:"fa fa-spinner fa-spin"}),e._v(" Adding")]):a("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:e.ok}},[e._v("Add")])],e._v(" "),a("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:e.cancel}},[e._v("Cancel")])],2)])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v(e._s(e.label)+"\n        "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.section_id,"data-toggle":"collapse",expanded:"true","aria-controls":e.section_id}},[a("span",{staticClass:"glyphicon glyphicon-chevron-down pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body collapse in",attrs:{id:e.section_id}},[e._t("default")],2)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"internal-proposal-amend"}},[a("modal",{attrs:{transition:"modal fade",title:"Amendment Request",large:""},on:{ok:function(t){e.ok()},cancel:function(t){e.cancel()}}},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("form",{staticClass:"form-horizontal",attrs:{name:"amendForm"}},[a("alert",{attrs:{show:e.showError,type:"danger"},on:{"update:show":function(t){e.showError=t}}},[a("strong",[e._v(e._s(e.errorString))])]),e._v(" "),a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-offset-2 col-sm-8"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label pull-left",attrs:{for:"Name"}},[e._v("Reason")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.amendment.reason,expression:"amendment.reason"}],ref:"reason",staticClass:"form-control",attrs:{name:"reason"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.amendment,"reason",t.target.multiple?a:a[0])}}},e._l(e.reason_choices,function(t){return a("option",{domProps:{value:t.key}},[e._v(e._s(t.value))])}))])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-offset-2 col-sm-8"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label pull-left",attrs:{for:"Name"}},[e._v("Details")]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.amendment.text,expression:"amendment.text"}],staticClass:"form-control",attrs:{name:"name"},domProps:{value:e.amendment.text},on:{input:function(t){t.target.composing||e.$set(e.amendment,"text",t.target.value)}}})])])])])],1)])])])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"hello"},[a("h1",[e._v(e._s(e.msg))]),e._v(" "),a("h2",[e._v("Essential Links")]),e._v(" "),e._m(0),e._v(" "),a("h2",[e._v("Ecosystem")]),e._v(" "),e._m(1)])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",[a("li",[a("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[e._v("Core Docs")])]),e._v(" "),a("li",[a("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[e._v("Forum")])]),e._v(" "),a("li",[a("a",{attrs:{href:"https://gitter.im/vuejs/vue",target:"_blank"}},[e._v("Gitter Chat")])]),e._v(" "),a("li",[a("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[e._v("Twitter")])]),e._v(" "),a("br"),e._v(" "),a("li",[a("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[e._v("Docs for This Template")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",[a("li",[a("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[e._v("vue-router")])]),e._v(" "),a("li",[a("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[e._v("vuex")])]),e._v(" "),a("li",[a("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[e._v("vue-loader")])]),e._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[e._v("awesome-vue")])])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.label))]),e._v(" "),e.help_text?a("i",{staticClass:"fa fa-question-circle",staticStyle:{color:"blue"},attrs:{"data-toggle":"tooltip","data-placement":"right",title:e.help_text}},[e._v("")]):e._e(),e._v(" "),e.help_text_assessor&&e.assessorMode?a("i",{staticClass:"fa fa-question-circle",staticStyle:{color:"green"},attrs:{"data-toggle":"tooltip","data-placement":"right",title:e.help_text_assessor}},[e._v("")]):e._e(),e._v(" "),e.assessorMode?[e.showingComment?a("a",{attrs:{href:""},on:{click:function(t){t.preventDefault(),e.toggleComment(t)}}},[a("i",{staticClass:"fa fa-ban"},[e._v("")])]):[null!=e.comment_value&&void 0!=e.comment_value&&""!=e.comment_value?a("a",{attrs:{href:""},on:{click:function(t){t.preventDefault(),e.toggleComment(t)}}},[a("i",{staticClass:"fa fa-comment-o",staticStyle:{color:"red"}},[e._v("")])]):a("a",{attrs:{href:""},on:{click:function(t){t.preventDefault(),e.toggleComment(t)}}},[a("i",{staticClass:"fa fa-comment-o"},[e._v("")])])]]:e._e(),e._v(" "),a("div",{staticClass:"input-group date"},[a("input",{staticClass:"form-control",attrs:{readonly:e.readonly,name:e.name,placeholder:"DD/MM/YYYY"},domProps:{value:e.value}}),e._v(" "),e._m(0)])],2),e._v(" "),a("Comment",{directives:[{name:"show",rawName:"v-show",value:e.showingComment&&e.assessorMode,expression:"showingComment && assessorMode"}],attrs:{readonly:e.assessor_readonly,name:e.name+"-comment-field",value:e.comment_value}})],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",attrs:{id:"userInfo"}},[e.showCompletion?a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"well well-sm"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("p",[e._v("\n                            We have detected that this is the first time you have logged into the system.Please take a moment to provide us with your details\n                            (personal details, address details, contact details, and weather you are managing approvals for an organisation).\n                            Once completed, click Continue to start using the system.\n                        ")]),e._v(" "),a("a",{staticClass:"btn btn-primary pull-right",attrs:{disabled:!e.completedProfile,href:"/"}},[e._v("Continue")])])])])])]):e._e(),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[e.showCompletion&&e.profile.personal_details?a("i",{staticClass:"fa fa-check fa-2x pull-left",staticStyle:{color:"green"}}):e.showCompletion&&!e.profile.personal_details?a("i",{staticClass:"fa fa-times fa-2x pull-left",staticStyle:{color:"red"}}):e._e(),e._v(" "),a("h3",{staticClass:"panel-title"},[e._v("Personal Details "),a("small",[e._v("Provide your personal details")]),e._v(" "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.pBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"true","aria-controls":e.pBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-up pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body collapse in",attrs:{id:e.pBody}},[a("form",{staticClass:"form-horizontal",attrs:{name:"personal_form",method:"post"}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Given name(s)")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.profile.first_name,expression:"profile.first_name"}],staticClass:"form-control",attrs:{type:"text",name:"first_name",placeholder:""},domProps:{value:e.profile.first_name},on:{input:function(t){t.target.composing||e.$set(e.profile,"first_name",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Surname")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.profile.last_name,expression:"profile.last_name"}],staticClass:"form-control",attrs:{type:"text",name:"last_name",placeholder:""},domProps:{value:e.profile.last_name},on:{input:function(t){t.target.composing||e.$set(e.profile,"last_name",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-sm-12"},[e.updatingPersonal?a("button",{staticClass:"pull-right btn btn-primary",attrs:{disabled:""}},[a("i",{staticClass:"fa fa-spin fa-spinner"}),e._v("Updating")]):a("button",{staticClass:"pull-right btn btn-primary",on:{click:function(t){t.preventDefault(),e.updatePersonal()}}},[e._v("Update")])])])])])])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[e.showCompletion&&e.profile.address_details?a("i",{staticClass:"fa fa-check fa-2x pull-left",staticStyle:{color:"green"}}):e.showCompletion&&!e.profile.address_details?a("i",{staticClass:"fa fa-times fa-2x pull-left",staticStyle:{color:"red"}}):e._e(),e._v(" "),a("h3",{staticClass:"panel-title"},[e._v("Address Details "),a("small",[e._v("Provide your address details")]),e._v(" "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.adBody,"data-toggle":"collapse",expanded:"false","data-parent":"#userInfo","aria-controls":e.adBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-down pull-right "})])])]),e._v(" "),0==e.loading.length?a("div",{staticClass:"panel-body collapse",attrs:{id:e.adBody}},[a("form",{staticClass:"form-horizontal",attrs:{action:"index.html",method:"post"}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Street")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.profile.residential_address.line1,expression:"profile.residential_address.line1"}],staticClass:"form-control",attrs:{type:"text",name:"street",placeholder:""},domProps:{value:e.profile.residential_address.line1},on:{input:function(t){t.target.composing||e.$set(e.profile.residential_address,"line1",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Town/Suburb")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.profile.residential_address.locality,expression:"profile.residential_address.locality"}],staticClass:"form-control",attrs:{type:"text",name:"surburb",placeholder:""},domProps:{value:e.profile.residential_address.locality},on:{input:function(t){t.target.composing||e.$set(e.profile.residential_address,"locality",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("State")]),e._v(" "),a("div",{staticClass:"col-sm-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.profile.residential_address.state,expression:"profile.residential_address.state"}],staticClass:"form-control",attrs:{type:"text",name:"country",placeholder:""},domProps:{value:e.profile.residential_address.state},on:{input:function(t){t.target.composing||e.$set(e.profile.residential_address,"state",t.target.value)}}})]),e._v(" "),a("label",{staticClass:"col-sm-1 control-label",attrs:{for:""}},[e._v("Postcode")]),e._v(" "),a("div",{staticClass:"col-sm-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.profile.residential_address.postcode,expression:"profile.residential_address.postcode"}],staticClass:"form-control",attrs:{type:"text",name:"postcode",placeholder:""},domProps:{value:e.profile.residential_address.postcode},on:{input:function(t){t.target.composing||e.$set(e.profile.residential_address,"postcode",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Country")]),e._v(" "),a("div",{staticClass:"col-sm-4"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.profile.residential_address.country,expression:"profile.residential_address.country"}],staticClass:"form-control",attrs:{name:"country"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.profile.residential_address,"country",t.target.multiple?a:a[0])}}},e._l(e.countries,function(t){return a("option",{domProps:{value:t.alpha2Code}},[e._v(e._s(t.name))])}))])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-sm-12"},[e.updatingAddress?a("button",{staticClass:"pull-right btn btn-primary",attrs:{disabled:""}},[a("i",{staticClass:"fa fa-spin fa-spinner"}),e._v("Updating")]):a("button",{staticClass:"pull-right btn btn-primary",on:{click:function(t){t.preventDefault(),e.updateAddress()}}},[e._v("Update")])])])])]):e._e()])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[e.showCompletion&&e.profile.contact_details?a("i",{staticClass:"fa fa-check fa-2x pull-left",staticStyle:{color:"green"}}):e.showCompletion&&!e.profile.contact_details?a("i",{staticClass:"fa fa-times fa-2x pull-left",staticStyle:{color:"red"}}):e._e(),e._v(" "),a("h3",{staticClass:"panel-title"},[e._v("Contact Details "),a("small",[e._v("Provide your contact details")]),e._v(" "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.cBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"false","aria-controls":e.cBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-down pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body collapse",attrs:{id:e.cBody}},[a("form",{staticClass:"form-horizontal",attrs:{action:"index.html",method:"post"}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Phone (work)")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.profile.phone_number,expression:"profile.phone_number"}],staticClass:"form-control",attrs:{type:"text",name:"phone",placeholder:""},domProps:{value:e.profile.phone_number},on:{input:function(t){t.target.composing||e.$set(e.profile,"phone_number",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Mobile")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.profile.mobile_number,expression:"profile.mobile_number"}],staticClass:"form-control",attrs:{type:"text",name:"mobile",placeholder:""},domProps:{value:e.profile.mobile_number},on:{input:function(t){t.target.composing||e.$set(e.profile,"mobile_number",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Email")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.profile.email,expression:"profile.email"}],staticClass:"form-control",attrs:{type:"email",name:"email",placeholder:""},domProps:{value:e.profile.email},on:{input:function(t){t.target.composing||e.$set(e.profile,"email",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-sm-12"},[e.updatingContact?a("button",{staticClass:"pull-right btn btn-primary",attrs:{disabled:""}},[a("i",{staticClass:"fa fa-spin fa-spinner"}),e._v("Updating")]):a("button",{staticClass:"pull-right btn btn-primary",on:{click:function(t){t.preventDefault(),e.updateContact()}}},[e._v("Update")])])])])])])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Organisation "),a("small",[e._v("Link to the Organisations you are an employee of and for which you are managing approvals")]),e._v(" "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.oBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"true","aria-controls":e.oBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-down pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body collapse",attrs:{id:e.oBody}},[a("form",{staticClass:"form-horizontal",attrs:{name:"orgForm",method:"post"}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-5 control-label",attrs:{for:""}},[e._v("Do you manage approvals on behalf of an organisation?")]),e._v(" "),a("div",{staticClass:"col-sm-4"},[a("label",{staticClass:"radio-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.managesOrg,expression:"managesOrg"}],attrs:{type:"radio",name:"behalf_of_org",value:"Yes"},domProps:{checked:e._q(e.managesOrg,"Yes")},on:{change:function(t){e.managesOrg="Yes"}}}),e._v(" Yes\n                            ")]),e._v(" "),a("label",{staticClass:"radio-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.managesOrg,expression:"managesOrg"}],attrs:{disabled:e.hasOrgs,type:"radio",name:"behalf_of_org",value:"No"},domProps:{checked:e._q(e.managesOrg,"No")},on:{change:function(t){e.managesOrg="No"}}}),e._v(" No\n                            ")])])]),e._v(" "),"Yes"==e.managesOrg?a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-sm-12"},[e.hasOrgs&&!e.addingCompany?a("button",{staticClass:"btn btn-primary pull-right",on:{click:function(t){t.preventDefault(),e.addCompany()}}},[e._v("Add Another Organisation")]):e._e()])]):e._e(),e._v(" "),e._l(e.profile.disturbance_organisations,function(t){return a("div",[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:""}},[e._v("Organisation")]),e._v(" "),a("div",{staticClass:"col-sm-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"org.name"}],staticClass:"form-control",attrs:{type:"text",disabled:"",name:"organisation",placeholder:""},domProps:{value:t.name},on:{input:function(a){a.target.composing||e.$set(t,"name",a.target.value)}}})]),e._v(" "),a("label",{staticClass:"col-sm-2 control-label",attrs:{for:""}},[e._v("ABN/ACN")]),e._v(" "),a("div",{staticClass:"col-sm-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.abn,expression:"org.abn"}],staticClass:"form-control",attrs:{type:"text",disabled:"",name:"organisation",placeholder:""},domProps:{value:t.abn},on:{input:function(a){a.target.composing||e.$set(t,"abn",a.target.value)}}})]),e._v(" "),a("a",{staticStyle:{cursor:"pointer","text-decoration":"none"},on:{click:function(a){a.preventDefault(),e.unlinkUser(t)}}},[a("i",{staticClass:"fa fa-chain-broken fa-2x"}),e._v("Unlink")])])])}),e._v(" "),e._l(e.orgRequest_list,function(t){return a("div",[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:""}},[e._v("Organisation")]),e._v(" "),a("div",{staticClass:"col-sm-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"orgReq.name"}],staticClass:"form-control",attrs:{type:"text",disabled:"",name:"organisation",placeholder:""},domProps:{value:t.name},on:{input:function(a){a.target.composing||e.$set(t,"name",a.target.value)}}})]),e._v(" "),a("label",{staticClass:"col-sm-2 control-label",attrs:{for:""}},[e._v("ABN/ACN")]),e._v(" "),a("div",{staticClass:"col-sm-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.abn,expression:"orgReq.abn"}],staticClass:"form-control",attrs:{type:"text",disabled:"",name:"organisation",placeholder:""},domProps:{value:t.abn},on:{input:function(a){a.target.composing||e.$set(t,"abn",a.target.value)}}})]),e._v(" "),a("lable",[e._v("Pending for approval")])],1)])}),e._v(" "),e.addingCompany?a("div",{staticStyle:{"margin-top":"15px"}},[a("h3",[e._v(" New Organisation")]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:""}},[e._v("Organisation")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newOrg.name,expression:"newOrg.name"}],staticClass:"form-control",attrs:{type:"text",name:"organisation",placeholder:""},domProps:{value:e.newOrg.name},on:{input:function(t){t.target.composing||e.$set(e.newOrg,"name",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:""}},[e._v("ABN/ACN")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newOrg.abn,expression:"newOrg.abn"}],staticClass:"form-control",attrs:{type:"text",name:"abn",placeholder:""},domProps:{value:e.newOrg.abn},on:{input:function(t){t.target.composing||e.$set(e.newOrg,"abn",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"col-sm-2"},[a("button",{staticClass:"btn btn-primary",on:{click:function(t){t.preventDefault(),e.checkOrganisation()}}},[e._v("Check Details")])])]),e._v(" "),e.newOrg.exists&&e.newOrg.detailsChecked?a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-12",staticStyle:{"text-align":"left","margin-bottom":"20px"}},[e._v("\n                                This organisation has already been  registered with the system.Please enter the two pin codes:"),a("br"),e._v("\n                                These pin codes can be retrieved from ("+e._s(e.newOrg.first_five)+")\n                              ")]),e._v(" "),a("label",{staticClass:"col-sm-2 control-label",attrs:{for:""}},[e._v("Pin 1")]),e._v(" "),a("div",{staticClass:"col-sm-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newOrg.pin1,expression:"newOrg.pin1"}],staticClass:"form-control",attrs:{type:"text",name:"abn",placeholder:""},domProps:{value:e.newOrg.pin1},on:{input:function(t){t.target.composing||e.$set(e.newOrg,"pin1",t.target.value)}}})]),e._v(" "),a("label",{staticClass:"col-sm-2 control-label",attrs:{for:""}},[e._v("Pin 2")]),e._v(" "),a("div",{staticClass:"col-sm-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newOrg.pin2,expression:"newOrg.pin2"}],staticClass:"form-control",attrs:{type:"text",name:"abn",placeholder:""},domProps:{value:e.newOrg.pin2},on:{input:function(t){t.target.composing||e.$set(e.newOrg,"pin2",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"col-sm-2"},[e.validatingPins?a("button",{staticClass:"btn btn-primary pull-left"},[a("i",{staticClass:"fa fa-spin fa-spinner"}),e._v("Validating Pins")]):a("button",{staticClass:"btn btn-primary pull-left",on:{click:function(t){t.preventDefault(),e.validatePins()}}},[e._v("Validate")])])]):!e.newOrg.exists&&e.newOrg.detailsChecked?a("div",{staticClass:"form-group"},[e._m(0),e._v(" "),a("div",{staticClass:"col-sm-12"},[a("span",{staticClass:"btn btn-info btn-file pull-left"},[e._v("\n                                    Atttach File "),a("input",{ref:"uploadedFile",attrs:{type:"file"},on:{change:function(t){e.readFile()}}})]),e._v(" "),a("span",{staticClass:"pull-left",staticStyle:{"margin-left":"10px","margin-top":"10px"}},[e._v(e._s(e.uploadedFileName))])]),e._v(" "),a("label",{staticClass:"col-sm-10 control-label",staticStyle:{"text-align":"left"},attrs:{for:""}},[e._v("You will be notified by email once the Department has checked the organisation details.")]),e._v(" "),a("div",{staticClass:"col-sm-12"},[e.registeringOrg?a("button",{staticClass:"btn btn-primary pull-right",attrs:{disabled:""}},[a("i",{staticClass:"fa fa-spin fa-spinner"}),e._v("Submitting")]):a("button",{staticClass:"btn btn-primary pull-right",on:{click:function(t){t.preventDefault(),e.orgRequest()}}},[e._v("Submit")])])]):e._e()]):e._e()],2)])])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"col-sm-12",staticStyle:{"text-align":"left"}},[e._v("\n                                This organisation has not yet been registered with this system. Please upload a letter on organisation head stating that you are an employee of this origanisation."),a("br")])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("form",{attrs:{action:e.proposal_form_url,method:"post",name:"new_proposal",enctype:"multipart/form-data"}},[e.proposal?a("Proposal",{attrs:{proposal:e.proposal}},[a("input",{attrs:{type:"hidden",name:"csrfmiddlewaretoken"},domProps:{value:e.csrf_token}}),e._v(" "),a("input",{attrs:{type:"hidden",name:"schema"},domProps:{value:JSON.stringify(e.proposal)}}),e._v(" "),a("input",{attrs:{type:"hidden",name:"proposal_id"},domProps:{value:1}}),e._v(" "),e.proposal.readonly?a("div",{staticClass:"row",staticStyle:{"margin-bottom":"20px"}},[a("div",{staticClass:"col-lg-12 pull-right"},[a("router-link",{staticClass:"btn btn-primary",attrs:{to:{name:"external-proposals-dash"}}},[e._v("Back to Dashboard")])],1)]):a("div",{staticClass:"row",staticStyle:{"margin-bottom":"20px"}},[a("div",{staticClass:"col-lg-12 pull-right"},[a("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"Save and Exit"}}),e._v(" "),a("input",{staticClass:"btn btn-primary",attrs:{type:"button",value:"Save and Continue"},on:{click:function(t){t.preventDefault(),e.save(t)}}}),e._v(" "),a("input",{staticClass:"btn btn-primary",attrs:{type:"button",value:"Submit"},on:{click:function(t){t.preventDefault(),e.submit(t)}}})])])]):e._e()],1)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",attrs:{id:"internalOrgAccess"}},[a("div",{staticClass:"row"},[a("h3",[e._v("Organisation Access Request "+e._s(e.access.id))]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("CommsLogs",{attrs:{comms_url:e.comms_url,logs_url:e.logs_url,comms_add_url:e.comms_add_url,disable_add_entry:!1}}),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[e._v("\n                       Submission \n                    ")]),e._v(" "),a("div",{staticClass:"panel-body panel-collapse"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("strong",[e._v("Submitted by")]),a("br"),e._v("\n                                "+e._s(e.access.requester.full_name)+"\n                            ")]),e._v(" "),a("div",{staticClass:"col-sm-12 top-buffer-s"},[a("strong",[e._v("Lodged on")]),a("br"),e._v("\n                                "+e._s(e._f("formatDate")(e.access.lodgement_date))+"\n                            ")]),e._v(" "),e._m(0)])])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[e._v("\n                        Workflow \n                    ")]),e._v(" "),a("div",{staticClass:"panel-body panel-collapse"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("strong",[e._v("Status")]),a("br"),e._v("\n                                "+e._s(e.access.status)+"\n                            ")]),e._v(" "),a("div",{staticClass:"col-sm-12 top-buffer-s"},[a("strong",[e._v("Currently assigned to")]),a("br"),e._v(" "),a("div",{staticClass:"form-group"},[a("select",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],staticClass:"form-control"},[a("option",{attrs:{value:""}},[e._v("Loading...")])]),e._v(" "),e.isLoading?e._e():a("select",{directives:[{name:"model",rawName:"v-model",value:e.access.assigned_officer,expression:"access.assigned_officer"}],staticClass:"form-control",attrs:{disabled:e.isFinalised||!e.check_assessor()},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.access,"assigned_officer",t.target.multiple?a:a[0])},e.assignTo]}},[a("option",{attrs:{value:"null"}},[e._v("Unassigned")]),e._v(" "),e._l(e.members,function(t){return a("option",{domProps:{value:t.id}},[e._v(e._s(t.name))])})],2),e._v(" "),!e.isFinalised&&e.check_assessor()?a("a",{staticClass:"actionBtn pull-right",on:{click:function(t){t.preventDefault(),e.assignMyself()}}},[e._v("Assign to me")]):e._e()])]),e._v(" "),!e.isFinalised&&e.check_assessor()?a("div",{staticClass:"col-sm-12 top-buffer-s"},[a("strong",[e._v("Action")]),a("br"),e._v(" "),a("button",{staticClass:"btn btn-primary",on:{click:function(t){t.preventDefault(),e.acceptRequest()}}},[e._v("Accept")]),a("br"),e._v(" "),a("button",{staticClass:"btn btn-primary top-buffer-s",on:{click:function(e){e.preventDefault()}}},[e._v("Decline")])]):e._e()])])])])],1),e._v(" "),a("div",{staticClass:"col-md-1"}),e._v(" "),a("div",{staticClass:"col-md-8"},[a("div",{staticClass:"row"},[a("div",{staticClass:"panel panel-default"},[e._m(1),e._v(" "),a("div",{staticClass:"panel-body panel-collapse"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("form",{staticClass:"form-horizontal",attrs:{name:"access_form"}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Organisation")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.access.name,expression:"access.name"}],staticClass:"form-control",attrs:{type:"text",disabled:"",name:"name",placeholder:""},domProps:{value:e.access.name},on:{input:function(t){t.target.composing||e.$set(e.access,"name",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("ABN")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.access.abn,expression:"access.abn"}],staticClass:"form-control",attrs:{type:"text",disabled:"",name:"abn",placeholder:""},domProps:{value:e.access.abn},on:{input:function(t){t.target.composing||e.$set(e.access,"abn",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Letter")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("a",{attrs:{target:"_blank",href:e.access.identification}},[a("i",{staticClass:"fa fa-file-pdf-o"}),e._v("Letter.PDF")])])]),e._v(" "),a("div",{staticClass:"form-group",staticStyle:{"margin-top":"50px"}},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Phone")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.access.requester.phone_number,expression:"access.requester.phone_number"}],staticClass:"form-control",attrs:{type:"text",disabled:"",name:"phone",placeholder:""},domProps:{value:e.access.requester.phone_number},on:{input:function(t){t.target.composing||e.$set(e.access.requester,"phone_number",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Mobile")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.access.requester.mobile_number,expression:"access.requester.mobile_number"}],staticClass:"form-control",attrs:{type:"text",disabled:"",name:"mobile",placeholder:""},domProps:{value:e.access.requester.mobile_number},on:{input:function(t){t.target.composing||e.$set(e.access.requester,"mobile_number",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Email")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.access.requester.email,expression:"access.requester.email"}],staticClass:"form-control",attrs:{type:"text",disabled:"",name:"email",placeholder:""},domProps:{value:e.access.requester.email},on:{input:function(t){t.target.composing||e.$set(e.access.requester,"email",t.target.value)}}})])])])])])])])])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-sm-12 top-buffer-s"},[a("table",{staticClass:"table small-table"},[a("tr",[a("th",[e._v("Lodgment")]),e._v(" "),a("th",[e._v("Date")]),e._v(" "),a("th",[e._v("Action")])])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"panel-heading"},[a("h3",[e._v("Organisation Access Request")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",attrs:{id:"externalDash"}},[e._m(0),e._v(" "),a("ProposalDashTable",{attrs:{level:"external",url:e.proposals_url}}),e._v(" "),a("ApprovalDashTable",{attrs:{level:"external",url:e.approvals_url}}),e._v(" "),a("ComplianceDashTable",{attrs:{level:"external",url:e.empty_list}})],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"well well-sm"},[a("p",[e._v("\n                    Welcome to the Values Impact Assessment online system dashboard."),a("br"),a("br"),e._v(" Here you can access your existing approvals, view any proposals in progress, lodge new"),a("br"),e._v(" proposals or submit information required to comply with requirements listed\n                    on your approval\n                ")])])])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Approvals "),e.is_external?a("small",[e._v("View existing approvals and ammed or renew them")]):e._e(),e._v(" "),a("a",{attrs:{href:"#"+e.pBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"true","aria-controls":e.pBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-up pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body collapse in",attrs:{id:e.pBody}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[e._v("Region")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.filterProposalRegion,expression:"filterProposalRegion"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.filterProposalRegion=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"All"}},[e._v("All")]),e._v(" "),e._l(e.proposal_regions,function(t){return a("option",{domProps:{value:t}},[e._v(e._s(t))])})],2)])]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[e._v("Activity")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.filterProposalActivity,expression:"filterProposalActivity"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.filterProposalActivity=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"All"}},[e._v("All")]),e._v(" "),e._l(e.proposal_activityTitles,function(t){return a("option",{domProps:{value:t}},[e._v(e._s(t))])})],2)])]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[e._v("Status")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.filterProposalStatus,expression:"filterProposalStatus"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.filterProposalStatus=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"All"}},[e._v("All")]),e._v(" "),e._l(e.approval_status,function(t){return a("option",{domProps:{value:t}},[e._v(e._s(t))])})],2)])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("label",{attrs:{for:""}},[e._v("Expiry From")]),e._v(" "),a("div",{ref:"proposalDateFromPicker",staticClass:"input-group date"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.filterProposalLodgedFrom,expression:"filterProposalLodgedFrom"}],staticClass:"form-control",attrs:{type:"text",placeholder:"DD/MM/YYYY"},domProps:{value:e.filterProposalLodgedFrom},on:{input:function(t){t.target.composing||(e.filterProposalLodgedFrom=t.target.value)}}}),e._v(" "),e._m(0)])]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("label",{attrs:{for:""}},[e._v("Expiry To")]),e._v(" "),a("div",{ref:"proposalDateToPicker",staticClass:"input-group date"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.filterProposalLodgedTo,expression:"filterProposalLodgedTo"}],staticClass:"form-control",attrs:{type:"text",placeholder:"DD/MM/YYYY"},domProps:{value:e.filterProposalLodgedTo},on:{input:function(t){t.target.composing||(e.filterProposalLodgedTo=t.target.value)}}}),e._v(" "),e._m(1)])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("datatable",{ref:"proposal_datatable",attrs:{id:e.datatable_id,dtOptions:e.proposal_options,dtHeaders:e.proposal_headers}})],1)])])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",attrs:{id:"internalOrgAccessDash"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[e._v("Organisation")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.filterOrganisation,expression:"filterOrganisation"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.filterOrganisation=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"All"}},[e._v("All")]),e._v(" "),e._l(e.organisationChoices,function(t){return a("option",{domProps:{value:t}},[e._v(e._s(t))])})],2)])]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[e._v("Applicant")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.filterApplicant,expression:"filterApplicant"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.filterApplicant=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"All"}},[e._v("All")]),e._v(" "),e._l(e.applicantChoices,function(t){return a("option",{domProps:{value:t}},[e._v(e._s(t))])})],2)])]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[e._v("Status")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.filterStatus,expression:"filterStatus"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.filterStatus=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"All"}},[e._v("All")]),e._v(" "),e._l(e.statusChoices,function(t){return a("option",{domProps:{value:t}},[e._v(e._s(t))])})],2)])])]),e._v(" "),a("datatable",{ref:"org_access_table",attrs:{id:"org-access-table",dtOptions:e.dtOptions,dtHeaders:e.dtHeaders}})],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Apply on behalf of\n                        "),a("a",{attrs:{href:"#"+e.pBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"true","aria-controls":e.pBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-up pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body collapse in",attrs:{id:e.pBody}},[a("form",{staticClass:"form-horizontal",attrs:{name:"personal_form",method:"post"}},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"form-group"},[e._l(e.profile.disturbance_organisations,function(t){return a("div",{staticClass:"radio"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.behalf_of,expression:"behalf_of"}],attrs:{type:"radio",name:"behalf_of_org"},domProps:{value:t.id,checked:e._q(e.behalf_of,t.id)},on:{change:function(a){e.behalf_of=t.id}}}),e._v(" On behalf of "+e._s(t.name)+"\n                                    ")])])}),e._v(" "),a("div",{staticClass:"radio"},[a("label",{staticClass:"radio-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.behalf_of,expression:"behalf_of"}],attrs:{type:"radio",name:"behalf_of_org",value:"other"},domProps:{checked:e._q(e.behalf_of,"other")},on:{change:function(t){e.behalf_of="other"}}}),e._v(" On behalf of an organisation (as an authorised agent)\n                                    ")])])],2)]),e._v(" "),"other"==e.behalf_of?a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-sm-5"},[a("label",{staticClass:"control-label",attrs:{for:""}},[e._v("Organisation")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.agent.organisation,expression:"agent.organisation"}],staticClass:"form-control",attrs:{type:"text",name:"first_name",placeholder:""},domProps:{value:e.agent.organisation},on:{input:function(t){t.target.composing||e.$set(e.agent,"organisation",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"form-group col-sm-1"}),e._v(" "),a("div",{staticClass:"form-group col-sm-5"},[a("label",{staticClass:"control-label",attrs:{for:""}},[e._v("ABN / ACN")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.agent.abn,expression:"agent.abn"}],staticClass:"form-control",attrs:{type:"text",name:"last_name",placeholder:""},domProps:{value:e.agent.abn},on:{input:function(t){t.target.composing||e.$set(e.agent,"abn",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-sm-5"},[a("label",{staticClass:"control-label",attrs:{for:""}},[e._v("Organisation contact given name(s)")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.agent.given_names,expression:"agent.given_names"}],staticClass:"form-control",attrs:{type:"text",name:"last_name",placeholder:""},domProps:{value:e.agent.given_names},on:{input:function(t){t.target.composing||e.$set(e.agent,"given_names",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"form-group col-sm-1"}),e._v(" "),a("div",{staticClass:"form-group col-sm-5"},[a("label",{staticClass:"control-label",attrs:{for:""}},[e._v("Orgnisation contact surname")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.agent.surname,expression:"agent.surname"}],staticClass:"form-control",attrs:{type:"text",name:"last_name",placeholder:""},domProps:{value:e.agent.surname},on:{input:function(t){t.target.composing||e.$set(e.agent,"surname",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-sm-5"},[a("label",{staticClass:"control-label",attrs:{for:""}},[e._v("Organisation contact email address")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.agent.email,expression:"agent.email"}],staticClass:"form-control",attrs:{type:"text",name:"last_name",placeholder:""},domProps:{value:e.agent.email},on:{input:function(t){t.target.composing||e.$set(e.agent,"email",t.target.value)}}})])])]):e._e(),e._v(" "),a("div",{staticClass:"col-sm-12"},[a("button",{staticClass:"btn btn-primary pull-right",attrs:{disabled:"other"==e.behalf_of||""==e.behalf_of},on:{click:function(t){t.preventDefault(),e.submit()}}},[e._v("Continue")])])])])])])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.label))]),e._v(" "),e.help_text?a("i",{staticClass:"fa fa-question-circle",staticStyle:{color:"blue"},attrs:{"data-toggle":"tooltip","data-placement":"right",title:e.help_text}},[e._v("")]):e._e(),e._v(" "),e.help_text_assessor&&e.assessorMode?a("i",{staticClass:"fa fa-question-circle",staticStyle:{color:"green"},attrs:{"data-toggle":"tooltip","data-placement":"right",title:e.help_text_assessor}},[e._v("")]):e._e(),e._v(" "),e.assessorMode?[e.showingComment?a("a",{attrs:{href:""},on:{click:function(t){t.preventDefault(),e.toggleComment(t)}}},[a("i",{staticClass:"fa fa-ban"},[e._v("")])]):[null!=e.comment_value&&void 0!=e.comment_value&&""!=e.comment_value?a("a",{attrs:{href:""},on:{click:function(t){t.preventDefault(),e.toggleComment(t)}}},[a("i",{staticClass:"fa fa-comment-o",staticStyle:{color:"red"}},[e._v("")])]):a("a",{attrs:{href:""},on:{click:function(t){t.preventDefault(),e.toggleComment(t)}}},[a("i",{staticClass:"fa fa-comment-o"},[e._v("")])])]]:e._e(),e._v(" "),e.readonly?[e.isMultiple?a("select",{ref:"selectB",staticClass:"form-control",staticStyle:{width:"100%"},attrs:{disabled:"",id:e.selectid,multiple:""}},[a("option",{attrs:{value:""}},[e._v("Select...")]),e._v(" "),e._l(e.options,function(t){return a("option",{domProps:{value:t.value,selected:e.multipleSelection(t.value)}},[e._v(e._s(t.label))])})],2):a("select",{ref:"selectB",staticClass:"form-control",staticStyle:{width:"100%"},attrs:{disabled:"",id:e.selectid,name:e.name,"data-conditions":e.cons}},[a("option",{attrs:{value:""}},[e._v("Select...")]),e._v(" "),e._l(e.options,function(t){return a("option",{domProps:{value:t.value,selected:t.value==e.value},on:{change:e.handleChange}},[e._v(e._s(t.label))])})],2),e._v(" "),e.isMultiple?e._l(e.value,function(t){return a("input",{attrs:{input:"",type:"hidden",name:e.name},domProps:{value:t}})}):[a("input",{attrs:{type:"hidden",name:e.name},domProps:{value:e.value}})]]:[e.isMultiple?a("select",{ref:"selectB",staticClass:"form-control",staticStyle:{width:"100%"},attrs:{id:e.selectid,name:e.name,multiple:""}},[a("option",{attrs:{value:""}},[e._v("Select...")]),e._v(" "),e._l(e.options,function(t){return a("option",{domProps:{value:t.value,selected:e.multipleSelection(t.value)}},[e._v(e._s(t.label))])})],2):a("select",{ref:"selectB",staticClass:"form-control",staticStyle:{width:"100%"},attrs:{id:e.selectid,name:e.name,"data-conditions":e.cons}},[a("option",{attrs:{value:""}},[e._v("Select...")]),e._v(" "),e._l(e.options,function(t){return a("option",{domProps:{value:t.value,selected:t.value==e.value},on:{change:e.handleChange}},[e._v(e._s(t.label))])})],2)]],2),e._v(" "),a("Comment",{directives:[{name:"show",rawName:"v-show",value:e.showingComment&&e.assessorMode,expression:"showingComment && assessorMode"}],attrs:{readonly:e.assessor_readonly,name:e.name+"-comment-field",value:e.comment_value}})],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"label"},domProps:{innerHTML:e._s(e.value)}})])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",attrs:{id:"internalDash"}},[a("ComplianceDashTable",{attrs:{level:"internal",url:e.compliances_url}})],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"DataTable"}},[a("table",{staticClass:"hover table table-striped table-bordered dt-responsive nowrap",attrs:{cellspacing:"0",width:"100%",id:e.id}},[a("thead",[a("tr",e._l(e.dtHeaders,function(t,s){return a("th",{attrs:{"data-class":0==s?"expand":null}},[e._v(" "+e._s(t))])}))]),e._v(" "),a("tbody")])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-3",attrs:{for:"label"}},[e._v(e._s(e.label))]),e._v(" "),a("div",{staticClass:"col-md-9"},[a("textarea",{staticClass:"form-control",attrs:{readonly:e.readonly,type:e.type,name:e.name},domProps:{value:e.value}})])])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[e._v("\n            Logs\n        ")]),e._v(" "),a("div",{staticClass:"panel-body panel-collapse"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("strong",[e._v("Communications")]),a("br"),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-5"},[a("a",{ref:"showCommsBtn",staticClass:"actionBtn",attrs:{tabindex:"2"}},[e._v("Show")])]),e._v(" "),e.disable_add_entry?e._e():[e._m(0),e._v(" "),a("div",{staticClass:"col-sm-5"},[a("a",{ref:"addCommsBtn",staticClass:"actionBtn pull-right",on:{click:function(t){e.addComm()}}},[e._v("Add Entry")])])]],2)]),e._v(" "),a("div",{staticClass:"col-sm-12 top-buffer-s"},[a("strong",[e._v("Actions")]),a("br"),e._v(" "),a("a",{ref:"showActionBtn",staticClass:"actionBtn",attrs:{tabindex:"2"}},[e._v("Show")])])])])]),e._v(" "),a("AddCommLog",{ref:"add_comm",attrs:{url:e.comms_add_url}})],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-sm-1"},[a("span",[e._v("|")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.label))]),e._v(" "),e.help_text?a("i",{staticClass:"fa fa-question-circle",staticStyle:{color:"blue"},attrs:{"data-toggle":"tooltip","data-placement":"right",title:e.help_text}},[e._v("")]):e._e(),e._v(" "),e.help_text_assessor&&e.assessorMode?a("i",{staticClass:"fa fa-question-circle",staticStyle:{color:"green"},attrs:{"data-toggle":"tooltip","data-placement":"right",title:e.help_text_assessor}},[e._v("")]):e._e(),e._v(" "),e.assessorMode?[e.showingComment?a("a",{attrs:{href:""},on:{click:function(t){t.preventDefault(),e.toggleComment(t)}}},[a("i",{staticClass:"fa fa-ban"},[e._v("")])]):[null!=e.comment_value&&void 0!=e.comment_value&&""!=e.comment_value?a("a",{attrs:{href:""},on:{click:function(t){t.preventDefault(),e.toggleComment(t)}}},[a("i",{staticClass:"fa fa-comment-o",staticStyle:{color:"red"}},[e._v("")])]):a("a",{attrs:{href:""},on:{click:function(t){t.preventDefault(),e.toggleComment(t)}}},[a("i",{staticClass:"fa fa-comment-o"},[e._v("")])])]]:e._e(),e._v(" "),e.files?a("div",e._l(e.files,function(t){return a("div",[a("p",[e._v("\n                    File: "),a("a",{attrs:{href:e.docsUrl+t,target:"_blank"}},[e._v(e._s(t))])]),e._v(" "),a("input",{attrs:{name:e.name+"-existing",type:"hidden"},domProps:{value:e.value}})])})):e._e(),e._v(" "),e._l(e.repeat,function(t){return e.readonly?e._e():a("div",[a("input",{staticClass:"form-control",attrs:{name:e.name,type:"file","data-que":t,accept:e.fileTypes},on:{change:e.handleChange}}),a("br")])})],2),e._v(" "),a("Comment",{directives:[{name:"show",rawName:"v-show",value:e.showingComment&&e.assessorMode,expression:"showingComment && assessorMode"}],attrs:{readonly:e.assessor_readonly,name:e.name+"-comment-field",value:e.comment_value}})],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isForAssessor?a("span",[e.help_text&&e.assessorMode?a("i",{staticClass:"fa fa-question-circle",staticStyle:{color:"green"},attrs:{"data-toggle":"tooltip","data-placement":"right",title:e.help_text}},[e._v("")]):e._e()]):a("span",[e.help_text?a("i",{staticClass:"fa fa-question-circle",staticStyle:{color:"blue"},attrs:{"data-toggle":"tooltip","data-placement":"right",title:e.help_text}},[e._v("")]):e._e()])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.readonly?a("div",[a("div",{staticClass:"radio"},[a("label",[a("input",{ref:"radioB",attrs:{name:e.name,disabled:"",type:"radio",required:e.isRequired,"data-conditions":e.options},domProps:{value:e.value,checked:e.isChecked},on:{change:e.handleChange}}),e._v(e._s(e.label)+"\n        ")])]),e._v(" "),a("input",{attrs:{type:"hidden",name:e.name},domProps:{value:e.savedValue}})]):a("div",[a("div",{staticClass:"radio"},[a("label",[a("input",{ref:"radioB",attrs:{name:e.name,type:"radio",required:e.isRequired,"data-conditions":e.options},domProps:{value:e.value,checked:e.isChecked},on:{change:e.handleChange}}),e._v(e._s(e.label)+"\n        ")])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-fluid",attrs:{id:"internalOrgInfo"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-10 col-md-offset-1"},[a("div",{staticClass:"row"},[a("h3",[e._v(e._s(e.org.name)+" - "+e._s(e.org.abn))]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("CommsLogs",{attrs:{comms_url:e.comms_url,logs_url:e.logs_url,comms_add_url:e.comms_add_url,disable_add_entry:!1}})],1),e._v(" "),a("div",{staticClass:"col-md-1"}),e._v(" "),a("div",{staticClass:"col-md-8"},[a("ul",{staticClass:"nav nav-tabs"},[a("li",{staticClass:"active"},[a("a",{attrs:{"data-toggle":"tab",href:"#"+e.dTab}},[e._v("Details")])]),e._v(" "),a("li",[a("a",{attrs:{"data-toggle":"tab",href:"#"+e.oTab}},[e._v("Other")])])]),e._v(" "),a("div",{staticClass:"tab-content"},[a("div",{staticClass:"tab-pane fade in active",attrs:{id:e.dTab}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Organisation Details\n                                    "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.pdBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"true","aria-controls":e.pdBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-up pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body collapse in",attrs:{id:e.pdBody}},[a("form",{staticClass:"form-horizontal",attrs:{name:"personal_form",method:"post"}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Name")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.org.name,expression:"org.name"}],staticClass:"form-control",attrs:{type:"text",name:"first_name",placeholder:""},domProps:{value:e.org.name},on:{input:function(t){t.target.composing||e.$set(e.org,"name",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("ABN")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.org.abn,expression:"org.abn"}],staticClass:"form-control",attrs:{type:"text",disabled:"",name:"last_name",placeholder:""},domProps:{value:e.org.abn},on:{input:function(t){t.target.composing||e.$set(e.org,"abn",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-sm-12"},[e.updatingDetails?a("button",{staticClass:"pull-right btn btn-primary",attrs:{disabled:""}},[a("i",{staticClass:"fa fa-spin fa-spinner"}),e._v("Updating")]):a("button",{staticClass:"pull-right btn btn-primary",on:{click:function(t){t.preventDefault(),e.updateDetails()}}},[e._v("Update")])])])])])])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Address Details\n                                    "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.adBody,"data-toggle":"collapse",expanded:"false","data-parent":"#userInfo","aria-controls":e.adBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-down pull-right "})])])]),e._v(" "),0==e.loading.length?a("div",{staticClass:"panel-body collapse",attrs:{id:e.adBody}},[a("form",{staticClass:"form-horizontal",attrs:{action:"index.html",method:"post"}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Street")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.org.address.line1,expression:"org.address.line1"}],staticClass:"form-control",attrs:{type:"text",name:"street",placeholder:""},domProps:{value:e.org.address.line1},on:{input:function(t){t.target.composing||e.$set(e.org.address,"line1",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Town/Suburb")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.org.address.locality,expression:"org.address.locality"}],staticClass:"form-control",attrs:{type:"text",name:"surburb",placeholder:""},domProps:{value:e.org.address.locality},on:{input:function(t){t.target.composing||e.$set(e.org.address,"locality",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("State")]),e._v(" "),a("div",{staticClass:"col-sm-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.org.address.state,expression:"org.address.state"}],staticClass:"form-control",attrs:{type:"text",name:"country",placeholder:""},domProps:{value:e.org.address.state},on:{input:function(t){t.target.composing||e.$set(e.org.address,"state",t.target.value)}}})]),e._v(" "),a("label",{staticClass:"col-sm-2 control-label",attrs:{for:""}},[e._v("Postcode")]),e._v(" "),a("div",{staticClass:"col-sm-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.org.address.postcode,expression:"org.address.postcode"}],staticClass:"form-control",attrs:{type:"text",name:"postcode",placeholder:""},domProps:{value:e.org.address.postcode},on:{input:function(t){t.target.composing||e.$set(e.org.address,"postcode",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Country")]),e._v(" "),a("div",{staticClass:"col-sm-4"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.org.address.country,expression:"org.address.country"}],staticClass:"form-control",attrs:{name:"country"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.org.address,"country",t.target.multiple?a:a[0])}}},e._l(e.countries,function(t){return a("option",{domProps:{value:t.alpha2Code}},[e._v(e._s(t.name))])}))])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-sm-12"},[e.updatingAddress?a("button",{staticClass:"pull-right btn btn-primary",attrs:{disabled:""}},[a("i",{staticClass:"fa fa-spin fa-spinner"}),e._v("Updating")]):a("button",{staticClass:"pull-right btn btn-primary",on:{click:function(t){t.preventDefault(),e.updateAddress()}}},[e._v("Update")])])])])]):e._e()])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Contact Details\n                                    "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.cdBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"false","aria-controls":e.cdBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-down pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body collapse",attrs:{id:e.cdBody}},[a("form",{staticClass:"form-horizontal",attrs:{action:"index.html",method:"post"}},[a("div",{staticClass:"col-sm-12"},[a("button",{staticClass:"btn btn-primary pull-right",staticStyle:{"margin-bottom":"10px"},on:{click:function(t){t.preventDefault(),e.addContact()}}},[e._v("Add Contact")])]),e._v(" "),a("datatable",{ref:"contacts_datatable",attrs:{id:"organisation_contacts_datatable",dtOptions:e.contacts_options,dtHeaders:e.contacts_headers}})],1)])])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Linked Persons"),a("small",[e._v(" - Manage the user accounts linked to the organisation")]),e._v(" "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.oBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"true","aria-controls":e.oBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-down pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body collapse",attrs:{id:e.oBody}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-8"},[a("div",{staticClass:"row"},[e._m(0),e._v(" "),e._l(e.org.delegates,function(t){return a("div",[a("div",{staticClass:"col-sm-6"},[a("h4",[e._v(e._s(t.name))])])])}),e._v(" "),e._m(1)],2)]),e._v(" "),e.org.pins?a("div",{staticClass:"col-sm-4"},[a("form",{staticClass:"form-horizontal",attrs:{action:"index.html",method:"post"}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Pin 1")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("label",{staticClass:"control-label"},[e._v(e._s(e.org.pins.one))])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Pin 2")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("label",{staticClass:"control-label"},[e._v(e._s(e.org.pins.two))])])])])]):e._e()])])])])])]),e._v(" "),a("div",{staticClass:"tab-pane fade",attrs:{id:e.oTab}},[a("ProposalDashTable",{ref:"proposals_table",attrs:{level:"internal",url:e.proposals_url}}),e._v(" "),a("ApprovalDashTable",{ref:"approvals_table",attrs:{level:"internal",url:e.approvals_url}}),e._v(" "),a("ComplianceDashTable",{ref:"compliances_table",attrs:{level:"internal",url:e.compliances_url}})],1)])])])])]),e._v(" "),a("AddContact",{ref:"add_contact",attrs:{org_id:e.org.id}})],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-sm-12"},[a("h4",[e._v("Persons linked to this organisation:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-sm-12 top-buffer-s"},[a("strong",[e._v("Persons linked to the organisation are controlled by the organisation. The Department cannot manage this list of people.")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"change-contact"}},[a("modal",{attrs:{title:"Add Contact",large:""},on:{ok:function(t){e.ok()},cancel:function(t){e.cancel()}}},[a("form",{staticClass:"form-horizontal",attrs:{name:"addContactForm"}},[a("div",{staticClass:"row"},[a("alert",{attrs:{show:e.showError,type:"danger"},on:{"update:show":function(t){e.showError=t}}},[a("strong",[e._v(e._s(e.errorString))])]),e._v(" "),a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-md-2 control-label pull-left",attrs:{for:"Name"}},[e._v("Given Name(s): ")]),e._v(" "),a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.contact.first_name,expression:"contact.first_name"}],staticClass:"form-control",attrs:{type:"text",name:"name"},domProps:{value:e.contact.first_name},on:{input:function(t){t.target.composing||e.$set(e.contact,"first_name",t.target.value)}}})])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-md-2 control-label pull-left",attrs:{for:"Name"}},[e._v("Surname: ")]),e._v(" "),a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.contact.last_name,expression:"contact.last_name"}],staticClass:"form-control",attrs:{type:"text",name:"name"},domProps:{value:e.contact.last_name},on:{input:function(t){t.target.composing||e.$set(e.contact,"last_name",t.target.value)}}})])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-md-2 control-label pull-left",attrs:{for:"Phone"}},[e._v("Phone: ")]),e._v(" "),a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.contact.phone_number,expression:"contact.phone_number"}],staticClass:"form-control",attrs:{type:"text",name:"phone"},domProps:{value:e.contact.phone_number},on:{input:function(t){t.target.composing||e.$set(e.contact,"phone_number",t.target.value)}}})])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-md-2 control-label pull-left",attrs:{for:"Mobile"}},[e._v("Mobile: ")]),e._v(" "),a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.contact.mobile_number,expression:"contact.mobile_number"}],staticClass:"form-control",attrs:{type:"text",name:"mobile"},domProps:{value:e.contact.mobile_number},on:{input:function(t){t.target.composing||e.$set(e.contact,"mobile_number",t.target.value)}}})])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-md-2 control-label pull-left",attrs:{for:"Fax"}},[e._v("Fax: ")]),e._v(" "),a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.contact.fax_number,expression:"contact.fax_number"}],staticClass:"form-control",attrs:{type:"text",name:"fax"},domProps:{value:e.contact.fax_number},on:{input:function(t){t.target.composing||e.$set(e.contact,"fax_number",t.target.value)}}})])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-md-2 control-label pull-left",attrs:{for:"Email"}},[e._v("Email: ")]),e._v(" "),a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.contact.email,expression:"contact.email"}],staticClass:"form-control",attrs:{type:"text",name:"email"},domProps:{value:e.contact.email},on:{input:function(t){t.target.composing||e.$set(e.contact,"email",t.target.value)}}})])])])])],1)])])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"label"}},[e._v(e._s(e.label))]),e._v(" "),e.help_text?a("i",{staticClass:"fa fa-question-circle",staticStyle:{color:"blue"},attrs:{"data-toggle":"tooltip","data-placement":"right",title:e.help_text}},[e._v("")]):e._e(),e._v(" "),e.help_text_assessor&&e.assessorMode?a("i",{staticClass:"fa fa-question-circle",staticStyle:{color:"green"},attrs:{"data-toggle":"tooltip","data-placement":"right",title:e.help_text_assessor}},[e._v("")]):e._e(),e._v(" "),e.assessorMode?[e.showingComment?a("a",{attrs:{href:""},on:{click:function(t){t.preventDefault(),e.toggleComment(t)}}},[a("i",{staticClass:"fa fa-ban"},[e._v("")])]):[null!=e.comment_value&&void 0!=e.comment_value&&""!=e.comment_value?a("a",{attrs:{href:""},on:{click:function(t){t.preventDefault(),e.toggleComment(t)}}},[a("i",{staticClass:"fa fa-comment-o",staticStyle:{color:"red"}},[e._v("")])]):a("a",{attrs:{href:""},on:{click:function(t){t.preventDefault(),e.toggleComment(t)}}},[a("i",{staticClass:"fa fa-comment-o"},[e._v("")])])]]:e._e(),e._v(" "),a("input",{staticClass:"form-control",attrs:{readonly:e.readonly,type:e.type,name:e.name},domProps:{value:e.value}})],2),e._v(" "),a("Comment",{directives:[{name:"show",rawName:"v-show",value:e.showingComment&&e.assessorMode,expression:"showingComment && assessorMode"}],attrs:{question:e.label,readonly:e.assessor_readonly,name:e.name+"-comment-field",value:e.comment_value}})],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"proposedIssuanceApproval"}},[a("modal",{attrs:{transition:"modal fade",title:e.title,large:""},on:{ok:function(t){e.ok()},cancel:function(t){e.cancel()}}},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("form",{staticClass:"form-horizontal",attrs:{name:"approvalForm"}},[a("alert",{attrs:{show:e.showError,type:"danger"},on:{"update:show":function(t){e.showError=t}}},[a("strong",[e._v(e._s(e.errorString))])]),e._v(" "),a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},["With Approver"==e.processing_status?a("label",{staticClass:"control-label pull-left",attrs:{for:"Name"}},[e._v("Start Date")]):a("label",{staticClass:"control-label pull-left",attrs:{for:"Name"}},[e._v("Proposed Start Date")])]),e._v(" "),a("div",{staticClass:"col-sm-9"},[a("div",{ref:"start_date",staticClass:"input-group date",staticStyle:{width:"70%"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.approval.start_date,expression:"approval.start_date"}],staticClass:"form-control",attrs:{type:"text",name:"start_date",placeholder:"DD/MM/YYYY"},domProps:{value:e.approval.start_date},on:{input:function(t){t.target.composing||e.$set(e.approval,"start_date",t.target.value)}}}),e._v(" "),a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])])])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},["With Approver"==e.processing_status?a("label",{staticClass:"control-label pull-left",attrs:{for:"Name"}},[e._v("Expiry Date")]):a("label",{staticClass:"control-label pull-left",attrs:{for:"Name"}},[e._v("Proposed Expiry Date")])]),e._v(" "),a("div",{staticClass:"col-sm-9"},[a("div",{ref:"due_date",staticClass:"input-group date",staticStyle:{width:"70%"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.approval.expiry_date,expression:"approval.expiry_date"}],staticClass:"form-control",attrs:{type:"text",name:"due_date",placeholder:"DD/MM/YYYY"},domProps:{value:e.approval.expiry_date},on:{input:function(t){t.target.composing||e.$set(e.approval,"expiry_date",t.target.value)}}}),e._v(" "),a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])])])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},["With Approver"==e.processing_status?a("label",{staticClass:"control-label pull-left",attrs:{for:"Name"}},[e._v("Details")]):a("label",{staticClass:"control-label pull-left",attrs:{for:"Name"}},[e._v("Proposed Details")])]),e._v(" "),a("div",{staticClass:"col-sm-9"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.approval.details,expression:"approval.details"}],staticClass:"form-control",staticStyle:{width:"70%"},attrs:{name:"approval_details"},domProps:{value:e.approval.details},on:{input:function(t){t.target.composing||e.$set(e.approval,"details",t.target.value)}}})])])]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},["With Approver"==e.processing_status?a("label",{staticClass:"control-label pull-left",attrs:{for:"Name"}},[e._v("CC email")]):a("label",{staticClass:"control-label pull-left",attrs:{for:"Name"}},[e._v("Proposed CC email")])]),e._v(" "),a("div",{staticClass:"col-sm-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.approval.cc_email,expression:"approval.cc_email"}],staticClass:"form-control",staticStyle:{width:"70%"},attrs:{type:"text",name:"approval_cc"},domProps:{value:e.approval.cc_email},on:{input:function(t){t.target.composing||e.$set(e.approval,"cc_email",t.target.value)}}})])])])])],1)])]),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[e.issuingApproval?a("button",{staticClass:"btn btn-default",attrs:{type:"button",disabled:""},on:{click:e.ok}},[a("i",{staticClass:"fa fa-spinner fa-spin"}),e._v(" Issuing")]):a("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:e.ok}},[e._v("Ok")]),e._v(" "),a("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:e.cancel}},[e._v("Cancel")])])])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],class:{alert:!0,"alert-success":"success"==e.type,"alert-warning":"warning"==e.type,"alert-info":"info"==e.type,"alert-danger":"danger"==e.type,top:"top"===e.placement,"top-right":"top-right"===e.placement},style:{width:e.width},attrs:{transition:"fade",role:"alert"}},[a("button",{directives:[{name:"show",rawName:"v-show",value:e.dismissable,expression:"dismissable"}],staticClass:"close",attrs:{type:"button"},on:{click:function(t){e.show=!1}}},[a("span",[e._v("")])]),e._v(" "),e._t("default")],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Proposals "),e.is_external?a("small",[e._v("View existing proposals and lodge new ones")]):e._e(),e._v(" "),a("a",{attrs:{href:"#"+e.pBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"true","aria-controls":e.pBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-up pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body collapse in",attrs:{id:e.pBody}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[e._v("Region")]),e._v(" "),a("select",{ref:"filterRegion",staticClass:"form-control input-sm",staticStyle:{width:"100%"},attrs:{multiple:""}},e._l(e.proposal_regions,function(t){return a("option",{domProps:{value:t}},[e._v(e._s(t))])}))])]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[e._v("Activity")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.filterProposalActivity,expression:"filterProposalActivity"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.filterProposalActivity=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"All"}},[e._v("All")]),e._v(" "),e._l(e.proposal_activityTitles,function(t){return a("option",{domProps:{value:t}},[e._v(e._s(t))])})],2)])]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[e._v("Status")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.filterProposalStatus,expression:"filterProposalStatus"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.filterProposalStatus=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"All"}},[e._v("All")]),e._v(" "),e._l(e.proposal_status,function(t){return a("option",{domProps:{value:t}},[e._v(e._s(t))])})],2)])]),e._v(" "),e.is_external?a("div",{staticClass:"col-md-3"},[a("router-link",{staticClass:"btn btn-primary pull-right",staticStyle:{"margin-top":"25px"},attrs:{to:{name:"apply_proposal"}}},[e._v("New Proposal")])],1):e._e()]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("label",{attrs:{for:""}},[e._v("Lodged From")]),e._v(" "),a("div",{ref:"proposalDateFromPicker",staticClass:"input-group date"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.filterProposalLodgedFrom,expression:"filterProposalLodgedFrom"}],staticClass:"form-control",attrs:{type:"text",placeholder:"DD/MM/YYYY"},domProps:{value:e.filterProposalLodgedFrom},on:{input:function(t){t.target.composing||(e.filterProposalLodgedFrom=t.target.value)}}}),e._v(" "),e._m(0)])]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("label",{attrs:{for:""}},[e._v("Lodged To")]),e._v(" "),a("div",{ref:"proposalDateToPicker",staticClass:"input-group date"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.filterProposalLodgedTo,expression:"filterProposalLodgedTo"}],staticClass:"form-control",attrs:{type:"text",placeholder:"DD/MM/YYYY"},domProps:{value:e.filterProposalLodgedTo},on:{input:function(t){t.target.composing||(e.filterProposalLodgedTo=t.target.value)}}}),e._v(" "),e._m(1)])]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[e._v("Submitter")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.filterProposalSubmitter,expression:"filterProposalSubmitter"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.filterProposalSubmitter=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"All"}},[e._v("All")]),e._v(" "),e._l(e.proposal_submitters,function(t){return a("option",{domProps:{value:t.email}},[e._v(e._s(t.search_term))])})],2)])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},["external"==e.level?a("datatable",{ref:"proposal_datatable",attrs:{id:e.datatable_id,dtOptions:e.proposal_ex_options,dtHeaders:e.proposal_ex_headers}}):a("datatable",{ref:"proposal_datatable",attrs:{id:e.datatable_id,dtOptions:e.proposal_options,dtHeaders:e.proposal_headers}})],1)])])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Proposals referred to me\n                    "),a("a",{attrs:{href:"#"+e.pBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"true","aria-controls":e.pBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-up pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body collapse in",attrs:{id:e.pBody}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[e._v("Region")]),e._v(" "),a("select",{ref:"filterRegion",staticClass:"form-control",staticStyle:{width:"100%"},attrs:{multiple:""}},e._l(e.proposal_regions,function(t){return a("option",{domProps:{value:t}},[e._v(e._s(t))])}))])]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[e._v("Activity")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.filterProposalActivity,expression:"filterProposalActivity"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.filterProposalActivity=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"All"}},[e._v("All")]),e._v(" "),e._l(e.proposal_activityTitles,function(t){return a("option",{domProps:{value:t}},[e._v(e._s(t))])})],2)])]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[e._v("Status")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.filterProposalStatus,expression:"filterProposalStatus"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.filterProposalStatus=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"All"}},[e._v("All")]),e._v(" "),e._l(e.proposal_status,function(t){return a("option",{domProps:{value:t}},[e._v(e._s(t))])})],2)])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("label",{attrs:{for:""}},[e._v("Lodged From")]),e._v(" "),a("div",{ref:"proposalDateFromPicker",staticClass:"input-group date"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.filterProposalLodgedFrom,expression:"filterProposalLodgedFrom"}],staticClass:"form-control",attrs:{type:"text",placeholder:"DD/MM/YYYY"},domProps:{value:e.filterProposalLodgedFrom},on:{input:function(t){t.target.composing||(e.filterProposalLodgedFrom=t.target.value)}}}),e._v(" "),e._m(0)])]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("label",{attrs:{for:""}},[e._v("Lodged To")]),e._v(" "),a("div",{ref:"proposalDateToPicker",staticClass:"input-group date"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.filterProposalLodgedTo,expression:"filterProposalLodgedTo"}],staticClass:"form-control",attrs:{type:"text",placeholder:"DD/MM/YYYY"},domProps:{value:e.filterProposalLodgedTo},on:{input:function(t){t.target.composing||(e.filterProposalLodgedTo=t.target.value)}}}),e._v(" "),e._m(1)])]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[e._v("Submitter")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.filterProposalSubmitter,expression:"filterProposalSubmitter"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.filterProposalSubmitter=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"All"}},[e._v("All")]),e._v(" "),e._l(e.proposal_submitters,function(t){return a("option",{domProps:{value:t.email}},[e._v(e._s(t.search_term))])})],2)])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("datatable",{ref:"proposal_datatable",attrs:{id:e.datatable_id,dtOptions:e.proposal_options,dtHeaders:e.proposal_headers}})],1)])])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"glyphicon glyphicon-calendar"})])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-md-3",attrs:{for:"label"}},[e._v("Deficiency")]),e._v(" "),a("div",{staticClass:"col-md-9"},[a("textarea",{staticClass:"form-control deficiency",attrs:{readonly:e.readonly,"data-question":e.question,name:e.name},domProps:{value:e.value}})])])])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"top-buffer bottom-buffer"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-body"},[a("h4",{staticClass:"inline"},[e._v(e._s(e.label)+" "),e.help_text?a("i",{staticClass:"fa fa-question-circle",attrs:{"data-toggle":"tooltip","data-placement":"right",title:e.help_text}},[e._v("  ")]):e._e()]),e._v(" "),a("a",{staticClass:"collapse-link-top pull-right",on:{click:function(t){t.preventDefault(),e.expand(t)}}},[a("span",{staticClass:"glyphicon glyphicon-chevron-down"})]),e._v(" "),a("div",{staticClass:"children-anchor-point collapse in",staticStyle:{"padding-left":"0px"}}),e._v(" "),e.isPreviewMode?a("span",{class:{hidden:e.isRemovable}},[a("a",{attrs:{id:"remove_"+e.name}},[e._v("Remove "+e._s(e.label))])]):e._e(),e._v(" "),a("a",{staticClass:"collapse-link-bottom pull-right",on:{click:function(t){t.preventDefault(),e.minimize(t)}}},[a("span",{staticClass:"glyphicon glyphicon-chevron-up"})]),e._v(" "),a("div",{class:{row:!0,collapse:!0,in:e.isExpanded},staticStyle:{"margin-top":"10px"}},[a("div",{staticClass:"col-sm-12"},[e._t("default")],2)])])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"label"}},[e._v(e._s(e.label))]),e._v(" "),e.help_text?a("i",{staticClass:"fa fa-question-circle",staticStyle:{color:"blue"},attrs:{"data-toggle":"tooltip","data-placement":"right",title:e.help_text}},[e._v("")]):e._e(),e._v(" "),e.help_text_assessor&&e.assessorMode?a("i",{staticClass:"fa fa-question-circle",staticStyle:{color:"green"},attrs:{"data-toggle":"tooltip","data-placement":"right",title:e.help_text_assessor}},[e._v("")]):e._e(),e._v(" "),e.assessorMode?[e.showingComment?a("a",{attrs:{href:""},on:{click:function(t){t.preventDefault(),e.toggleComment(t)}}},[a("i",{staticClass:"fa fa-ban"},[e._v("")])]):[null!=e.comment_value&&void 0!=e.comment_value&&""!=e.comment_value?a("a",{attrs:{href:""},on:{click:function(t){t.preventDefault(),e.toggleComment(t)}}},[a("i",{staticClass:"fa fa-comment-o",staticStyle:{color:"red"}},[e._v("")])]):a("a",{attrs:{href:""},on:{click:function(t){t.preventDefault(),e.toggleComment(t)}}},[a("i",{staticClass:"fa fa-comment-o"},[e._v("")])])]]:e._e(),e._v(" "),a("textarea",{staticClass:"form-control",attrs:{readonly:e.readonly,rows:"5",name:e.name}},[e._v(e._s(e.value))]),a("br")],2),e._v(" "),a("Comment",{directives:[{name:"show",rawName:"v-show",value:e.showingComment&&e.assessorMode,expression:"showingComment && assessorMode"}],attrs:{question:e.label,readonly:e.assessor_readonly,name:e.name+"-comment-field",value:e.comment_value}})],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",attrs:{id:"internalSearch"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Search Organisations\n                        "),a("a",{attrs:{href:"#"+e.oBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"true","aria-controls":e.oBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-up pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body collapse in",attrs:{id:e.oBody}},[a("div",{staticClass:"row"},[a("form",{attrs:{name:"searchOrganisationForm"}},[a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label",attrs:{for:"Organisation"}},[e._v("Search Organisation")]),e._v(" "),null==e.organisations?a("select",{directives:[{name:"model",rawName:"v-model",value:e.selected_organisation,expression:"selected_organisation"}],staticClass:"form-control",attrs:{name:"organisation"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selected_organisation=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[e._v("Loading...")])]):a("select",{ref:"searchOrg",staticClass:"form-control",attrs:{name:"organisation"}},[a("option",{attrs:{value:""}},[e._v("Select Organisation")]),e._v(" "),e._l(e.organisations,function(t){return a("option",{domProps:{value:t.id}},[e._v(e._s(t.name))])})],2)])]),e._v(" "),a("div",{staticClass:"col-md-12 text-center"},[a("router-link",{staticClass:"btn btn-primary",attrs:{disabled:""==e.selected_organisation,to:{name:"internal-org-detail",params:{org_id:parseInt(e.selected_organisation)}}}},[e._v("View Details")])],1)])])])])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Search Keywords\n                        "),a("a",{attrs:{href:"#"+e.kBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"true","aria-controls":e.kBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-up pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body collapse in",attrs:{id:e.kBody}},[a("div",{staticClass:"row"})])])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Search Reference Number\n                        "),a("a",{attrs:{href:"#"+e.rBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"true","aria-controls":e.rBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-up pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body collapse in",attrs:{id:e.rBody}},[a("div",{staticClass:"row"})])])])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.isFinalised?e._e():a("a",{ref:"showRef",staticClass:"actionBtn top-buffer-s",on:{click:function(e){e.preventDefault()}}},[e._v("Show Referrals")])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.proposal?a("div",{staticClass:"container",attrs:{id:"internalProposal"}},[a("div",{staticClass:"row"},[a("h3",[e._v("Proposal: "+e._s(e.proposal.lodgement_number))]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("CommsLogs",{attrs:{comms_url:e.comms_url,logs_url:e.logs_url,comms_add_url:e.comms_add_url,disable_add_entry:!1}}),e._v(" "),e.canSeeSubmission?a("div",{staticClass:"row"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[e._v("\n                   Submission \n                ")]),e._v(" "),a("div",{staticClass:"panel-body panel-collapse"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("strong",[e._v("Submitted by")]),a("br"),e._v("\n                            "+e._s(e.proposal.submitter)+"\n                        ")]),e._v(" "),a("div",{staticClass:"col-sm-12 top-buffer-s"},[a("strong",[e._v("Lodged on")]),a("br"),e._v("\n                            "+e._s(e._f("formatDate")(e.proposal.lodgement_date))+"\n                        ")]),e._v(" "),e._m(0)])])])]):e._e(),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[e._v("\n                    Workflow \n                ")]),e._v(" "),a("div",{staticClass:"panel-body panel-collapse"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("strong",[e._v("Status")]),a("br"),e._v("\n                            "+e._s(e.proposal.processing_status)+"\n                        ")]),e._v(" "),e._m(1),e._v(" "),"With Assessor"==e.proposal.processing_status||"With Referral"==e.proposal.processing_status?[a("div",{staticClass:"col-sm-12 top-buffer-s"},[a("strong",[e._v("Referrals")]),a("br"),e._v(" "),a("div",{staticClass:"form-group"},[a("select",{ref:"department_users",staticClass:"form-control",attrs:{disabled:!e.canLimitedAction}},[a("option",{attrs:{value:"null"}}),e._v(" "),e._l(e.department_users,function(t){return a("option",{domProps:{value:t.email}},[e._v(e._s(t.name))])})],2),e._v(" "),e.sendingReferral?[e.canLimitedAction?a("span",{staticClass:"actionBtn text-primary pull-right",attrs:{disabled:""},on:{click:function(t){t.preventDefault(),e.sendReferral()}}},[e._v("\n                                            Sending Referral\n                                            "),a("i",{staticClass:"fa fa-circle-o-notch fa-spin fa-fw"})]):e._e()]:[e.selected_referral?[e.canLimitedAction?a("a",{staticClass:"actionBtn pull-right",on:{click:function(t){t.preventDefault(),e.sendReferral()}}},[e._v("Send")]):e._e()]:e._e()]],2),e._v(" "),a("table",{staticClass:"table small-table"},[e._m(2),e._v(" "),e._l(e.proposal.latest_referrals,function(t){return a("tr",[a("td",[a("small",[a("strong",[e._v(e._s(t.referral))])]),a("br"),e._v(" "),a("small",[a("strong",[e._v(e._s(e._f("formatDate")(t.lodged_on)))])])]),e._v(" "),a("td",[a("small",[a("strong",[e._v(e._s(t.processing_status))])]),a("br"),e._v(" "),"Awaiting"==t.processing_status?[e.canLimitedAction?a("small",[a("a",{attrs:{href:"#"},on:{click:function(a){a.preventDefault(),e.remindReferral(t)}}},[e._v("Remind")]),e._v(" / "),a("a",{attrs:{href:"#"},on:{click:function(a){a.preventDefault(),e.recallReferral(t)}}},[e._v("Recall")])]):e._e()]:[e.canLimitedAction?a("small",[a("a",{attrs:{href:"#"},on:{click:function(a){a.preventDefault(),e.resendReferral(t)}}},[e._v("Resend")])]):e._e()]],2)])})],2),e._v(" "),a("MoreReferrals",{attrs:{proposal:e.proposal,canAction:e.canLimitedAction,isFinalised:e.isFinalised},on:{refreshFromResponse:e.refreshFromResponse}})],1),e._v(" "),e._m(3)]:e._e(),e._v(" "),e.isFinalised?e._e():a("div",{staticClass:"col-sm-12 top-buffer-s"},[a("strong",[e._v("Currently assigned to")]),a("br"),e._v(" "),a("div",{staticClass:"form-group"},["With Approver"==e.proposal.processing_status?[a("select",{directives:[{name:"model",rawName:"v-model",value:e.proposal.assigned_approver,expression:"proposal.assigned_approver"}],ref:"assigned_officer",staticClass:"form-control",attrs:{disabled:!e.canAction},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.proposal,"assigned_approver",t.target.multiple?a:a[0])}}},e._l(e.proposal.allowed_assessors,function(t){return a("option",{domProps:{value:t.id}},[e._v(e._s(t.first_name)+" "+e._s(t.last_name))])})),e._v(" "),e.canAssess&&e.proposal.assigned_approver!=e.proposal.current_assessor.id?a("a",{staticClass:"actionBtn pull-right",on:{click:function(t){t.preventDefault(),e.assignRequestUser()}}},[e._v("Assign to me")]):e._e()]:[a("select",{directives:[{name:"model",rawName:"v-model",value:e.proposal.assigned_officer,expression:"proposal.assigned_officer"}],ref:"assigned_officer",staticClass:"form-control",attrs:{disabled:!e.canAction},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.proposal,"assigned_officer",t.target.multiple?a:a[0])}}},e._l(e.proposal.allowed_assessors,function(t){return a("option",{domProps:{value:t.id}},[e._v(e._s(t.first_name)+" "+e._s(t.last_name))])})),e._v(" "),e.canAssess&&e.proposal.assigned_officer!=e.proposal.current_assessor.id?a("a",{staticClass:"actionBtn pull-right",on:{click:function(t){t.preventDefault(),e.assignRequestUser()}}},[e._v("Assign to me")]):e._e()]],2)]),e._v(" "),"With Assessor (Requirements)"==e.proposal.processing_status||"With Approver"==e.proposal.processing_status||e.isFinalised?[a("div",{staticClass:"col-sm-12"},[a("strong",[e._v("Proposal")]),a("br"),e._v(" "),e.showingProposal?a("a",{staticClass:"actionBtn",on:{click:function(t){t.preventDefault(),e.toggleProposal()}}},[e._v("Hide Proposal")]):a("a",{staticClass:"actionBtn",on:{click:function(t){t.preventDefault(),e.toggleProposal()}}},[e._v("Show Proposal")])]),e._v(" "),e._m(4)]:e._e(),e._v(" "),"With Approver"==e.proposal.processing_status||e.isFinalised?[a("div",{staticClass:"col-sm-12"},[a("strong",[e._v("Requirements")]),a("br"),e._v(" "),e.showingRequirements?a("a",{staticClass:"actionBtn",on:{click:function(t){t.preventDefault(),e.toggleRequirements()}}},[e._v("Hide Requirements")]):a("a",{staticClass:"actionBtn",on:{click:function(t){t.preventDefault(),e.toggleRequirements()}}},[e._v("Show Requirements")])]),e._v(" "),e._m(5)]:e._e(),e._v(" "),!e.isFinalised&&e.canAction?a("div",{staticClass:"col-sm-12 top-buffer-s"},["With Assessor"==e.proposal.processing_status||"With Referral"==e.proposal.processing_status?[e._m(6),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("button",{staticClass:"btn btn-primary",staticStyle:{width:"80%"},attrs:{disabled:e.proposal.can_user_edit},on:{click:function(t){t.preventDefault(),e.switchStatus("with_assessor_requirements")}}},[e._v("Enter Requirements")]),a("br")])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("button",{staticClass:"btn btn-primary top-buffer-s",staticStyle:{width:"80%"},attrs:{disabled:e.proposal.can_user_edit},on:{click:function(t){t.preventDefault(),e.amendmentRequest()}}},[e._v("Request Amendment")]),a("br")])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("button",{staticClass:"btn btn-primary top-buffer-s",staticStyle:{width:"80%"},attrs:{disabled:e.proposal.can_user_edit},on:{click:function(t){t.preventDefault(),e.proposedDecline()}}},[e._v("Decline")])])])]:"With Assessor (Requirements)"==e.proposal.processing_status?[e._m(7),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("button",{staticClass:"btn btn-primary",staticStyle:{width:"80%"},attrs:{disabled:e.proposal.can_user_edit},on:{click:function(t){t.preventDefault(),e.switchStatus("with_assessor")}}},[e._v("Back To Processing")]),a("br")])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("button",{staticClass:"btn btn-primary top-buffer-s",staticStyle:{width:"80%"},attrs:{disabled:e.proposal.can_user_edit},on:{click:function(t){t.preventDefault(),e.proposedApproval()}}},[e._v("Issue Approval")]),a("br")])])]:"With Approver"==e.proposal.processing_status?[e._m(8),e._v(" "),a("div",{staticClass:"row"},[e.proposal.proposed_decline_status?a("div",{staticClass:"col-sm-12"},[a("button",{staticClass:"btn btn-primary",staticStyle:{width:"80%"},attrs:{disabled:e.proposal.can_user_edit},on:{click:function(t){t.preventDefault(),e.switchStatus("with_assessor")}}},[e._v("Back To Processing")]),a("br")]):a("div",{staticClass:"col-sm-12"},[a("button",{staticClass:"btn btn-primary",staticStyle:{width:"80%"},attrs:{disabled:e.proposal.can_user_edit},on:{click:function(t){t.preventDefault(),e.switchStatus("with_assessor_requirements")}}},[e._v("Back To Requirements")]),a("br")])]),e._v(" "),a("div",{staticClass:"row"},[e.proposal.proposed_decline_status?e._e():a("div",{staticClass:"col-sm-12"},[a("button",{staticClass:"btn btn-primary top-buffer-s",staticStyle:{width:"80%"},attrs:{disabled:e.proposal.can_user_edit},on:{click:function(t){t.preventDefault(),e.issueProposal()}}},[e._v("Issue")]),a("br")]),e._v(" "),a("div",{staticClass:"col-sm-12"},[a("button",{staticClass:"btn btn-primary top-buffer-s",staticStyle:{width:"80%"},attrs:{disabled:e.proposal.can_user_edit},on:{click:function(t){t.preventDefault(),e.declineProposal()}}},[e._v("Decline")]),a("br")])])]:e._e()],2):e._e()],2)])])])],1),e._v(" "),a("div",{staticClass:"col-md-1"}),e._v(" "),a("div",{staticClass:"col-md-8"},[a("div",{staticClass:"row"},["With Approver"==e.proposal.processing_status||e.isFinalised?[a("ApprovalScreen",{attrs:{proposal:e.proposal}})]:e._e(),e._v(" "),"With Assessor (Requirements)"==e.proposal.processing_status||("With Approver"==e.proposal.processing_status||e.isFinalised)&&e.showingRequirements?[a("Requirements",{attrs:{proposal:e.proposal}})]:e._e(),e._v(" "),e.canSeeSubmission||!e.canSeeSubmission&&e.showingProposal?[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Applicant\n                                    "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.detailsBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"true","aria-controls":e.detailsBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-up pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body panel-collapse collapse in",attrs:{id:e.detailsBody}},[a("form",{staticClass:"form-horizontal"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Name")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.proposal.applicant.name,expression:"proposal.applicant.name"}],staticClass:"form-control",attrs:{disabled:"",type:"text",name:"applicantName",placeholder:""},domProps:{value:e.proposal.applicant.name},on:{input:function(t){t.target.composing||e.$set(e.proposal.applicant,"name",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("ABN/ACN")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.proposal.applicant.abn,expression:"proposal.applicant.abn"}],staticClass:"form-control",attrs:{disabled:"",type:"text",name:"applicantABN",placeholder:""},domProps:{value:e.proposal.applicant.abn},on:{input:function(t){t.target.composing||e.$set(e.proposal.applicant,"abn",t.target.value)}}})])])])])])])]),e._v(" "),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Address Details\n                                    "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.addressBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"false","aria-controls":e.addressBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-down pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body panel-collapse collapse",attrs:{id:e.addressBody}},[a("form",{staticClass:"form-horizontal"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Street")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.proposal.applicant.address.line1,expression:"proposal.applicant.address.line1"}],staticClass:"form-control",attrs:{disabled:"",type:"text",name:"street",placeholder:""},domProps:{value:e.proposal.applicant.address.line1},on:{input:function(t){t.target.composing||e.$set(e.proposal.applicant.address,"line1",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Town/Suburb")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.proposal.applicant.address.locality,expression:"proposal.applicant.address.locality"}],staticClass:"form-control",attrs:{disabled:"",type:"text",name:"surburb",placeholder:""},domProps:{value:e.proposal.applicant.address.locality},on:{input:function(t){t.target.composing||e.$set(e.proposal.applicant.address,"locality",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("State")]),e._v(" "),a("div",{staticClass:"col-sm-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.proposal.applicant.address.state,expression:"proposal.applicant.address.state"}],staticClass:"form-control",attrs:{disabled:"",type:"text",name:"country",placeholder:""},domProps:{value:e.proposal.applicant.address.state},on:{input:function(t){t.target.composing||e.$set(e.proposal.applicant.address,"state",t.target.value)}}})]),e._v(" "),a("label",{staticClass:"col-sm-2 control-label",attrs:{for:""}},[e._v("Postcode")]),e._v(" "),a("div",{staticClass:"col-sm-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.proposal.applicant.address.postcode,expression:"proposal.applicant.address.postcode"}],staticClass:"form-control",attrs:{disabled:"",type:"text",name:"postcode",placeholder:""},domProps:{value:e.proposal.applicant.address.postcode},on:{input:function(t){t.target.composing||e.$set(e.proposal.applicant.address,"postcode",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Country")]),e._v(" "),a("div",{staticClass:"col-sm-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.proposal.applicant.address.country,expression:"proposal.applicant.address.country"}],staticClass:"form-control",attrs:{disabled:"",type:"text",name:"country"},domProps:{value:e.proposal.applicant.address.country},on:{input:function(t){t.target.composing||e.$set(e.proposal.applicant.address,"country",t.target.value)}}})])])])])])])]),e._v(" "),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Contact Details\n                                    "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.contactsBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"false","aria-controls":e.contactsBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-down pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body panel-collapse collapse",attrs:{id:e.contactsBody}},[a("table",{ref:"contacts_datatable",staticClass:"hover table table-striped table-bordered dt-responsive",attrs:{id:e.contacts_table_id,cellspacing:"0",width:"100%"}})])])])]),e._v(" "),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"row"},[a("form",{attrs:{action:e.proposal_form_url,method:"post",name:"new_proposal",enctype:"multipart/form-data"}},[e.proposal?a("Proposal",{attrs:{form_width:"inherit",withSectionsSelector:!1,proposal:e.proposal}},[a("input",{attrs:{type:"hidden",name:"csrfmiddlewaretoken"},domProps:{value:e.csrf_token}}),e._v(" "),a("input",{attrs:{type:"hidden",name:"schema"},domProps:{value:JSON.stringify(e.proposal)}}),e._v(" "),a("input",{attrs:{type:"hidden",name:"proposal_id"},domProps:{value:1}}),e._v(" "),e.hasAssessorMode?a("div",{staticClass:"row",staticStyle:{"margin-bottom":"20px"}},[a("div",{staticClass:"col-lg-12 pull-right"},[a("button",{staticClass:"btn btn-primary pull-right",on:{click:function(t){t.preventDefault(),e.save()}}},[e._v("Save Changes")])])]):e._e()]):e._e()],1)])])]:e._e()],2)])]),e._v(" "),a("ProposedDecline",{ref:"proposed_decline",attrs:{processing_status:e.proposal.processing_status,proposal_id:e.proposal.id},on:{refreshFromResponse:e.refreshFromResponse}}),e._v(" "),a("AmendmentRequest",{ref:"amendment_request",attrs:{proposal_id:e.proposal.id},on:{refreshFromResponse:e.refreshFromResponse}}),e._v(" "),a("ProposedApproval",{ref:"proposed_approval",attrs:{processing_status:e.proposal.processing_status,proposal_id:e.proposal.id},on:{refreshFromResponse:e.refreshFromResponse}})],1):e._e()},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-sm-12 top-buffer-s"},[a("table",{staticClass:"table small-table"},[a("tr",[a("th",[e._v("Lodgement")]),e._v(" "),a("th",[e._v("Date")]),e._v(" "),a("th",[e._v("Action")])])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"separator"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",[a("th",[e._v("Referral")]),e._v(" "),a("th",[e._v("Status/Action")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"separator"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"separator"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"separator"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("strong",[e._v("Action")]),a("br")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("strong",[e._v("Action")]),a("br")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("strong",[e._v("Action")]),a("br")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"row"},[e.proposal&&e.proposal.id?a("div",{staticClass:"col-sm-offset-3 col-sm-6 borderDecoration"},[a("strong",[e._v("Your proposal has been successfully submitted.")]),e._v(" "),a("br"),e._v(" "),a("table",[a("tr",[e._m(0),e._v(" "),a("td",[a("strong",[e._v(e._s(e.proposal.lodgement_number))])])]),e._v(" "),a("tr",[e._m(1),e._v(" "),a("td",[a("strong",[e._v(" "+e._s(e._f("formatDate")(e.proposal.lodgement_date)))])])])]),e._v(" "),a("router-link",{staticClass:"btn btn-primary",staticStyle:{"margin-top":"15px"},attrs:{to:{name:"external-proposals-dash"}}},[e._v("Back to dashboard")])],1):a("div",{staticClass:"col-sm-offset-3 col-sm-6 borderDecoration"},[a("strong",[e._v("Sorry it looks like there isn't any proposal currently in your session.")]),e._v(" "),a("br"),a("router-link",{staticClass:"btn btn-primary",staticStyle:{"margin-top":"15px"},attrs:{to:{name:"external-proposals-dash"}}},[e._v("Back to dashboard")])],1)])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("td",[a("strong",[e._v("Proposal:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("td",[a("strong",[e._v("Date/Time:")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.proposal?a("div",{staticClass:"container",attrs:{id:"internalReferral"}},[a("div",{staticClass:"row"},[a("h3",[e._v("Proposal: "+e._s(e.proposal.lodgement_number))]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("CommsLogs",{attrs:{comms_url:e.comms_url,logs_url:e.logs_url,comms_add_url:"test"}}),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[e._v("\n                   Submission \n                ")]),e._v(" "),a("div",{staticClass:"panel-body panel-collapse"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("strong",[e._v("Submitted by")]),a("br"),e._v("\n                            "+e._s(e.proposal.submitter)+"\n                        ")]),e._v(" "),a("div",{staticClass:"col-sm-12 top-buffer-s"},[a("strong",[e._v("Lodged on")]),a("br"),e._v("\n                            "+e._s(e._f("formatDate")(e.proposal.lodgement_date))+"\n                        ")]),e._v(" "),e._m(0)])])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[e._v("\n                    Workflow \n                ")]),e._v(" "),a("div",{staticClass:"panel-body panel-collapse"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("strong",[e._v("Status")]),a("br"),e._v("\n                            "+e._s(e.proposal.processing_status)+"\n                        ")]),e._v(" "),e._m(1),e._v(" "),a("div",{staticClass:"col-sm-12 top-buffer-s"},[a("strong",[e._v("Referrals")]),a("br"),e._v(" "),e.isFinalised?e._e():a("div",{staticClass:"form-group"},[a("select",{ref:"department_users",staticClass:"form-control",attrs:{disabled:e.isFinalised||e.proposal.can_user_edit}},[a("option",{attrs:{value:"null"}}),e._v(" "),e._l(e.department_users,function(t){return a("option",{domProps:{value:t.email}},[e._v(e._s(t.name))])})],2),e._v(" "),e.sendingReferral?[e.isFinalised||e.proposal.can_user_edit||1!=e.referral.sent_from?e._e():a("span",{staticClass:"text-primary pull-right"},[e._v("\n                                        Sending Referral\n                                        "),a("i",{staticClass:"fa fa-circle-o-notch fa-spin fa-fw"})])]:[e.selected_referral?[e.isFinalised||e.proposal.can_user_edit||1!=e.referral.sent_from?e._e():a("a",{staticClass:"actionBtn pull-right",on:{click:function(t){t.preventDefault(),e.sendReferral()}}},[e._v("Send")])]:e._e()]],2),e._v(" "),a("table",{staticClass:"table small-table"},[e._m(2),e._v(" "),e._l(e.proposal.latest_referrals,function(t){return a("tr",[a("td",[a("small",[a("strong",[e._v(e._s(t.referral))])]),a("br"),e._v(" "),a("small",[a("strong",[e._v(e._s(e._f("formatDate")(t.lodged_on)))])])]),e._v(" "),a("td",[a("small",[a("strong",[e._v(e._s(t.processing_status))])])])])})],2),e._v(" "),a("MoreReferrals",{attrs:{proposal:e.proposal,canAction:!1,isFinalised:e.isFinalised},on:{refreshFromResponse:e.refreshFromResponse}})],1),e._v(" "),e._m(3),e._v(" "),e.isFinalised||e.referral.referral!=e.proposal.current_assessor.id?e._e():a("div",{staticClass:"col-sm-12 top-buffer-s"},[e._m(4),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("button",{staticClass:"btn btn-primary top-buffer-s",staticStyle:{width:"80%"},attrs:{disabled:e.proposal.can_user_edit},on:{click:function(t){t.preventDefault(),e.completeReferral(t)}}},[e._v("Complete Referral")])])])])])])])])],1),e._v(" "),a("div",{staticClass:"col-md-1"}),e._v(" "),a("div",{staticClass:"col-md-8"},[a("div",{staticClass:"row"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"col-md-12"},[e._m(5)]),e._v(" "),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Applicant\n                                "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.detailsBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"true","aria-controls":e.detailsBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-up pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body panel-collapse collapse in",attrs:{id:e.detailsBody}},[a("form",{staticClass:"form-horizontal"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Name")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.proposal.applicant.name,expression:"proposal.applicant.name"}],staticClass:"form-control",attrs:{disabled:"",type:"text",name:"applicantName",placeholder:""},domProps:{value:e.proposal.applicant.name},on:{input:function(t){t.target.composing||e.$set(e.proposal.applicant,"name",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("ABN/ACN")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.proposal.applicant.abn,expression:"proposal.applicant.abn"}],staticClass:"form-control",attrs:{disabled:"",type:"text",name:"applicantABN",placeholder:""},domProps:{value:e.proposal.applicant.abn},on:{input:function(t){t.target.composing||e.$set(e.proposal.applicant,"abn",t.target.value)}}})])])])])])])]),e._v(" "),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Address Details\n                                "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.addressBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"false","aria-controls":e.addressBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-down pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body panel-collapse collapse",attrs:{id:e.addressBody}},[a("form",{staticClass:"form-horizontal"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Street")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.proposal.applicant.address.line1,expression:"proposal.applicant.address.line1"}],staticClass:"form-control",attrs:{disabled:"",type:"text",name:"street",placeholder:""},domProps:{value:e.proposal.applicant.address.line1},on:{input:function(t){t.target.composing||e.$set(e.proposal.applicant.address,"line1",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Town/Suburb")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.proposal.applicant.address.locality,expression:"proposal.applicant.address.locality"}],staticClass:"form-control",attrs:{disabled:"",type:"text",name:"surburb",placeholder:""},domProps:{value:e.proposal.applicant.address.locality},on:{input:function(t){t.target.composing||e.$set(e.proposal.applicant.address,"locality",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("State")]),e._v(" "),a("div",{staticClass:"col-sm-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.proposal.applicant.address.state,expression:"proposal.applicant.address.state"}],staticClass:"form-control",attrs:{disabled:"",type:"text",name:"country",placeholder:""},domProps:{value:e.proposal.applicant.address.state},on:{input:function(t){t.target.composing||e.$set(e.proposal.applicant.address,"state",t.target.value)}}})]),e._v(" "),a("label",{staticClass:"col-sm-2 control-label",attrs:{for:""}},[e._v("Postcode")]),e._v(" "),a("div",{staticClass:"col-sm-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.proposal.applicant.address.postcode,expression:"proposal.applicant.address.postcode"}],staticClass:"form-control",attrs:{disabled:"",type:"text",name:"postcode",placeholder:""},domProps:{value:e.proposal.applicant.address.postcode},on:{input:function(t){t.target.composing||e.$set(e.proposal.applicant.address,"postcode",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[e._v("Country")]),e._v(" "),a("div",{staticClass:"col-sm-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.proposal.applicant.address.country,expression:"proposal.applicant.address.country"}],staticClass:"form-control",attrs:{disabled:"",type:"text",name:"country"},domProps:{value:e.proposal.applicant.address.country},on:{input:function(t){t.target.composing||e.$set(e.proposal.applicant.address,"country",t.target.value)}}})])])])])])])]),e._v(" "),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("Contact Details\n                                "),a("a",{staticClass:"panelClicker",attrs:{href:"#"+e.contactsBody,"data-toggle":"collapse","data-parent":"#userInfo",expanded:"false","aria-controls":e.contactsBody}},[a("span",{staticClass:"glyphicon glyphicon-chevron-down pull-right "})])])]),e._v(" "),a("div",{staticClass:"panel-body panel-collapse collapse",attrs:{id:e.contactsBody}},[a("table",{ref:"contacts_datatable",staticClass:"hover table table-striped table-bordered dt-responsive",attrs:{id:e.contacts_table_id,cellspacing:"0",width:"100%"}})])])])]),e._v(" "),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"row"},[a("form",{attrs:{action:e.proposal_form_url,method:"post",name:"new_proposal",enctype:"multipart/form-data"}},[e.proposal?a("Proposal",{attrs:{form_width:"inherit",withSectionsSelector:!1,proposal:e.proposal}},[a("input",{attrs:{type:"hidden",name:"csrfmiddlewaretoken"},domProps:{value:e.csrf_token}}),e._v(" "),a("input",{attrs:{type:"hidden",name:"schema"},domProps:{value:JSON.stringify(e.proposal)}}),e._v(" "),a("input",{attrs:{type:"hidden",name:"proposal_id"},domProps:{value:1}}),e._v(" "),e.proposal.can_user_edit?e._e():a("div",{staticClass:"row",staticStyle:{"margin-bottom":"20px"}},[e.isFinalised?e._e():a("div",{staticClass:"col-lg-12 pull-right"},[a("button",{staticClass:"btn btn-primary pull-right",on:{click:function(t){t.preventDefault(),e.save()}}},[e._v("Save Changes")])])])]):e._e()],1)])])])])])]):e._e()},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-sm-12 top-buffer-s"},[a("table",{staticClass:"table small-table"},[a("tr",[a("th",[e._v("Lodgment")]),e._v(" "),a("th",[e._v("Date")]),e._v(" "),a("th",[e._v("Action")])])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"separator"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",[a("th",[e._v("Referral")]),e._v(" "),a("th",[e._v("Status/Action")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"separator"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("strong",[e._v("Action")]),a("br")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",[e._v("Level of Approval")])]),e._v(" "),a("div",{staticClass:"panel-body panel-collapse"})])])}]}},,,function(e,t){}],[272]);
//# sourceMappingURL=app.js.map